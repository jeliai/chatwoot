(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{163:function(n,t,e){"use strict";e.d(t,"a",(function(){return a})),e.d(t,"b",(function(){return s})),e.d(t,"c",(function(){return r})),e.d(t,"d",(function(){return i}));var a=function(n,t,e){var a;return function(){var r=null,s=arguments,i=function(){a=null,e||n.apply(r,s)},o=e&&!a;clearTimeout(a),a=window.setTimeout(i,t),o&&n.apply(r,s)}},r=function(n){var t=n.replace("#","");return.299*parseInt(t.slice(0,2),16)+.587*parseInt(t.slice(2,4),16)+.114*parseInt(t.slice(4,6),16)>186?"#000000":"#FFFFFF"},s=function(n){var t="";if(n>=60&&n<3600){var e=Math.floor(n/60);t=e+" Min";var a=60===e?0:Math.floor(n%60);return t+(a>0?" "+a+" Sec":"")}if(n>=3600&&n<86400){var r=Math.floor(n/3600);t=r+" Hr";var s=n%3600<60||24===r?0:Math.floor(n%3600/60);return t+(s>0?" "+s+" Min":"")}if(n>=86400){var i=Math.floor(n/86400);t=i+" Day";var o=n%86400<3600||i>=364?0:Math.floor(n%86400/3600);return t+(o>0?" "+o+" Hr":"")}return Math.floor(n)+" Sec"},i=function(n,t,e){void 0===n&&(n=""),void 0===t&&(t=1024),void 0===e&&(e=!1);var a=n;return n.length>t&&(a=n.substring(0,t)),e&&(a+="..."),a}},1898:function(n,t,e){"use strict";e(656)},1899:function(n,t,e){(t=e(14)(!0)).push([n.i,".avatar-container[data-v-fce88f76]{\n  display:flex;\n  line-height:100%;\n  font-weight:500;\n  align-items:center;\n  justify-content:center;\n  text-align:center;\n  background-image:linear-gradient(to top, var(--w-100) 0%, var(--w-75) 100%);\n  color:var(--w-600);\n  cursor:default\n}","",{version:3,sources:["/Users/s.dastan/Desktop/chatwoot/chatwoot/app/javascript/dashboard/components/widgets/Avatar.vue"],names:[],mappings:"AAyCA;EACE,YAAA;EACA,gBAAA;EACA,eAAA;EACA,kBAAA;EACA,sBAAA;EACA,iBAAA;EACA,2EAAA;EACA,kBAAA;EACA;AAAA",file:"Avatar.vue",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.avatar-container {\n  display: flex;\n  line-height: 100%;\n  font-weight: 500;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  background-image: linear-gradient(to top, var(--w-100) 0%, var(--w-75) 100%);\n  color: var(--w-600);\n  cursor: default;\n}\n"]}]),n.exports=t},1900:function(n,t,e){"use strict";e(657)},1901:function(n,t,e){(t=e(14)(!0)).push([n.i,'.user-thumbnail-box[data-v-4240ad79]{\n  flex:0 0 auto;\n  max-width:100%;\n  position:relative\n}\n.user-thumbnail-box.is-rounded[data-v-4240ad79]{\n  border-radius:50%\n}\n.user-thumbnail-box .user-thumbnail[data-v-4240ad79]{\n  border-radius:50%;\n  height:100%;\n  width:100%;\n  box-sizing:border-box;\n  -o-object-fit:cover;\n  object-fit:cover;\n  vertical-align:baseline;\n  vertical-align:initial\n}\n.user-thumbnail-box .user-thumbnail.thumbnail-square[data-v-4240ad79]{\n  border-radius:var(--border-radius-large)\n}\n.user-thumbnail-box .user-thumbnail.border[data-v-4240ad79]{\n  border:1px solid #fff\n}\n.user-thumbnail-box .source-badge[data-v-4240ad79]{\n  background:#fff;\n  border-radius:var(--border-radius-small);\n  bottom:var(--space-minus-micro);\n  box-shadow:var(--shadow-small);\n  height:var(--space-slab);\n  padding:var(--space-micro);\n  position:absolute;\n  right:0;\n  width:var(--space-slab)\n}\n.user-thumbnail-box .user-online-status[data-v-4240ad79]{\n  border-radius:50%;\n  bottom:var(--space-micro)\n}\n.user-thumbnail-box .user-online-status[data-v-4240ad79]:after{\n  content:" "\n}\n.user-thumbnail-box .user-online-status--online[data-v-4240ad79]{\n  background:var(--g-400)\n}\n.user-thumbnail-box .user-online-status--busy[data-v-4240ad79]{\n  background:var(--y-500)\n}\n.user-thumbnail-box .user-online-status--offline[data-v-4240ad79]{\n  background:var(--s-500)\n}',"",{version:3,sources:["/Users/s.dastan/Desktop/chatwoot/chatwoot/app/javascript/dashboard/components/widgets/Thumbnail.vue"],names:[],mappings:"AAsKA;EACE,aAAA;EACA,cAAA;EACA;AAAA;AAEA;EACE;AAAA;AAGF;EACE,iBAAA;EAIA,WAAA;EACA,UAAA;EACA,qBAAA;EACA,mBAAA;EAAA,gBAAA;EACA,uBAAA;EAAA;AAAA;AAPA;EACE;AAAA;AAQF;EACE;AAAA;AAIJ;EACE,eAAA;EACA,wCAAA;EACA,+BAAA;EACA,8BAAA;EACA,wBAAA;EACA,0BAAA;EACA,iBAAA;EACA,OAAA;EACA;AAAA;AAGF;EACE,iBAAA;EACA;AAAA;AAEA;EACE;AAAA;AAIJ;EACE;AAAA;AAGF;EACE;AAAA;AAGF;EACE;AAAA",file:"Thumbnail.vue",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.user-thumbnail-box {\n  flex: 0 0 auto;\n  max-width: 100%;\n  position: relative;\n\n  &.is-rounded {\n    border-radius: 50%;\n  }\n\n  .user-thumbnail {\n    border-radius: 50%;\n    &.thumbnail-square {\n      border-radius: var(--border-radius-large);\n    }\n    height: 100%;\n    width: 100%;\n    box-sizing: border-box;\n    object-fit: cover;\n    vertical-align: initial;\n\n    &.border {\n      border: 1px solid white;\n    }\n  }\n\n  .source-badge {\n    background: white;\n    border-radius: var(--border-radius-small);\n    bottom: var(--space-minus-micro);\n    box-shadow: var(--shadow-small);\n    height: var(--space-slab);\n    padding: var(--space-micro);\n    position: absolute;\n    right: 0;\n    width: var(--space-slab);\n  }\n\n  .user-online-status {\n    border-radius: 50%;\n    bottom: var(--space-micro);\n\n    &:after {\n      content: ' ';\n    }\n  }\n\n  .user-online-status--online {\n    background: var(--g-400);\n  }\n\n  .user-online-status--busy {\n    background: var(--y-500);\n  }\n\n  .user-online-status--offline {\n    background: var(--s-500);\n  }\n}\n"]}]),n.exports=t},1902:function(n,t,e){var a=e(34),r=e(269);n.exports=function(n){return a((function(){return!!r[n]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[n]()||r[n].name!==n}))}},3149:function(n,t,e){"use strict";e.r(t);e(6),e(3),e(5),e(11),e(8),e(12);var a=e(343),r=e(4),s=e(163),i=(e(42),e(48),e(24),{name:"GroupedAvatars",components:{Thumbnail:e(59).a},props:{users:{type:Array,default:function(){return[]}}}}),o=e(1),u={name:"AvailableAgents",components:{GroupedAvatars:Object(o.a)(i,(function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"flex"},n._l(n.users,(function(n,t){return e("span",{key:n.id,class:(t?"-ml-4":"")+" inline-block rounded-full text-white shadow-solid"},[e("thumbnail",{attrs:{size:"40px",username:n.name,src:n.avatar,"has-border":""}})],1)})),0)}),[],!1,null,null,null).exports},props:{agents:{type:Array,default:function(){return[]}}},computed:{users:function(){return this.agents.slice(0,5).map((function(n){return{id:n.id,avatar:n.avatar_url,name:n.name}}))}}},l=Object(o.a)(u,(function(){var n=this,t=n.$createElement;return(n._self._c||t)("grouped-avatars",{attrs:{users:n.users}})}),[],!1,null,null,null).exports,c=e(658),d=e(604),A=e(266);function b(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,a)}return e}function f(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?b(Object(e),!0).forEach((function(t){h(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):b(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function h(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var p={name:"TeamAvailability",components:{AvailableAgents:l,CustomButton:c.a},mixins:[a.a,d.a,A.a],props:{availableAgents:{type:Array,default:function(){}},hasConversation:{type:Boolean,default:!1}},computed:f(f({},Object(r.mapGetters)({widgetColor:"appConfig/getWidgetColor"})),{},{textColor:function(){return Object(s.c)(this.widgetColor)},isOnline:function(){var n=this.channelConfig.workingHoursEnabled,t=this.availableAgents.length>0;return n?this.isInBetweenTheWorkingHours:t},replyWaitMessage:function(){var n=this.channelConfig.workingHoursEnabled;return this.isOnline?this.replyTimeStatus:n?this.outOfOfficeMessage:""}}),methods:{startConversation:function(){this.$emit("start-conversation")}}},v=Object(o.a)(p,(function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"px-5"},[e("div",{staticClass:"flex items-center justify-between mb-4"},[e("div",{staticClass:"max-w-xs",class:n.$dm("text-black-700","dark:text-slate-50")},[e("div",{staticClass:"text-base leading-5 font-medium mb-1"},[n._v("\n        "+n._s(n.isOnline?n.$t("TEAM_AVAILABILITY.ONLINE"):n.$t("TEAM_AVAILABILITY.OFFLINE"))+"\n      ")]),n._v(" "),e("div",{staticClass:"text-xs leading-4 mt-1"},[n._v("\n        "+n._s(n.replyWaitMessage)+"\n      ")])]),n._v(" "),n.isOnline?e("available-agents",{attrs:{agents:n.availableAgents}}):n._e()],1),n._v(" "),e("custom-button",{staticClass:"font-medium",attrs:{block:"","bg-color":n.widgetColor,"text-color":n.textColor},on:{click:n.startConversation}},[n._v("\n    "+n._s(n.hasConversation?n.$t("CONTINUE_CONVERSATION"):n.$t("START_CONVERSATION"))+"\n  ")])],1)}),[],!1,null,null,null).exports,m=e(575);function g(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,a)}return e}function C(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var w={name:"Home",components:{TeamAvailability:v},mixins:[a.a,m.a],props:{hasFetched:{type:Boolean,default:!1},isCampaignViewClicked:{type:Boolean,default:!1}},data:function(){return{}},computed:function(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?g(Object(e),!0).forEach((function(t){C(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):g(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}({},Object(r.mapGetters)({availableAgents:"agent/availableAgents",activeCampaign:"campaign/getActiveCampaign",conversationSize:"conversation/getConversationSize"})),methods:{startConversation:function(){return this.preChatFormEnabled&&!this.conversationSize?this.replaceRoute("prechat-form"):this.replaceRoute("messages")}}},y=w,x=Object(o.a)(y,(function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"flex flex-1 flex-col justify-end"},[e("div",{staticClass:"flex flex-1 overflow-auto"}),n._v(" "),e("team-availability",{attrs:{"available-agents":n.availableAgents,"has-conversation":!!n.conversationSize},on:{"start-conversation":n.startConversation}})],1)}),[],!1,null,null,null);t.default=x.exports},573:function(n,t,e){"use strict";e.d(t,"a",(function(){return a})),e.d(t,"b",(function(){return r}));e(616),e(49),e(69);var a=function(){var n=12*(window.devicePixelRatio||1),t=document.createElement("canvas");if(!t.getContext||!t.getContext("2d")||"function"!==typeof t.getContext("2d").fillText)return!1;var e=t.getContext("2d");return e.fillStyle="#f00",e.textBaseline="top",e.font="32px Arial",e.fillText("\ud83d\udc28",0,0),0!==e.getImageData(n,n,1,1).data[0]},r=function(n){return n?n.replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,"").replace(/\s+/g," ").trim():""}},59:function(n,t,e){"use strict";e(33),e(49),e(69),e(32),e(267),e(164);var a={name:"Avatar",props:{username:{type:String,default:""},size:{type:Number,default:40}},computed:{style:function(){return{fontSize:"".concat(Math.floor(this.size/2.5),"px")}},userInitial:function(){var n=this.username.split(/[ -]/).reduce((function(n,t){return n+t.charAt(0)}),"");return n.length>2&&-1!==n.search(/[A-Z]/)&&(n=n.replace(/[a-z]+/g,"")),n=n.substring(0,2).toUpperCase()}}},r=(e(1898),e(1)),s=Object(r.a)(a,(function(){var n=this,t=n.$createElement;return(n._self._c||t)("div",{staticClass:"avatar-container",style:n.style,attrs:{"aria-hidden":"true"}},[n._v("\n  "+n._s(n.userInitial)+"\n")])}),[],!1,null,"fce88f76",null).exports,i=e(573),o={components:{Avatar:s},props:{src:{type:String,default:""},size:{type:String,default:"40px"},badge:{type:String,default:""},username:{type:String,default:""},status:{type:String,default:""},hasBorder:{type:Boolean,default:!1},shouldShowStatusAlways:{type:Boolean,default:!1},title:{type:String,default:""},variant:{type:String,default:"circle"}},data:function(){return{hasImageLoaded:!1,imgError:!1}},computed:{userNameWithoutEmoji:function(){return Object(i.b)(this.username)},showStatusIndicator:function(){return!!this.shouldShowStatusAlways||("online"===this.status||"busy"===this.status)},avatarSize:function(){return Number(this.size.replace(/\D+/g,""))},badgeSrc:function(){return{instagram_direct_message:"instagram-dm",facebook:"messenger","twitter-tweet":"twitter-tweet","twitter-dm":"twitter-dm",whatsapp:"whatsapp",sms:"sms","Channel::Line":"line","Channel::Telegram":"telegram","Channel::WebWidget":""}[this.badge]},badgeStyle:function(){var n=Math.floor(this.avatarSize/3),t="".concat(n+2,"px");return{width:t,height:t,borderRadius:"".concat(n/2,"px")}},statusStyle:function(){var n="".concat(this.avatarSize/4,"px");return{width:n,height:n}},thumbnailClass:function(){var n=this.hasBorder?"border":"",t="circle"===this.variant?"thumbnail-rounded":"thumbnail-square";return"user-thumbnail ".concat(n," ").concat(t)},thumbnailBoxClass:function(){var n="circle"===this.variant?"is-rounded":"";return"user-thumbnail-box ".concat(n)},shouldShowImage:function(){return!!this.src&&(!!this.hasImageLoaded&&!this.imgError)}},watch:{src:function(n,t){n!==t&&this.imgError&&(this.imgError=!1)}},methods:{onImgError:function(){this.imgError=!0},onImgLoad:function(){this.hasImageLoaded=!0}}},u=(e(1900),Object(r.a)(o,(function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{class:n.thumbnailBoxClass,style:{height:n.size,width:n.size},attrs:{title:n.title}},[e("img",{directives:[{name:"show",rawName:"v-show",value:n.shouldShowImage,expression:"shouldShowImage"}],class:n.thumbnailClass,attrs:{src:n.src},on:{load:n.onImgLoad,error:n.onImgError}}),n._v(" "),e("Avatar",{directives:[{name:"show",rawName:"v-show",value:!n.shouldShowImage,expression:"!shouldShowImage"}],class:n.thumbnailClass,attrs:{username:n.userNameWithoutEmoji,size:n.avatarSize}}),n._v(" "),n.badgeSrc?e("img",{staticClass:"source-badge",style:n.badgeStyle,attrs:{src:"/integrations/channels/badges/"+n.badgeSrc+".png",alt:"Badge"}}):n._e(),n._v(" "),n.showStatusIndicator?e("div",{class:"source-badge user-online-status user-online-status--"+n.status,style:n.statusStyle}):n._e()],1)}),[],!1,null,"4240ad79",null));t.a=u.exports},616:function(n,t,e){"use strict";var a=e(36),r=e(268).trim;a({target:"String",proto:!0,forced:e(1902)("trim")},{trim:function(){return r(this)}})},656:function(n,t,e){var a=e(13),r=e(1899);"string"===typeof(r=r.__esModule?r.default:r)&&(r=[[n.i,r,""]]);var s={insert:"head",singleton:!1};a(r,s);n.exports=r.locals||{}},657:function(n,t,e){var a=e(13),r=e(1901);"string"===typeof(r=r.__esModule?r.default:r)&&(r=[[n.i,r,""]]);var s={insert:"head",singleton:!1};a(r,s);n.exports=r.locals||{}},658:function(n,t,e){"use strict";e(6);var a={props:{block:{type:Boolean,default:!1},type:{type:String,default:"blue"},bgColor:{type:String,default:""},textColor:{type:String,default:""},disabled:{type:Boolean,default:!1}},computed:{buttonClassName:function(){var n="text-white py-3 px-4 rounded shadow-sm";return"clear"===this.type&&(n="flex mx-auto mt-4 text-xs w-auto text-black-600"),"blue"!==this.type||Object.keys(this.buttonStyles).length||(n="".concat(n," bg-woot-500 hover:bg-woot-700")),this.block&&(n="".concat(n," w-full")),n},buttonStyles:function(){var n={};return this.bgColor&&(n.backgroundColor=this.bgColor),this.textColor&&(n.color=this.textColor),n}},methods:{onClick:function(n){this.$emit("click",n)}}},r=e(1),s=Object(r.a)(a,(function(){var n=this,t=n.$createElement;return(n._self._c||t)("button",{class:n.buttonClassName,style:n.buttonStyles,attrs:{disabled:n.disabled},on:{click:n.onClick}},[n._t("default")],2)}),[],!1,null,null,null);t.a=s.exports}}]);
//# sourceMappingURL=23-38686faca242aa5cefd6.chunk.js.map