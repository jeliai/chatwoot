{"version":3,"sources":["webpack:///./app/javascript/dashboard/routes/dashboard/helpcenter/pages/articles/NewArticle.vue?3e45","webpack:///./app/javascript/dashboard/routes/dashboard/helpcenter/pages/articles/NewArticle.vue?c312","webpack:///./app/javascript/dashboard/routes/dashboard/helpcenter/pages/articles/NewArticle.vue?7106","webpack:///./app/javascript/dashboard/routes/dashboard/helpcenter/pages/articles/NewArticle.vue?94e3","webpack:///app/javascript/dashboard/routes/dashboard/helpcenter/pages/articles/NewArticle.vue","webpack:///./app/javascript/dashboard/routes/dashboard/helpcenter/pages/articles/NewArticle.vue?b583","webpack:///./app/javascript/dashboard/routes/dashboard/helpcenter/pages/articles/NewArticle.vue"],"names":["api","content","__esModule","default","module","i","options","exports","locals","___CSS_LOADER_API_IMPORT___","push","component","_vm","this","_h","$createElement","_c","_self","staticClass","class","showArticleSettings","attrs","$t","on","onClickGoBack","openArticleSettings","closeArticleSettings","createNewArticle","_v","newArticle","article","saveArticle","_e"],"mappings":"+EAAA,IAAIA,EAAM,EAAQ,IACFC,EAAU,EAAQ,MAIC,kBAFvBA,EAAUA,EAAQC,WAAaD,EAAQE,QAAUF,KAG/CA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAG9C,IAAIK,EAAU,CAEdA,OAAiB,OACjBA,WAAoB,GAEPN,EAAIC,EAASK,GAI1BF,EAAOG,QAAUN,EAAQO,QAAU,I,kCClBnC,S,sBCEAD,EADkC,EAAQ,GAChCE,EAA4B,IAE9BC,KAAK,CAACN,EAAOC,EAAI,8SAA+S,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,gIAAgI,MAAQ,GAAG,SAAW,uHAAuH,KAAO,iBAAiB,eAAiB,CAAC,gfAE1pBD,EAAOG,QAAUA,G,iGCNjB,I,s2BC8BA,OACA,YACA,sBACA,kBACA,qBAEA,iBACA,KAPA,WAQA,OACA,gBACA,kBACA,yBACA,uBACA,aAGA,gBACA,sBACA,iCACA,6BACA,yCAJA,IAMA,UANA,WAOA,uCAEA,WATA,WAUA,6DAEA,mBAZA,WAaA,sCAEA,WAfA,WAgBA,4DAGA,SACA,cADA,WAEA,sDAEA,iBAJA,YAIA,I,EAAA,c,EAAA,2JACA,sBACA,sBACA,yBACA,kCAJA,0CAMC,EAAD,mCACA,gCACA,yBACA,qBACA,0BAEA,2BAZA,OAMA,EANA,OAcA,gBACA,oBACA,QACA,cACA,gCACA,mBAnBA,kDAuBA,gBACA,iDACA,qDACA,4BA1BA,yD,kLA8BA,oBAlCA,WAmCA,6BAEA,qBArCA,WAsCA,6BAEA,YAxCA,WAyCA,sEACA,qCC3GwO,I,iBCQpOI,EAAY,YACd,GHTW,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,MAAM,CAACE,YAAY,yBAAyBC,MAAM,CAAE,kBAAmBP,EAAIQ,sBAAuB,CAACJ,EAAG,sBAAsB,CAACK,MAAM,CAAC,oBAAoBT,EAAIU,GAAG,0CAA0C,cAAc,SAASC,GAAG,CAAC,KAAOX,EAAIY,cAAc,KAAOZ,EAAIa,oBAAoB,MAAQb,EAAIc,qBAAqB,eAAed,EAAIe,oBAAoBf,EAAIgB,GAAG,KAAKZ,EAAG,iBAAiB,CAACK,MAAM,CAAC,QAAUT,EAAIiB,YAAYN,GAAG,CAAC,eAAeX,EAAIe,qBAAqB,GAAGf,EAAIgB,GAAG,KAAMhB,EAAuB,oBAAEI,EAAG,mBAAmB,CAACK,MAAM,CAAC,QAAUT,EAAIkB,SAASP,GAAG,CAAC,eAAeX,EAAImB,eAAenB,EAAIoB,MAAM,KACztB,IGWpB,EACA,KACA,WACA,MAIa,UAAArB,E","file":"js/38-4dfde09bba77e0efbee2.chunk.js","sourcesContent":["var api = require(\"!../../../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../node_modules/postcss-loader/src/index.js??ref--3-2!../../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewArticle.vue?vue&type=style&index=0&id=45674c72&lang=scss&scoped=true&\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","export * from \"-!../../../../../../../../node_modules/style-loader/dist/cjs.js!../../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../node_modules/postcss-loader/src/index.js??ref--3-2!../../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewArticle.vue?vue&type=style&index=0&id=45674c72&lang=scss&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(true);\n// Module\nexports.push([module.id, \".article-container[data-v-45674c72]{\\n  display:flex;\\n  padding:0 var(--space-normal);\\n  width:100%;\\n  flex:1 1;\\n  overflow:auto\\n}\\n.new-article--container[data-v-45674c72]{\\n  flex:1 1;\\n  flex-shrink:0;\\n  overflow-y:auto\\n}\\n.is-sidebar-open[data-v-45674c72]{\\n  flex:.7 1;\\n  flex-grow:1\\n}\", \"\",{\"version\":3,\"sources\":[\"/Users/s.dastan/Desktop/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/helpcenter/pages/articles/NewArticle.vue\"],\"names\":[],\"mappings\":\"AAkHA;EACE,YAAA;EACA,6BAAA;EACA,UAAA;EACA,QAAA;EACA;AAAA;AAEF;EACE,QAAA;EACA,aAAA;EACA;AAAA;AAEF;EACE,SAAA;EACA;AAAA\",\"file\":\"NewArticle.vue\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n.article-container {\\n  display: flex;\\n  padding: 0 var(--space-normal);\\n  width: 100%;\\n  flex: 1;\\n  overflow: auto;\\n}\\n.new-article--container {\\n  flex: 1;\\n  flex-shrink: 0;\\n  overflow-y: auto;\\n}\\n.is-sidebar-open {\\n  flex: 0.7;\\n  flex-grow: 1;\\n}\\n\"]}]);\n// Exports\nmodule.exports = exports;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"article-container\"},[_c('div',{staticClass:\"new-article--container\",class:{ 'is-sidebar-open': _vm.showArticleSettings }},[_c('edit-article-header',{attrs:{\"back-button-label\":_vm.$t('HELP_CENTER.HEADER.TITLES.ALL_ARTICLES'),\"draft-state\":\"saved\"},on:{\"back\":_vm.onClickGoBack,\"open\":_vm.openArticleSettings,\"close\":_vm.closeArticleSettings,\"save-article\":_vm.createNewArticle}}),_vm._v(\" \"),_c('article-editor',{attrs:{\"article\":_vm.newArticle},on:{\"save-article\":_vm.createNewArticle}})],1),_vm._v(\" \"),(_vm.showArticleSettings)?_c('article-settings',{attrs:{\"article\":_vm.article},on:{\"save-article\":_vm.saveArticle}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"article-container\">\n    <div\n      class=\"new-article--container\"\n      :class=\"{ 'is-sidebar-open': showArticleSettings }\"\n    >\n      <edit-article-header\n        :back-button-label=\"$t('HELP_CENTER.HEADER.TITLES.ALL_ARTICLES')\"\n        draft-state=\"saved\"\n        @back=\"onClickGoBack\"\n        @open=\"openArticleSettings\"\n        @close=\"closeArticleSettings\"\n        @save-article=\"createNewArticle\"\n      />\n      <article-editor :article=\"newArticle\" @save-article=\"createNewArticle\" />\n    </div>\n    <article-settings\n      v-if=\"showArticleSettings\"\n      :article=\"article\"\n      @save-article=\"saveArticle\"\n    />\n  </div>\n</template>\n<script>\nimport { mapGetters } from 'vuex';\nimport EditArticleHeader from 'dashboard/routes/dashboard/helpcenter/components/Header/EditArticleHeader';\nimport ArticleEditor from '../../components/ArticleEditor.vue';\nimport portalMixin from '../../mixins/portalMixin';\nimport alertMixin from 'shared/mixins/alertMixin.js';\nimport ArticleSettings from './ArticleSettings.vue';\nexport default {\n  components: {\n    EditArticleHeader,\n    ArticleEditor,\n    ArticleSettings,\n  },\n  mixins: [portalMixin, alertMixin],\n  data() {\n    return {\n      articleTitle: '',\n      articleContent: '',\n      showOpenSidebarButton: false,\n      showArticleSettings: true,\n      article: {},\n    };\n  },\n  computed: {\n    ...mapGetters({\n      currentUserID: 'getCurrentUserID',\n      articles: 'articles/articles',\n      categories: 'categories/allCategories',\n    }),\n    articleId() {\n      return this.$route.params.articleSlug;\n    },\n    newArticle() {\n      return { title: this.articleTitle, content: this.articleContent };\n    },\n    selectedPortalSlug() {\n      return this.$route.params.portalSlug;\n    },\n    categoryId() {\n      return this.categories.length ? this.categories[0].id : null;\n    },\n  },\n  methods: {\n    onClickGoBack() {\n      this.$router.push({ name: 'list_all_locale_articles' });\n    },\n    async createNewArticle({ ...values }) {\n      const { title, content } = values;\n      if (title) this.articleTitle = title;\n      if (content) this.articleContent = content;\n      if (this.articleTitle && this.articleContent) {\n        try {\n          const articleId = await this.$store.dispatch('articles/create', {\n            portalSlug: this.selectedPortalSlug,\n            content: this.articleContent,\n            title: this.articleTitle,\n            author_id: this.currentUserID,\n            // TODO: Change to un categorized later when API supports\n            category_id: this.categoryId,\n          });\n          this.$router.push({\n            name: 'edit_article',\n            params: {\n              articleSlug: articleId,\n              portalSlug: this.selectedPortalSlug,\n              locale: this.locale,\n            },\n          });\n        } catch (error) {\n          this.alertMessage =\n            error?.message ||\n            this.$t('HELP_CENTER.CREATE_ARTICLE.API.ERROR_MESSAGE');\n          this.showAlert(this.alertMessage);\n        }\n      }\n    },\n    openArticleSettings() {\n      this.showArticleSettings = true;\n    },\n    closeArticleSettings() {\n      this.showArticleSettings = false;\n    },\n    saveArticle() {\n      this.alertMessage = this.$t('HELP_CENTER.CREATE_ARTICLE.ERROR_MESSAGE');\n      this.showAlert(this.alertMessage);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.article-container {\n  display: flex;\n  padding: 0 var(--space-normal);\n  width: 100%;\n  flex: 1;\n  overflow: auto;\n}\n.new-article--container {\n  flex: 1;\n  flex-shrink: 0;\n  overflow-y: auto;\n}\n.is-sidebar-open {\n  flex: 0.7;\n  flex-grow: 1;\n}\n</style>\n","import mod from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewArticle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewArticle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NewArticle.vue?vue&type=template&id=45674c72&scoped=true&\"\nimport script from \"./NewArticle.vue?vue&type=script&lang=js&\"\nexport * from \"./NewArticle.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NewArticle.vue?vue&type=style&index=0&id=45674c72&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"45674c72\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}