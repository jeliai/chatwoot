(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{2883:function(t,n,e){var o=e(13),s=e(3041);"string"===typeof(s=s.__esModule?s.default:s)&&(s=[[t.i,s,""]]);var a={insert:"head",singleton:!1};o(s,a);t.exports=s.locals||{}},2884:function(t,n,e){var o=e(13),s=e(3043);"string"===typeof(s=s.__esModule?s.default:s)&&(s=[[t.i,s,""]]);var a={insert:"head",singleton:!1};o(s,a);t.exports=s.locals||{}},2885:function(t,n,e){var o=e(13),s=e(3045);"string"===typeof(s=s.__esModule?s.default:s)&&(s=[[t.i,s,""]]);var a={insert:"head",singleton:!1};o(s,a);t.exports=s.locals||{}},3040:function(t,n,e){"use strict";e(2883)},3041:function(t,n,e){(n=e(14)(!0)).push([t.i,".agent-bot-type--thumbnail[data-v-28b186d3] {\n  width: auto;\n  height: var(--space-slab);\n}\n","",{version:3,sources:["/Users/s.dastan/Desktop/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/agentBots/components/app/javascript/dashboard/routes/dashboard/settings/agentBots/components/AgentBotType.vue"],names:[],mappings:"AAoCA;EACA,WAAA;EACA,yBAAA;AACA",file:"AgentBotType.vue",sourcesContent:["<template>\n  <span>\n    <img\n      v-tooltip=\"botTypeConfig[botType].label\"\n      class=\"agent-bot-type--thumbnail\"\n      :src=\"botTypeConfig[botType].thumbnail\"\n      :alt=\"botTypeConfig[botType].label\"\n    />\n    <span>{{ botTypeConfig[botType].label }}</span>\n  </span>\n</template>\n<script>\nexport default {\n  props: {\n    botType: {\n      type: String,\n      default: 'webhook',\n    },\n  },\n  data() {\n    return {\n      botTypeConfig: {\n        csml: {\n          label: this.$t('AGENT_BOTS.TYPES.CSML'),\n          thumbnail: '/dashboard/images/agent-bots/csml.png',\n        },\n        webhook: {\n          label: this.$t('AGENT_BOTS.TYPES.WEBHOOK'),\n          thumbnail: '/dashboard/images/agent-bots/webhook.svg',\n        },\n      },\n    };\n  },\n};\n<\/script>\n<style scoped>\n.agent-bot-type--thumbnail {\n  width: auto;\n  height: var(--space-slab);\n}\n</style>\n"]}]),t.exports=n},3042:function(t,n,e){"use strict";e(2884)},3043:function(t,n,e){(n=e(14)(!0)).push([t.i,".agent-bot--link[data-v-14a54e62]{\n  align-items:center;\n  color:var(--s-800);\n  display:flex;\n  font-weight:var(--font-weight-medium);\n  word-break:break-word\n}\n.agent-bot--description[data-v-14a54e62]{\n  color:var(--s-700);\n  font-size:var(--font-size-mini)\n}\n.agent-bot--type[data-v-14a54e62]{\n  color:var(--s-600);\n  font-weight:var(--font-weight-medium);\n  margin-bottom:var(--space-small)\n}\n.agent-bot--details[data-v-14a54e62]{\n  width:90%\n}\n.button-wrapper[data-v-14a54e62]{\n  max-width:var(--space-mega);\n  min-width:auto\n}\n.button-wrapper button[data-v-14a54e62]:nth-child(2){\n  margin-left:var(--space-normal)\n}","",{version:3,sources:["/Users/s.dastan/Desktop/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/agentBots/components/AgentBotRow.vue"],names:[],mappings:"AAyDA;EACE,kBAAA;EACA,kBAAA;EACA,YAAA;EACA,qCAAA;EACA;AAAA;AAGF;EACE,kBAAA;EACA;AAAA;AAGF;EACE,kBAAA;EACA,qCAAA;EACA;AAAA;AAGF;EACE;AAAA;AAGF;EACE,2BAAA;EACA;AAAA;AAEA;EACE;AAAA",file:"AgentBotRow.vue",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.agent-bot--link {\n  align-items: center;\n  color: var(--s-800);\n  display: flex;\n  font-weight: var(--font-weight-medium);\n  word-break: break-word;\n}\n\n.agent-bot--description {\n  color: var(--s-700);\n  font-size: var(--font-size-mini);\n}\n\n.agent-bot--type {\n  color: var(--s-600);\n  font-weight: var(--font-weight-medium);\n  margin-bottom: var(--space-small);\n}\n\n.agent-bot--details {\n  width: 90%;\n}\n\n.button-wrapper {\n  max-width: var(--space-mega);\n  min-width: auto;\n\n  button:nth-child(2) {\n    margin-left: var(--space-normal);\n  }\n}\n"]}]),t.exports=n},3044:function(t,n,e){"use strict";e(2885)},3045:function(t,n,e){(n=e(14)(!0)).push([t.i,".bots-list[data-v-3173ac51] {\n  list-style: none;\n}\n.nowrap[data-v-3173ac51] {\n  white-space: nowrap;\n}\n.white-text[data-v-3173ac51] {\n  color: white;\n}\n","",{version:3,sources:["/Users/s.dastan/Desktop/chatwoot/chatwoot/app/javascript/dashboard/routes/dashboard/settings/agentBots/app/javascript/dashboard/routes/dashboard/settings/agentBots/Index.vue"],names:[],mappings:"AA6FA;EACA,gBAAA;AACA;AACA;EACA,mBAAA;AACA;AACA;EACA,YAAA;AACA",file:"Index.vue",sourcesContent:['<template>\n  <div class="column content-box">\n    <div class="row">\n      <div class="small-8 columns with-right-space">\n        <woot-loading-state\n          v-if="uiFlags.isFetching"\n          :message="$t(\'AGENT_BOTS.LIST.LOADING\')"\n        />\n        <table v-else-if="agentBots.length" class="woot-table">\n          <tbody>\n            <agent-bot-row\n              v-for="(agentBot, index) in agentBots"\n              :key="agentBot.id"\n              :agent-bot="agentBot"\n              :index="index"\n              @delete="onDeleteAgentBot"\n              @edit="onEditAgentBot"\n            />\n          </tbody>\n        </table>\n        <p v-else class="no-items-error-message">\n          {{ $t(\'AGENT_BOTS.LIST.404\') }}\n        </p>\n      </div>\n\n      <div class="small-4 columns content-box">\n        <p v-html="$t(\'AGENT_BOTS.SIDEBAR_TXT\')" />\n      </div>\n    </div>\n    <woot-button\n      color-scheme="success"\n      class-names="button--fixed-right-top"\n      icon="add-circle"\n    >\n      <router-link :to="newAgentBotsURL" class="white-text">\n        {{ $t(\'AGENT_BOTS.ADD.TITLE\') }}\n      </router-link>\n    </woot-button>\n    <woot-confirm-modal\n      ref="confirmDialog"\n      :title="$t(\'AGENT_BOTS.DELETE.TITLE\')"\n      :description="$t(\'AGENT_BOTS.DELETE.DESCRIPTION\')"\n    />\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \'vuex\';\nimport { frontendURL } from \'../../../../helper/URLHelper\';\nimport AgentBotRow from \'./components/AgentBotRow.vue\';\nimport alertMixin from \'shared/mixins/alertMixin\';\n\nexport default {\n  components: { AgentBotRow },\n  mixins: [alertMixin],\n  computed: {\n    ...mapGetters({\n      accountId: \'getCurrentAccountId\',\n      agentBots: \'agentBots/getBots\',\n      uiFlags: \'agentBots/getUIFlags\',\n    }),\n    newAgentBotsURL() {\n      return frontendURL(\n        `accounts/${this.accountId}/settings/agent-bots/csml/new`\n      );\n    },\n  },\n  mounted() {\n    this.$store.dispatch(\'agentBots/get\');\n  },\n  methods: {\n    async onDeleteAgentBot(bot) {\n      const ok = await this.$refs.confirmDialog.showConfirmation();\n      if (ok) {\n        try {\n          await this.$store.dispatch(\'agentBots/delete\', bot.id);\n          this.showAlert(this.$t(\'AGENT_BOTS.DELETE.API.SUCCESS_MESSAGE\'));\n        } catch (error) {\n          this.showAlert(this.$t(\'AGENT_BOTS.DELETE.API.ERROR_MESSAGE\'));\n        }\n      }\n    },\n    onEditAgentBot(bot) {\n      this.$router.push(\n        frontendURL(\n          `accounts/${this.accountId}/settings/agent-bots/csml/${bot.id}`\n        )\n      );\n    },\n  },\n};\n<\/script>\n<style scoped>\n.bots-list {\n  list-style: none;\n}\n.nowrap {\n  white-space: nowrap;\n}\n.white-text {\n  color: white;\n}\n</style>\n']}]),t.exports=n},3151:function(t,n,e){"use strict";e.r(n);e(32),e(6),e(3),e(5),e(11),e(8),e(12),e(7),e(20),e(21);var o=e(4),s=e(19),a=(e(33),e(938)),i={props:{botType:{type:String,default:"webhook"}},data:function(){return{botTypeConfig:{csml:{label:this.$t("AGENT_BOTS.TYPES.CSML"),thumbnail:"/dashboard/images/agent-bots/csml.png"},webhook:{label:this.$t("AGENT_BOTS.TYPES.WEBHOOK"),thumbnail:"/dashboard/images/agent-bots/webhook.svg"}}}}},r=(e(3040),e(1)),c=Object(r.a)(i,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("span",[e("img",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.botTypeConfig[t.botType].label,expression:"botTypeConfig[botType].label"}],staticClass:"agent-bot-type--thumbnail",attrs:{src:t.botTypeConfig[t.botType].thumbnail,alt:t.botTypeConfig[t.botType].label}}),t._v(" "),e("span",[t._v(t._s(t.botTypeConfig[t.botType].label))])])}),[],!1,null,"28b186d3",null).exports,l={components:{ShowMore:a.a,AgentBotType:c},props:{agentBot:{type:Object,required:!0},index:{type:Number,required:!0}},computed:{isACSMLTypeBot:function(){return"csml"===this.agentBot.bot_type}}};e(3042);function p(t,n,e,o,s,a,i){try{var r=t[a](i),c=r.value}catch(l){return void e(l)}r.done?n(c):Promise.resolve(c).then(o,s)}function A(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,o)}return e}function d(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?A(Object(e),!0).forEach((function(n){u(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):A(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function u(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var g={components:{AgentBotRow:Object(r.a)(l,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("tr",[e("td",{staticClass:"agent-bot--details"},[e("div",{staticClass:"agent-bot--link"},[t._v("\n      "+t._s(t.agentBot.name)+"\n      ("),e("agent-bot-type",{attrs:{"bot-type":t.agentBot.bot_type}}),t._v(")\n    ")],1),t._v(" "),e("div",{staticClass:"agent-bot--description"},[e("show-more",{attrs:{text:t.agentBot.description,limit:120}})],1)]),t._v(" "),e("td",{staticClass:"button-wrapper"},[t.isACSMLTypeBot?e("woot-button",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:t.$t("AGENT_BOTS.EDIT.BUTTON_TEXT"),expression:"$t('AGENT_BOTS.EDIT.BUTTON_TEXT')",modifiers:{top:!0}}],attrs:{variant:"smooth",size:"tiny","color-scheme":"secondary",icon:"edit"},on:{click:function(n){return t.$emit("edit",t.agentBot)}}}):t._e(),t._v(" "),e("woot-button",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:t.$t("AGENT_BOTS.DELETE.BUTTON_TEXT"),expression:"$t('AGENT_BOTS.DELETE.BUTTON_TEXT')",modifiers:{top:!0}}],attrs:{variant:"smooth","color-scheme":"alert",size:"tiny",icon:"dismiss-circle"},on:{click:function(n){return t.$emit("delete",t.agentBot,t.index)}}})],1)])}),[],!1,null,"14a54e62",null).exports},mixins:[e(18).a],computed:d(d({},Object(o.mapGetters)({accountId:"getCurrentAccountId",agentBots:"agentBots/getBots",uiFlags:"agentBots/getUIFlags"})),{},{newAgentBotsURL:function(){return Object(s.c)("accounts/".concat(this.accountId,"/settings/agent-bots/csml/new"))}}),mounted:function(){this.$store.dispatch("agentBots/get")},methods:{onDeleteAgentBot:function(t){var n,e=this;return(n=regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$refs.confirmDialog.showConfirmation();case 2:if(!n.sent){n.next=13;break}return n.prev=4,n.next=7,e.$store.dispatch("agentBots/delete",t.id);case 7:e.showAlert(e.$t("AGENT_BOTS.DELETE.API.SUCCESS_MESSAGE")),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(4),e.showAlert(e.$t("AGENT_BOTS.DELETE.API.ERROR_MESSAGE"));case 13:case"end":return n.stop()}}),n,null,[[4,10]])})),function(){var t=this,e=arguments;return new Promise((function(o,s){var a=n.apply(t,e);function i(t){p(a,o,s,i,r,"next",t)}function r(t){p(a,o,s,i,r,"throw",t)}i(void 0)}))})()},onEditAgentBot:function(t){this.$router.push(Object(s.c)("accounts/".concat(this.accountId,"/settings/agent-bots/csml/").concat(t.id)))}}},b=g,m=(e(3044),Object(r.a)(b,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"column content-box"},[e("div",{staticClass:"row"},[e("div",{staticClass:"small-8 columns with-right-space"},[t.uiFlags.isFetching?e("woot-loading-state",{attrs:{message:t.$t("AGENT_BOTS.LIST.LOADING")}}):t.agentBots.length?e("table",{staticClass:"woot-table"},[e("tbody",t._l(t.agentBots,(function(n,o){return e("agent-bot-row",{key:n.id,attrs:{"agent-bot":n,index:o},on:{delete:t.onDeleteAgentBot,edit:t.onEditAgentBot}})})),1)]):e("p",{staticClass:"no-items-error-message"},[t._v("\n        "+t._s(t.$t("AGENT_BOTS.LIST.404"))+"\n      ")])],1),t._v(" "),e("div",{staticClass:"small-4 columns content-box"},[e("p",{domProps:{innerHTML:t._s(t.$t("AGENT_BOTS.SIDEBAR_TXT"))}})])]),t._v(" "),e("woot-button",{attrs:{"color-scheme":"success","class-names":"button--fixed-right-top",icon:"add-circle"}},[e("router-link",{staticClass:"white-text",attrs:{to:t.newAgentBotsURL}},[t._v("\n      "+t._s(t.$t("AGENT_BOTS.ADD.TITLE"))+"\n    ")])],1),t._v(" "),e("woot-confirm-modal",{ref:"confirmDialog",attrs:{title:t.$t("AGENT_BOTS.DELETE.TITLE"),description:t.$t("AGENT_BOTS.DELETE.DESCRIPTION")}})],1)}),[],!1,null,"3173ac51",null));n.default=m.exports}}]);
//# sourceMappingURL=27-bb1db39335d827487c52.chunk.js.map