import { mergedOptions } from '../merged-options';
describe(mergedOptions, function () {
    it('merges options', function () {
        var merged = mergedOptions({
            integrations: {
                CustomerIO: {},
                Amplitude: {
                    apiKey: 'üçå',
                },
            },
        }, {
            integrations: {
                CustomerIO: {
                    ghost: 'üëª',
                },
            },
        });
        expect(merged).toMatchInlineSnapshot("\n      Object {\n        \"Amplitude\": Object {\n          \"apiKey\": \"\uD83C\uDF4C\",\n        },\n        \"CustomerIO\": Object {\n          \"ghost\": \"\uD83D\uDC7B\",\n        },\n      }\n    ");
    });
    it('ignores options for integrations that arent returned by CDN', function () {
        var merged = mergedOptions({
            integrations: {
                Amplitude: {
                    apiKey: 'üçå',
                },
            },
        }, {
            integrations: {
                // not in CDN
                CustomerIO: {
                    ghost: 'üëª',
                },
            },
        });
        expect(merged).toMatchInlineSnapshot("\n      Object {\n        \"Amplitude\": Object {\n          \"apiKey\": \"\uD83C\uDF4C\",\n        },\n      }\n    ");
    });
    it('does not attempt to merge non objects', function () {
        var merged = mergedOptions({
            integrations: {
                CustomerIO: {
                    ghost: 'üëª',
                },
                Amplitude: {
                    apiKey: 'üçå',
                },
            },
        }, {
            integrations: {
                // disabling customerIO as an integration override
                CustomerIO: false,
            },
        });
        expect(merged).toMatchInlineSnapshot("\n      Object {\n        \"Amplitude\": Object {\n          \"apiKey\": \"\uD83C\uDF4C\",\n        },\n        \"CustomerIO\": Object {\n          \"ghost\": \"\uD83D\uDC7B\",\n        },\n      }\n    ");
    });
    it('works with boolean overrides', function () {
        var cdn = {
            integrations: {
                'Segment.io': { apiHost: 'api.segment.io' },
                'Google Tag Manager': {
                    ghost: 'üëª',
                },
            },
        };
        var overrides = {
            integrations: {
                All: false,
                'Segment.io': { apiHost: 'mgs.instacart.com/v2' },
                'Google Tag Manager': true,
            },
        };
        expect(mergedOptions(cdn, overrides)).toMatchInlineSnapshot("\n      Object {\n        \"Google Tag Manager\": Object {\n          \"ghost\": \"\uD83D\uDC7B\",\n        },\n        \"Segment.io\": Object {\n          \"apiHost\": \"mgs.instacart.com/v2\",\n        },\n      }\n    ");
    });
});
//# sourceMappingURL=merged-options.test.js.map