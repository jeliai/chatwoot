{"ast":null,"code":"import cookie from 'js-cookie';\n/**\n * Levels returns all levels of the given url.\n *\n * @param {string} url\n * @return {Array}\n * @api public\n */\n\nfunction levels(url) {\n  var host = url.hostname;\n  var parts = host.split('.');\n  var last = parts[parts.length - 1];\n  var levels = []; // Ip address.\n\n  if (parts.length === 4 && parseInt(last, 10) > 0) {\n    return levels;\n  } // Localhost.\n\n\n  if (parts.length <= 1) {\n    return levels;\n  } // Create levels.\n\n\n  for (var i = parts.length - 2; i >= 0; --i) {\n    levels.push(parts.slice(i).join('.'));\n  }\n\n  return levels;\n}\n\nexport function tld(url) {\n  var lvls = levels(url); // Lookup the real top level one.\n\n  for (var i = 0; i < lvls.length; ++i) {\n    var cname = '__tld__';\n    var domain = lvls[i];\n    var opts = {\n      domain: '.' + domain\n    };\n    cookie.set(cname, '1', opts);\n\n    if (cookie.get(cname)) {\n      cookie.remove(cname, opts);\n      return domain;\n    }\n  }\n}","map":null,"metadata":{},"sourceType":"module"}