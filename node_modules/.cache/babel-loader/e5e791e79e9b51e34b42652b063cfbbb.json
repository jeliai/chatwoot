{"ast":null,"code":"/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { captureException } from '@sentry/browser';\n/**\n * Creates routing instrumentation for Vue Router v2\n *\n * @param router The Vue Router instance that is used\n */\n\nexport function vueRouterInstrumentation(router) {\n  return function (startTransaction, startTransactionOnPageLoad, startTransactionOnLocationChange) {\n    if (startTransactionOnPageLoad === void 0) {\n      startTransactionOnPageLoad = true;\n    }\n\n    if (startTransactionOnLocationChange === void 0) {\n      startTransactionOnLocationChange = true;\n    }\n\n    router.onError(function (error) {\n      return captureException(error);\n    });\n    router.beforeEach(function (to, from, next) {\n      // According to docs we could use `from === VueRouter.START_LOCATION` but I couldnt get it working for Vue 2\n      // https://router.vuejs.org/api/#router-start-location\n      // https://next.router.vuejs.org/api/#start-location\n      // Vue2 - null\n      // Vue3 - undefined\n      var isPageLoadNavigation = from.name == null && from.matched.length === 0;\n      var tags = {\n        'routing.instrumentation': 'vue-router'\n      };\n      var data = {\n        params: to.params,\n        query: to.query\n      };\n\n      if (startTransactionOnPageLoad && isPageLoadNavigation) {\n        startTransaction({\n          // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n          name: to.name && to.name.toString() || to.path,\n          op: 'pageload',\n          tags: tags,\n          data: data\n        });\n      }\n\n      if (startTransactionOnLocationChange && !isPageLoadNavigation) {\n        startTransaction({\n          // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n          name: to.name && to.name.toString() || to.matched[0] && to.matched[0].path || to.path,\n          op: 'navigation',\n          tags: tags,\n          data: data\n        });\n      }\n\n      next();\n    });\n  };\n}","map":null,"metadata":{},"sourceType":"module"}