{"ast":null,"code":"var _mutations;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport \"regenerator-runtime/runtime.js\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.promise.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptor.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptors.js\";\nimport * as MutationHelpers from 'shared/helpers/vuex/mutationHelpers';\nimport types from '../mutation-types';\nimport MacrosAPI from '../../api/macros';\nimport { throwErrorMessage } from '../utils/api';\nexport var state = {\n  records: [],\n  uiFlags: {\n    isFetchingItem: false,\n    isFetching: false,\n    isCreating: false,\n    isDeleting: false,\n    isUpdating: false,\n    isExecuting: false\n  }\n};\nexport var getters = {\n  getMacros: function getMacros($state) {\n    return $state.records;\n  },\n  getMacro: function getMacro($state) {\n    return function (id) {\n      return $state.records.find(function (record) {\n        return record.id === Number(id);\n      });\n    };\n  },\n  getUIFlags: function getUIFlags($state) {\n    return $state.uiFlags;\n  }\n};\nexport var actions = {\n  get: function () {\n    var _getMacros = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref) {\n      var commit, response;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              commit = _ref.commit;\n              commit(types.SET_MACROS_UI_FLAG, {\n                isFetching: true\n              });\n              _context.prev = 2;\n              _context.next = 5;\n              return MacrosAPI.get();\n\n            case 5:\n              response = _context.sent;\n              commit(types.SET_MACROS, response.data.payload);\n              _context.next = 11;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](2);\n\n            case 11:\n              _context.prev = 11;\n              commit(types.SET_MACROS_UI_FLAG, {\n                isFetching: false\n              });\n              return _context.finish(11);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 9, 11, 14]]);\n    }));\n\n    function getMacros(_x) {\n      return _getMacros.apply(this, arguments);\n    }\n\n    return getMacros;\n  }(),\n  getSingleMacro: function () {\n    var _getMacroById = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(_ref2, macroId) {\n      var commit, response;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              commit = _ref2.commit;\n              commit(types.SET_MACROS_UI_FLAG, {\n                isFetchingItem: true\n              });\n              _context2.prev = 2;\n              _context2.next = 5;\n              return MacrosAPI.show(macroId);\n\n            case 5:\n              response = _context2.sent;\n              commit(types.ADD_MACRO, response.data.payload);\n              _context2.next = 11;\n              break;\n\n            case 9:\n              _context2.prev = 9;\n              _context2.t0 = _context2[\"catch\"](2);\n\n            case 11:\n              _context2.prev = 11;\n              commit(types.SET_MACROS_UI_FLAG, {\n                isFetchingItem: false\n              });\n              return _context2.finish(11);\n\n            case 14:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[2, 9, 11, 14]]);\n    }));\n\n    function getMacroById(_x2, _x3) {\n      return _getMacroById.apply(this, arguments);\n    }\n\n    return getMacroById;\n  }(),\n  create: function () {\n    var _createMacro = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(_ref3, macrosObj) {\n      var commit, response;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              commit = _ref3.commit;\n              commit(types.SET_MACROS_UI_FLAG, {\n                isCreating: true\n              });\n              _context3.prev = 2;\n              _context3.next = 5;\n              return MacrosAPI.create(macrosObj);\n\n            case 5:\n              response = _context3.sent;\n              commit(types.ADD_MACRO, response.data.payload);\n              _context3.next = 12;\n              break;\n\n            case 9:\n              _context3.prev = 9;\n              _context3.t0 = _context3[\"catch\"](2);\n              throwErrorMessage(_context3.t0);\n\n            case 12:\n              _context3.prev = 12;\n              commit(types.SET_MACROS_UI_FLAG, {\n                isCreating: false\n              });\n              return _context3.finish(12);\n\n            case 15:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[2, 9, 12, 15]]);\n    }));\n\n    function createMacro(_x4, _x5) {\n      return _createMacro.apply(this, arguments);\n    }\n\n    return createMacro;\n  }(),\n  execute: function () {\n    var _executeMacro = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(_ref4, macrosObj) {\n      var commit;\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              commit = _ref4.commit;\n              commit(types.SET_MACROS_UI_FLAG, {\n                isExecuting: true\n              });\n              _context4.prev = 2;\n              _context4.next = 5;\n              return MacrosAPI.executeMacro(macrosObj);\n\n            case 5:\n              _context4.next = 10;\n              break;\n\n            case 7:\n              _context4.prev = 7;\n              _context4.t0 = _context4[\"catch\"](2);\n              throwErrorMessage(_context4.t0);\n\n            case 10:\n              _context4.prev = 10;\n              commit(types.SET_MACROS_UI_FLAG, {\n                isExecuting: false\n              });\n              return _context4.finish(10);\n\n            case 13:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[2, 7, 10, 13]]);\n    }));\n\n    function executeMacro(_x6, _x7) {\n      return _executeMacro.apply(this, arguments);\n    }\n\n    return executeMacro;\n  }(),\n  update: function () {\n    var _update = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(_ref5, _ref6) {\n      var commit, id, updateObj, response;\n      return regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              commit = _ref5.commit;\n              id = _ref6.id, updateObj = _objectWithoutProperties(_ref6, [\"id\"]);\n              commit(types.SET_MACROS_UI_FLAG, {\n                isUpdating: true\n              });\n              _context5.prev = 3;\n              _context5.next = 6;\n              return MacrosAPI.update(id, updateObj);\n\n            case 6:\n              response = _context5.sent;\n              commit(types.EDIT_MACRO, response.data.payload);\n              _context5.next = 13;\n              break;\n\n            case 10:\n              _context5.prev = 10;\n              _context5.t0 = _context5[\"catch\"](3);\n              throwErrorMessage(_context5.t0);\n\n            case 13:\n              _context5.prev = 13;\n              commit(types.SET_MACROS_UI_FLAG, {\n                isUpdating: false\n              });\n              return _context5.finish(13);\n\n            case 16:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, null, [[3, 10, 13, 16]]);\n    }));\n\n    function update(_x8, _x9) {\n      return _update.apply(this, arguments);\n    }\n\n    return update;\n  }(),\n  delete: function () {\n    var _delete2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(_ref7, id) {\n      var commit;\n      return regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              commit = _ref7.commit;\n              commit(types.SET_MACROS_UI_FLAG, {\n                isDeleting: true\n              });\n              _context6.prev = 2;\n              _context6.next = 5;\n              return MacrosAPI.delete(id);\n\n            case 5:\n              commit(types.DELETE_MACRO, id);\n              _context6.next = 11;\n              break;\n\n            case 8:\n              _context6.prev = 8;\n              _context6.t0 = _context6[\"catch\"](2);\n              throwErrorMessage(_context6.t0);\n\n            case 11:\n              _context6.prev = 11;\n              commit(types.SET_MACROS_UI_FLAG, {\n                isDeleting: false\n              });\n              return _context6.finish(11);\n\n            case 14:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6, null, [[2, 8, 11, 14]]);\n    }));\n\n    function _delete(_x10, _x11) {\n      return _delete2.apply(this, arguments);\n    }\n\n    return _delete;\n  }()\n};\nexport var mutations = (_mutations = {}, _defineProperty(_mutations, types.SET_MACROS_UI_FLAG, function ($state, data) {\n  $state.uiFlags = _objectSpread(_objectSpread({}, $state.uiFlags), data);\n}), _defineProperty(_mutations, types.ADD_MACRO, MutationHelpers.setSingleRecord), _defineProperty(_mutations, types.SET_MACROS, MutationHelpers.set), _defineProperty(_mutations, types.EDIT_MACRO, MutationHelpers.update), _defineProperty(_mutations, types.DELETE_MACRO, MutationHelpers.destroy), _mutations);\nexport default {\n  namespaced: true,\n  actions: actions,\n  state: state,\n  getters: getters,\n  mutations: mutations\n};","map":{"version":3,"sources":["/Users/s.dastan/Desktop/chatwoot/chatwoot/app/javascript/dashboard/store/modules/macros.js"],"names":["MutationHelpers","types","MacrosAPI","throwErrorMessage","state","records","uiFlags","isFetchingItem","isFetching","isCreating","isDeleting","isUpdating","isExecuting","getters","getMacros","$state","getMacro","id","find","record","Number","getUIFlags","actions","get","commit","SET_MACROS_UI_FLAG","response","SET_MACROS","data","payload","getSingleMacro","macroId","show","ADD_MACRO","getMacroById","create","macrosObj","createMacro","execute","executeMacro","update","updateObj","EDIT_MACRO","delete","DELETE_MACRO","mutations","setSingleRecord","set","destroy","namespaced"],"mappings":"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","sourcesContent":["import * as MutationHelpers from 'shared/helpers/vuex/mutationHelpers';\nimport types from '../mutation-types';\nimport MacrosAPI from '../../api/macros';\nimport { throwErrorMessage } from '../utils/api';\n\nexport const state = {\n  records: [],\n  uiFlags: {\n    isFetchingItem: false,\n    isFetching: false,\n    isCreating: false,\n    isDeleting: false,\n    isUpdating: false,\n    isExecuting: false,\n  },\n};\n\nexport const getters = {\n  getMacros($state) {\n    return $state.records;\n  },\n  getMacro: $state => id => {\n    return $state.records.find(record => record.id === Number(id));\n  },\n  getUIFlags($state) {\n    return $state.uiFlags;\n  },\n};\n\nexport const actions = {\n  get: async function getMacros({ commit }) {\n    commit(types.SET_MACROS_UI_FLAG, { isFetching: true });\n    try {\n      const response = await MacrosAPI.get();\n      commit(types.SET_MACROS, response.data.payload);\n    } catch (error) {\n      // Ignore error\n    } finally {\n      commit(types.SET_MACROS_UI_FLAG, { isFetching: false });\n    }\n  },\n  getSingleMacro: async function getMacroById({ commit }, macroId) {\n    commit(types.SET_MACROS_UI_FLAG, { isFetchingItem: true });\n    try {\n      const response = await MacrosAPI.show(macroId);\n      commit(types.ADD_MACRO, response.data.payload);\n    } catch (error) {\n      // Ignore error\n    } finally {\n      commit(types.SET_MACROS_UI_FLAG, { isFetchingItem: false });\n    }\n  },\n  create: async function createMacro({ commit }, macrosObj) {\n    commit(types.SET_MACROS_UI_FLAG, { isCreating: true });\n    try {\n      const response = await MacrosAPI.create(macrosObj);\n      commit(types.ADD_MACRO, response.data.payload);\n    } catch (error) {\n      throwErrorMessage(error);\n    } finally {\n      commit(types.SET_MACROS_UI_FLAG, { isCreating: false });\n    }\n  },\n  execute: async function executeMacro({ commit }, macrosObj) {\n    commit(types.SET_MACROS_UI_FLAG, { isExecuting: true });\n    try {\n      await MacrosAPI.executeMacro(macrosObj);\n    } catch (error) {\n      throwErrorMessage(error);\n    } finally {\n      commit(types.SET_MACROS_UI_FLAG, { isExecuting: false });\n    }\n  },\n  update: async ({ commit }, { id, ...updateObj }) => {\n    commit(types.SET_MACROS_UI_FLAG, { isUpdating: true });\n    try {\n      const response = await MacrosAPI.update(id, updateObj);\n      commit(types.EDIT_MACRO, response.data.payload);\n    } catch (error) {\n      throwErrorMessage(error);\n    } finally {\n      commit(types.SET_MACROS_UI_FLAG, { isUpdating: false });\n    }\n  },\n  delete: async ({ commit }, id) => {\n    commit(types.SET_MACROS_UI_FLAG, { isDeleting: true });\n    try {\n      await MacrosAPI.delete(id);\n      commit(types.DELETE_MACRO, id);\n    } catch (error) {\n      throwErrorMessage(error);\n    } finally {\n      commit(types.SET_MACROS_UI_FLAG, { isDeleting: false });\n    }\n  },\n};\n\nexport const mutations = {\n  [types.SET_MACROS_UI_FLAG]($state, data) {\n    $state.uiFlags = {\n      ...$state.uiFlags,\n      ...data,\n    };\n  },\n  [types.ADD_MACRO]: MutationHelpers.setSingleRecord,\n  [types.SET_MACROS]: MutationHelpers.set,\n  [types.EDIT_MACRO]: MutationHelpers.update,\n  [types.DELETE_MACRO]: MutationHelpers.destroy,\n};\n\nexport default {\n  namespaced: true,\n  actions,\n  state,\n  getters,\n  mutations,\n};\n"]},"metadata":{},"sourceType":"module"}