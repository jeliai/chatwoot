{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport mentionSelectionKeyboardMixin from './mentionSelectionKeyboardMixin';\nexport default {\n  mixins: [mentionSelectionKeyboardMixin],\n  props: {\n    items: {\n      type: Array,\n      default: function _default() {}\n    }\n  },\n  data: function data() {\n    return {\n      selectedIndex: 0\n    };\n  },\n  watch: {\n    items: function items(newItems) {\n      if (newItems.length < this.selectedIndex + 1) {\n        this.selectedIndex = 0;\n      }\n    }\n  },\n  methods: {\n    getTopPadding: function getTopPadding() {\n      if (this.items.length <= 4) {\n        return -(this.items.length * 2.9 + 1.7);\n      }\n\n      return -14;\n    },\n    handleKeyboardEvent: function handleKeyboardEvent(e) {\n      this.processKeyDownEvent(e);\n      this.$el.scrollTop = 29 * this.selectedIndex;\n    },\n    onHover: function onHover(index) {\n      this.selectedIndex = index;\n    },\n    onListItemSelection: function onListItemSelection(index) {\n      this.selectedIndex = index;\n      this.onSelect();\n    },\n    onSelect: function onSelect() {\n      this.$emit('mention-select', this.items[this.selectedIndex]);\n    }\n  }\n};","map":{"version":3,"sources":["MentionBox.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAsBA,OAAA,6BAAA,MAAA,iCAAA;AACA,eAAA;AACA,EAAA,MAAA,EAAA,CAAA,6BAAA,CADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,OAAA,EAAA,oBAAA,CAAA;AAFA;AADA,GAFA;AAQA,EAAA,IARA,kBAQA;AACA,WAAA;AACA,MAAA,aAAA,EAAA;AADA,KAAA;AAGA,GAZA;AAaA,EAAA,KAAA,EAAA;AACA,IAAA,KADA,iBACA,QADA,EACA;AACA,UAAA,QAAA,CAAA,MAAA,GAAA,KAAA,aAAA,GAAA,CAAA,EAAA;AACA,aAAA,aAAA,GAAA,CAAA;AACA;AACA;AALA,GAbA;AAoBA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,2BACA;AACA,UAAA,KAAA,KAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,eAAA,EAAA,KAAA,KAAA,CAAA,MAAA,GAAA,GAAA,GAAA,GAAA,CAAA;AACA;;AACA,aAAA,CAAA,EAAA;AACA,KANA;AAOA,IAAA,mBAPA,+BAOA,CAPA,EAOA;AACA,WAAA,mBAAA,CAAA,CAAA;AACA,WAAA,GAAA,CAAA,SAAA,GAAA,KAAA,KAAA,aAAA;AACA,KAVA;AAWA,IAAA,OAXA,mBAWA,KAXA,EAWA;AACA,WAAA,aAAA,GAAA,KAAA;AACA,KAbA;AAcA,IAAA,mBAdA,+BAcA,KAdA,EAcA;AACA,WAAA,aAAA,GAAA,KAAA;AACA,WAAA,QAAA;AACA,KAjBA;AAkBA,IAAA,QAlBA,sBAkBA;AACA,WAAA,KAAA,CAAA,gBAAA,EAAA,KAAA,KAAA,CAAA,KAAA,aAAA,CAAA;AACA;AApBA;AApBA,CAAA","sourcesContent":["<template>\n  <ul\n    v-if=\"items.length\"\n    class=\"vertical dropdown menu mention--box\"\n    :style=\"{ top: getTopPadding() + 'rem' }\"\n  >\n    <li\n      v-for=\"(item, index) in items\"\n      :id=\"`mention-item-${index}`\"\n      :key=\"item.key\"\n      :class=\"{ active: index === selectedIndex }\"\n      @click=\"onListItemSelection(index)\"\n      @mouseover=\"onHover(index)\"\n    >\n      <a class=\"text-truncate\">\n        <strong>{{ item.label }}</strong> - {{ item.description }}\n      </a>\n    </li>\n  </ul>\n</template>\n\n<script>\nimport mentionSelectionKeyboardMixin from './mentionSelectionKeyboardMixin';\nexport default {\n  mixins: [mentionSelectionKeyboardMixin],\n  props: {\n    items: {\n      type: Array,\n      default: () => {},\n    },\n  },\n  data() {\n    return {\n      selectedIndex: 0,\n    };\n  },\n  watch: {\n    items(newItems) {\n      if (newItems.length < this.selectedIndex + 1) {\n        this.selectedIndex = 0;\n      }\n    },\n  },\n  methods: {\n    getTopPadding() {\n      if (this.items.length <= 4) {\n        return -(this.items.length * 2.9 + 1.7);\n      }\n      return -14;\n    },\n    handleKeyboardEvent(e) {\n      this.processKeyDownEvent(e);\n      this.$el.scrollTop = 29 * this.selectedIndex;\n    },\n    onHover(index) {\n      this.selectedIndex = index;\n    },\n    onListItemSelection(index) {\n      this.selectedIndex = index;\n      this.onSelect();\n    },\n    onSelect() {\n      this.$emit('mention-select', this.items[this.selectedIndex]);\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.mention--box {\n  background: var(--white);\n  border-bottom: var(--space-small) solid var(--white);\n  border-top: 1px solid var(--color-border);\n  left: 0;\n  max-height: 14rem;\n  overflow: auto;\n  padding-top: var(--space-small);\n  position: absolute;\n  width: 100%;\n  z-index: 100;\n\n  .active a {\n    background: var(--w-500);\n  }\n}\n</style>\n"],"sourceRoot":"app/javascript/dashboard/components/widgets/mentions"},"metadata":{},"sourceType":"module"}