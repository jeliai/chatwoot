{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport MacrosPill from './Pill.vue';\nimport Draggable from 'vuedraggable';\nimport MacroNode from './MacroNode.vue';\nimport MacroActionButton from './ActionButton.vue';\nimport { getFileName } from './macroHelper';\nexport default {\n  components: {\n    Draggable: Draggable,\n    MacrosPill: MacrosPill,\n    MacroNode: MacroNode,\n    MacroActionButton: MacroActionButton\n  },\n  props: {\n    value: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    files: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    }\n  },\n  computed: {\n    actionData: {\n      get: function get() {\n        return this.value;\n      },\n      set: function set(value) {\n        this.$emit('input', value);\n      }\n    }\n  },\n  methods: {\n    fileName: function fileName() {\n      return getFileName.apply(void 0, arguments);\n    }\n  }\n};","map":{"version":3,"sources":["MacroNodes.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA,OAAA,UAAA,MAAA,YAAA;AACA,OAAA,SAAA,MAAA,cAAA;AACA,OAAA,SAAA,MAAA,iBAAA;AACA,OAAA,iBAAA,MAAA,oBAAA;AACA,SAAA,WAAA,QAAA,eAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,SAAA,EAAA,SADA;AAEA,IAAA,UAAA,EAAA,UAFA;AAGA,IAAA,SAAA,EAAA,SAHA;AAIA,IAAA,iBAAA,EAAA;AAJA,GADA;AAOA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,OAAA,EAAA;AAAA,eAAA,EAAA;AAAA;AAFA,KADA;AAKA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,OAAA,EAAA;AAAA,eAAA,EAAA;AAAA;AAFA;AALA,GAPA;AAiBA,EAAA,QAAA,EAAA;AACA,IAAA,UAAA,EAAA;AACA,MAAA,GADA,iBACA;AACA,eAAA,KAAA,KAAA;AACA,OAHA;AAIA,MAAA,GAJA,eAIA,KAJA,EAIA;AACA,aAAA,KAAA,CAAA,OAAA,EAAA,KAAA;AACA;AANA;AADA,GAjBA;AA2BA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AACA,aAAA,WAAA,MAAA,SAAA,SAAA,CAAA;AACA;AAHA;AA3BA,CAAA","sourcesContent":["<template>\n  <div class=\"macros__nodes\">\n    <macros-pill :label=\"$t('MACROS.EDITOR.START_FLOW')\" class=\"macro__node\" />\n    <draggable\n      :list=\"actionData\"\n      animation=\"200\"\n      ghost-class=\"ghost\"\n      tag=\"div\"\n      class=\"macros__nodes-draggable\"\n      handle=\".macros__node-drag-handle\"\n    >\n      <div v-for=\"(action, i) in actionData\" :key=\"i\" class=\"macro__node\">\n        <macro-node\n          v-model=\"actionData[i]\"\n          class=\"macros__node-action\"\n          type=\"add\"\n          :index=\"i\"\n          :file-name=\"\n            fileName(\n              actionData[i].action_params[0],\n              actionData[i].action_name,\n              files\n            )\n          \"\n          :single-node=\"actionData.length === 1\"\n          @resetAction=\"$emit('resetAction', i)\"\n          @deleteNode=\"$emit('deleteNode', i)\"\n        />\n      </div>\n    </draggable>\n    <macro-action-button\n      icon=\"add-circle\"\n      class=\"macro__node\"\n      :tooltip=\"$t('MACROS.EDITOR.ADD_BTN_TOOLTIP')\"\n      type=\"add\"\n      @click=\"$emit('addNewNode')\"\n    />\n    <macros-pill :label=\"$t('MACROS.EDITOR.END_FLOW')\" class=\"macro__node\" />\n  </div>\n</template>\n\n<script>\nimport MacrosPill from './Pill.vue';\nimport Draggable from 'vuedraggable';\nimport MacroNode from './MacroNode.vue';\nimport MacroActionButton from './ActionButton.vue';\nimport { getFileName } from './macroHelper';\nexport default {\n  components: {\n    Draggable,\n    MacrosPill,\n    MacroNode,\n    MacroActionButton,\n  },\n  props: {\n    value: {\n      type: Array,\n      default: () => [],\n    },\n    files: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  computed: {\n    actionData: {\n      get() {\n        return this.value;\n      },\n      set(value) {\n        this.$emit('input', value);\n      },\n    },\n  },\n  methods: {\n    fileName() {\n      return getFileName(...arguments);\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.macros__nodes {\n  max-width: 800px;\n}\n\n.macro__node:not(:last-child) {\n  position: relative;\n  padding-bottom: var(--space-three);\n}\n\n.macro__node:not(:last-child):not(.sortable-chosen):after,\n.macros__nodes-draggable:after {\n  content: '';\n  position: absolute;\n  height: var(--space-three);\n  width: var(--space-smaller);\n  margin-left: var(--space-medium);\n  background-image: url(\"data:image/svg+xml,%3Csvg width='4' height='30' viewBox='0 0 4 30' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cline x1='1.50098' y1='0.579529' x2='1.50098' y2='30.5795' stroke='%2393afc8' stroke-width='2' stroke-dasharray='5 5'/%3E%3C/svg%3E%0A\");\n}\n\n.macros__nodes-draggable {\n  position: relative;\n  padding-bottom: var(--space-three);\n}\n\n.macros__node-action-container {\n  position: relative;\n  .drag-handle {\n    position: absolute;\n    left: var(--space-minus-medium);\n    top: var(--space-smaller);\n    cursor: move;\n    color: var(--s-400);\n  }\n}\n</style>\n"],"sourceRoot":"app/javascript/dashboard/routes/dashboard/settings/macros"},"metadata":{},"sourceType":"module"}