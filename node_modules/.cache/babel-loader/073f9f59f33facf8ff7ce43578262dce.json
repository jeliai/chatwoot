{"ast":null,"code":"import \"core-js/modules/es.number.constructor.js\";\n//\n//\n//\n//\n//\n//\nvar MINUTE_IN_MILLI_SECONDS = 60000;\nvar HOUR_IN_MILLI_SECONDS = MINUTE_IN_MILLI_SECONDS * 60;\nvar DAY_IN_MILLI_SECONDS = HOUR_IN_MILLI_SECONDS * 24;\nimport timeMixin from 'dashboard/mixins/time';\nexport default {\n  name: 'TimeAgo',\n  mixins: [timeMixin],\n  props: {\n    isAutoRefreshEnabled: {\n      type: Boolean,\n      default: true\n    },\n    timestamp: {\n      type: [String, Date, Number],\n      default: ''\n    }\n  },\n  data: function data() {\n    return {\n      timeAgo: this.dynamicTime(this.timestamp),\n      timer: null\n    };\n  },\n  watch: {\n    timestamp: function timestamp() {\n      this.timeAgo = this.dynamicTime(this.timestamp);\n    }\n  },\n  mounted: function mounted() {\n    if (this.isAutoRefreshEnabled) {\n      this.createTimer();\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    clearTimeout(this.timer);\n  },\n  methods: {\n    createTimer: function createTimer() {\n      var _this = this;\n\n      this.timer = setTimeout(function () {\n        _this.timeAgo = _this.dynamicTime(_this.timestamp);\n\n        _this.createTimer();\n      }, this.refreshTime());\n    },\n    refreshTime: function refreshTime() {\n      var timeDiff = Date.now() - this.timestamp * 1000;\n\n      if (timeDiff > DAY_IN_MILLI_SECONDS) {\n        return DAY_IN_MILLI_SECONDS;\n      }\n\n      if (timeDiff > HOUR_IN_MILLI_SECONDS) {\n        return HOUR_IN_MILLI_SECONDS;\n      }\n\n      return MINUTE_IN_MILLI_SECONDS;\n    }\n  }\n};","map":{"version":3,"sources":["TimeAgo.vue"],"names":[],"mappings":";;;;;;;AAOA,IAAA,uBAAA,GAAA,KAAA;AACA,IAAA,qBAAA,GAAA,uBAAA,GAAA,EAAA;AACA,IAAA,oBAAA,GAAA,qBAAA,GAAA,EAAA;AAEA,OAAA,SAAA,MAAA,uBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAEA,EAAA,MAAA,EAAA,CAAA,SAAA,CAFA;AAGA,EAAA,KAAA,EAAA;AACA,IAAA,oBAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAFA,KADA;AAKA,IAAA,SAAA,EAAA;AACA,MAAA,IAAA,EAAA,CAAA,MAAA,EAAA,IAAA,EAAA,MAAA,CADA;AAEA,MAAA,OAAA,EAAA;AAFA;AALA,GAHA;AAaA,EAAA,IAbA,kBAaA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,KAAA,WAAA,CAAA,KAAA,SAAA,CADA;AAEA,MAAA,KAAA,EAAA;AAFA,KAAA;AAIA,GAlBA;AAmBA,EAAA,KAAA,EAAA;AACA,IAAA,SADA,uBACA;AACA,WAAA,OAAA,GAAA,KAAA,WAAA,CAAA,KAAA,SAAA,CAAA;AACA;AAHA,GAnBA;AAwBA,EAAA,OAxBA,qBAwBA;AACA,QAAA,KAAA,oBAAA,EAAA;AACA,WAAA,WAAA;AACA;AACA,GA5BA;AA6BA,EAAA,aA7BA,2BA6BA;AACA,IAAA,YAAA,CAAA,KAAA,KAAA,CAAA;AACA,GA/BA;AAgCA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AACA,WAAA,KAAA,GAAA,UAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,KAAA,CAAA,WAAA,CAAA,KAAA,CAAA,SAAA,CAAA;;AACA,QAAA,KAAA,CAAA,WAAA;AACA,OAHA,EAGA,KAAA,WAAA,EAHA,CAAA;AAIA,KANA;AAOA,IAAA,WAPA,yBAOA;AACA,UAAA,QAAA,GAAA,IAAA,CAAA,GAAA,KAAA,KAAA,SAAA,GAAA,IAAA;;AACA,UAAA,QAAA,GAAA,oBAAA,EAAA;AACA,eAAA,oBAAA;AACA;;AACA,UAAA,QAAA,GAAA,qBAAA,EAAA;AACA,eAAA,qBAAA;AACA;;AAEA,aAAA,uBAAA;AACA;AAjBA;AAhCA,CAAA","sourcesContent":["<template>\n  <span class=\"time-ago\">\n    <span>{{ timeAgo }}</span>\n  </span>\n</template>\n\n<script>\nconst MINUTE_IN_MILLI_SECONDS = 60000;\nconst HOUR_IN_MILLI_SECONDS = MINUTE_IN_MILLI_SECONDS * 60;\nconst DAY_IN_MILLI_SECONDS = HOUR_IN_MILLI_SECONDS * 24;\n\nimport timeMixin from 'dashboard/mixins/time';\n\nexport default {\n  name: 'TimeAgo',\n  mixins: [timeMixin],\n  props: {\n    isAutoRefreshEnabled: {\n      type: Boolean,\n      default: true,\n    },\n    timestamp: {\n      type: [String, Date, Number],\n      default: '',\n    },\n  },\n  data() {\n    return {\n      timeAgo: this.dynamicTime(this.timestamp),\n      timer: null,\n    };\n  },\n  watch: {\n    timestamp() {\n      this.timeAgo = this.dynamicTime(this.timestamp);\n    },\n  },\n  mounted() {\n    if (this.isAutoRefreshEnabled) {\n      this.createTimer();\n    }\n  },\n  beforeDestroy() {\n    clearTimeout(this.timer);\n  },\n  methods: {\n    createTimer() {\n      this.timer = setTimeout(() => {\n        this.timeAgo = this.dynamicTime(this.timestamp);\n        this.createTimer();\n      }, this.refreshTime());\n    },\n    refreshTime() {\n      const timeDiff = Date.now() - this.timestamp * 1000;\n      if (timeDiff > DAY_IN_MILLI_SECONDS) {\n        return DAY_IN_MILLI_SECONDS;\n      }\n      if (timeDiff > HOUR_IN_MILLI_SECONDS) {\n        return HOUR_IN_MILLI_SECONDS;\n      }\n\n      return MINUTE_IN_MILLI_SECONDS;\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.time-ago {\n  color: var(--b-600);\n  font-size: var(--font-size-micro);\n  font-weight: var(--font-weight-normal);\n  line-height: var(--space-normal);\n  margin-left: auto;\n}\n</style>\n"],"sourceRoot":"app/javascript/dashboard/components/ui"},"metadata":{},"sourceType":"module"}