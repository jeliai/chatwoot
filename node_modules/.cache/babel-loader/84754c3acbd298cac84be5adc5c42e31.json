{"ast":null,"code":"import \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.function.name.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Thumbnail from 'dashboard/components/widgets/Thumbnail';\nimport timeMixin from 'dashboard/mixins/time';\nimport messageFormatterMixin from 'shared/mixins/messageFormatterMixin';\nexport default {\n  components: {\n    Thumbnail: Thumbnail\n  },\n  mixins: [timeMixin, messageFormatterMixin],\n  props: {\n    id: {\n      type: Number,\n      default: 0\n    },\n    note: {\n      type: String,\n      default: ''\n    },\n    user: {\n      type: Object,\n      default: function _default() {}\n    },\n    createdAt: {\n      type: Number,\n      default: 0\n    }\n  },\n  data: function data() {\n    return {\n      showDeleteModal: false\n    };\n  },\n  computed: {\n    readableTime: function readableTime() {\n      return this.dynamicTime(this.createdAt);\n    },\n    noteAuthor: function noteAuthor() {\n      return this.user || {};\n    },\n    noteAuthorName: function noteAuthorName() {\n      return this.noteAuthor.name || this.$t('APP_GLOBAL.DELETED_USER');\n    }\n  },\n  methods: {\n    toggleDeleteModal: function toggleDeleteModal() {\n      this.showDeleteModal = !this.showDeleteModal;\n    },\n    onDelete: function onDelete() {\n      this.$emit('delete', this.id);\n    },\n    confirmDeletion: function confirmDeletion() {\n      this.onDelete();\n      this.closeDelete();\n    },\n    closeDelete: function closeDelete() {\n      this.showDeleteModal = false;\n    }\n  }\n};","map":{"version":3,"sources":["ContactNote.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA,OAAA,SAAA,MAAA,wCAAA;AACA,OAAA,SAAA,MAAA,uBAAA;AACA,OAAA,qBAAA,MAAA,qCAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,SAAA,EAAA;AADA,GADA;AAKA,EAAA,MAAA,EAAA,CAAA,SAAA,EAAA,qBAAA,CALA;AAOA,EAAA,KAAA,EAAA;AACA,IAAA,EAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KADA;AAKA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KALA;AASA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA,oBAAA,CAAA;AAFA,KATA;AAaA,IAAA,SAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA;AAbA,GAPA;AAyBA,EAAA,IAzBA,kBAyBA;AACA,WAAA;AACA,MAAA,eAAA,EAAA;AADA,KAAA;AAGA,GA7BA;AA8BA,EAAA,QAAA,EAAA;AACA,IAAA,YADA,0BACA;AACA,aAAA,KAAA,WAAA,CAAA,KAAA,SAAA,CAAA;AACA,KAHA;AAIA,IAAA,UAJA,wBAIA;AACA,aAAA,KAAA,IAAA,IAAA,EAAA;AACA,KANA;AAOA,IAAA,cAPA,4BAOA;AACA,aAAA,KAAA,UAAA,CAAA,IAAA,IAAA,KAAA,EAAA,CAAA,yBAAA,CAAA;AACA;AATA,GA9BA;AA0CA,EAAA,OAAA,EAAA;AACA,IAAA,iBADA,+BACA;AACA,WAAA,eAAA,GAAA,CAAA,KAAA,eAAA;AACA,KAHA;AAIA,IAAA,QAJA,sBAIA;AACA,WAAA,KAAA,CAAA,QAAA,EAAA,KAAA,EAAA;AACA,KANA;AAOA,IAAA,eAPA,6BAOA;AACA,WAAA,QAAA;AACA,WAAA,WAAA;AACA,KAVA;AAWA,IAAA,WAXA,yBAWA;AACA,WAAA,eAAA,GAAA,KAAA;AACA;AAbA;AA1CA,CAAA","sourcesContent":["<template>\n  <div class=\"card note-wrap\">\n    <div class=\"header\">\n      <div class=\"meta\">\n        <thumbnail\n          :title=\"noteAuthorName\"\n          :src=\"noteAuthor.thumbnail\"\n          :username=\"noteAuthorName\"\n          size=\"20px\"\n        />\n        <div class=\"date-wrap\">\n          <span class=\"fw-medium\"> {{ noteAuthorName }} </span>\n          <span> {{ $t('NOTES.LIST.LABEL') }} </span>\n          <span class=\"fw-medium\"> {{ readableTime }} </span>\n        </div>\n      </div>\n      <div class=\"actions\">\n        <woot-button\n          v-tooltip=\"$t('NOTES.CONTENT_HEADER.DELETE')\"\n          variant=\"smooth\"\n          size=\"tiny\"\n          icon=\"delete\"\n          color-scheme=\"secondary\"\n          @click=\"toggleDeleteModal\"\n        />\n      </div>\n      <woot-delete-modal\n        v-if=\"showDeleteModal\"\n        :show.sync=\"showDeleteModal\"\n        :on-close=\"closeDelete\"\n        :on-confirm=\"confirmDeletion\"\n        :title=\"$t('DELETE_NOTE.CONFIRM.TITLE')\"\n        :message=\"$t('DELETE_NOTE.CONFIRM.MESSAGE')\"\n        :confirm-text=\"$t('DELETE_NOTE.CONFIRM.YES')\"\n        :reject-text=\"$t('DELETE_NOTE.CONFIRM.NO')\"\n      />\n    </div>\n    <p v-dompurify-html=\"formatMessage(note || '')\" class=\"note__content\" />\n  </div>\n</template>\n\n<script>\nimport Thumbnail from 'dashboard/components/widgets/Thumbnail';\nimport timeMixin from 'dashboard/mixins/time';\nimport messageFormatterMixin from 'shared/mixins/messageFormatterMixin';\n\nexport default {\n  components: {\n    Thumbnail,\n  },\n\n  mixins: [timeMixin, messageFormatterMixin],\n\n  props: {\n    id: {\n      type: Number,\n      default: 0,\n    },\n    note: {\n      type: String,\n      default: '',\n    },\n    user: {\n      type: Object,\n      default: () => {},\n    },\n    createdAt: {\n      type: Number,\n      default: 0,\n    },\n  },\n  data() {\n    return {\n      showDeleteModal: false,\n    };\n  },\n  computed: {\n    readableTime() {\n      return this.dynamicTime(this.createdAt);\n    },\n    noteAuthor() {\n      return this.user || {};\n    },\n    noteAuthorName() {\n      return this.noteAuthor.name || this.$t('APP_GLOBAL.DELETED_USER');\n    },\n  },\n\n  methods: {\n    toggleDeleteModal() {\n      this.showDeleteModal = !this.showDeleteModal;\n    },\n    onDelete() {\n      this.$emit('delete', this.id);\n    },\n    confirmDeletion() {\n      this.onDelete();\n      this.closeDelete();\n    },\n    closeDelete() {\n      this.showDeleteModal = false;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.note__content {\n  margin-top: var(--space-normal);\n}\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end;\n  font-size: var(--font-size-mini);\n\n  .meta {\n    display: flex;\n    align-items: center;\n\n    .date-wrap {\n      margin-left: var(--space-smaller);\n      padding: var(--space-micro);\n      color: var(--color-body);\n    }\n  }\n  .actions {\n    display: flex;\n    visibility: hidden;\n\n    .button {\n      margin-left: var(--space-small);\n    }\n  }\n}\n\n.note-wrap:hover {\n  .actions {\n    visibility: visible;\n  }\n}\n</style>\n"],"sourceRoot":"app/javascript/dashboard/modules/notes/components"},"metadata":{},"sourceType":"module"}