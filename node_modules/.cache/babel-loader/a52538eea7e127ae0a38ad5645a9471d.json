{"ast":null,"code":"import \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptor.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptors.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { resolveActionName, resolveTeamIds, resolveLabels, resolveAgents } from 'dashboard/routes/dashboard/settings/macros/macroHelper';\nimport { mapGetters } from 'vuex';\nexport default {\n  props: {\n    macro: {\n      type: Object,\n      required: true\n    }\n  },\n  computed: _objectSpread({\n    resolvedMacro: function resolvedMacro() {\n      var _this = this;\n\n      return this.macro.actions.map(function (action) {\n        return {\n          actionName: resolveActionName(action.action_name),\n          actionValue: _this.getActionValue(action.action_name, action.action_params)\n        };\n      });\n    }\n  }, mapGetters({\n    labels: 'labels/getLabels',\n    teams: 'teams/getTeams',\n    agents: 'agents/getAgents'\n  })),\n  methods: {\n    getActionValue: function getActionValue(key, params) {\n      var actionsMap = {\n        assign_team: resolveTeamIds(this.teams, params),\n        add_label: resolveLabels(this.labels, params),\n        remove_label: resolveLabels(this.labels, params),\n        assign_agent: resolveAgents(this.agents, params),\n        mute_conversation: null,\n        snooze_conversation: null,\n        resolve_conversation: null,\n        remove_assigned_team: null,\n        send_webhook_event: params[0],\n        send_message: params[0],\n        send_email_transcript: params[0],\n        add_private_note: params[0]\n      };\n      return actionsMap[key] || '';\n    }\n  }\n};","map":{"version":3,"sources":["MacroPreview.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAaA,SACA,iBADA,EAEA,cAFA,EAGA,aAHA,EAIA,aAJA,QAKA,wDALA;AAMA,SAAA,UAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA;AADA,GADA;AAOA,EAAA,QAAA;AACA,IAAA,aADA,2BACA;AAAA;;AACA,aAAA,KAAA,KAAA,CAAA,OAAA,CAAA,GAAA,CAAA,UAAA,MAAA,EAAA;AACA,eAAA;AACA,UAAA,UAAA,EAAA,iBAAA,CAAA,MAAA,CAAA,WAAA,CADA;AAEA,UAAA,WAAA,EAAA,KAAA,CAAA,cAAA,CACA,MAAA,CAAA,WADA,EAEA,MAAA,CAAA,aAFA;AAFA,SAAA;AAOA,OARA,CAAA;AASA;AAXA,KAYA,UAAA,CAAA;AACA,IAAA,MAAA,EAAA,kBADA;AAEA,IAAA,KAAA,EAAA,gBAFA;AAGA,IAAA,MAAA,EAAA;AAHA,GAAA,CAZA,CAPA;AAyBA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,0BACA,GADA,EACA,MADA,EACA;AACA,UAAA,UAAA,GAAA;AACA,QAAA,WAAA,EAAA,cAAA,CAAA,KAAA,KAAA,EAAA,MAAA,CADA;AAEA,QAAA,SAAA,EAAA,aAAA,CAAA,KAAA,MAAA,EAAA,MAAA,CAFA;AAGA,QAAA,YAAA,EAAA,aAAA,CAAA,KAAA,MAAA,EAAA,MAAA,CAHA;AAIA,QAAA,YAAA,EAAA,aAAA,CAAA,KAAA,MAAA,EAAA,MAAA,CAJA;AAKA,QAAA,iBAAA,EAAA,IALA;AAMA,QAAA,mBAAA,EAAA,IANA;AAOA,QAAA,oBAAA,EAAA,IAPA;AAQA,QAAA,oBAAA,EAAA,IARA;AASA,QAAA,kBAAA,EAAA,MAAA,CAAA,CAAA,CATA;AAUA,QAAA,YAAA,EAAA,MAAA,CAAA,CAAA,CAVA;AAWA,QAAA,qBAAA,EAAA,MAAA,CAAA,CAAA,CAXA;AAYA,QAAA,gBAAA,EAAA,MAAA,CAAA,CAAA;AAZA,OAAA;AAcA,aAAA,UAAA,CAAA,GAAA,CAAA,IAAA,EAAA;AACA;AAjBA;AAzBA,CAAA","sourcesContent":["<template>\n  <div class=\"macro-preview\">\n    <p class=\"macro-title\">{{ macro.name }}</p>\n    <div v-for=\"(action, i) in resolvedMacro\" :key=\"i\" class=\"macro-block\">\n      <div v-if=\"i !== macro.actions.length - 1\" class=\"macro-block-border\" />\n      <div class=\"macro-block-dot\" />\n      <p class=\"macro-action-name\">{{ action.actionName }}</p>\n      <p class=\"macro-action-params\">{{ action.actionValue }}</p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {\n  resolveActionName,\n  resolveTeamIds,\n  resolveLabels,\n  resolveAgents,\n} from 'dashboard/routes/dashboard/settings/macros/macroHelper';\nimport { mapGetters } from 'vuex';\n\nexport default {\n  props: {\n    macro: {\n      type: Object,\n      required: true,\n    },\n  },\n  computed: {\n    resolvedMacro() {\n      return this.macro.actions.map(action => {\n        return {\n          actionName: resolveActionName(action.action_name),\n          actionValue: this.getActionValue(\n            action.action_name,\n            action.action_params\n          ),\n        };\n      });\n    },\n    ...mapGetters({\n      labels: 'labels/getLabels',\n      teams: 'teams/getTeams',\n      agents: 'agents/getAgents',\n    }),\n  },\n  methods: {\n    getActionValue(key, params) {\n      const actionsMap = {\n        assign_team: resolveTeamIds(this.teams, params),\n        add_label: resolveLabels(this.labels, params),\n        remove_label: resolveLabels(this.labels, params),\n        assign_agent: resolveAgents(this.agents, params),\n        mute_conversation: null,\n        snooze_conversation: null,\n        resolve_conversation: null,\n        remove_assigned_team: null,\n        send_webhook_event: params[0],\n        send_message: params[0],\n        send_email_transcript: params[0],\n        add_private_note: params[0],\n      };\n      return actionsMap[key] || '';\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.macro-preview {\n  position: absolute;\n  max-height: calc(var(--space-giga) * 1.5);\n  min-height: var(--space-jumbo);\n  width: calc(var(--space-giga) + var(--space-large));\n  border-radius: var(--border-radius-normal);\n  background-color: var(--white);\n  box-shadow: var(--shadow-dropdown-pane);\n  bottom: calc(var(--space-three) + var(--space-half));\n  right: calc(var(--space-three) + var(--space-half));\n  overflow-y: auto;\n  padding: var(--space-slab);\n\n  .macro-title {\n    margin-bottom: var(--space-slab);\n    color: var(--s-900);\n    font-weight: var(--font-weight-bold);\n  }\n\n  .macro-block {\n    position: relative;\n    padding-left: var(--space-slab);\n    &:not(:last-child) {\n      padding-bottom: var(--space-slab);\n    }\n\n    .macro-block-border {\n      top: 0.625rem;\n      position: absolute;\n      bottom: var(--space-minus-half);\n      left: 0;\n      width: 1px;\n      background-color: var(--s-100);\n    }\n\n    .macro-block-dot {\n      position: absolute;\n      left: -0.35rem;\n      height: var(--space-small);\n      width: var(--space-small);\n      border: 2px solid var(--s-100);\n      background-color: var(--white);\n      border-radius: var(--border-radius-full);\n      top: 0.4375rem;\n    }\n  }\n\n  .macro-action-name {\n    font-size: var(--font-size-mini);\n    color: var(--s-500);\n  }\n}\n</style>\n"],"sourceRoot":"app/javascript/dashboard/routes/dashboard/conversation/Macros"},"metadata":{},"sourceType":"module"}