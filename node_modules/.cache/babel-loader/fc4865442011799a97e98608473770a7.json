{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { required, url, minLength } from 'vuelidate/lib/validators';\nimport thumbnail from 'dashboard/components/widgets/Thumbnail';\nimport { convertToCategorySlug } from 'dashboard/helper/commons.js';\nimport { buildPortalURL } from 'dashboard/helper/portalHelper';\nexport default {\n  components: {\n    thumbnail: thumbnail\n  },\n  props: {\n    portal: {\n      type: Object,\n      default: function _default() {}\n    },\n    isSubmitting: {\n      type: Boolean,\n      default: false\n    },\n    submitButtonText: {\n      type: String,\n      default: ''\n    }\n  },\n  data: function data() {\n    return {\n      name: '',\n      slug: '',\n      domain: '',\n      alertMessage: ''\n    };\n  },\n  validations: {\n    name: {\n      required: required,\n      minLength: minLength(2)\n    },\n    slug: {\n      required: required\n    },\n    domain: {\n      url: url\n    }\n  },\n  computed: {\n    nameError: function nameError() {\n      if (this.$v.name.$error) {\n        return this.$t('HELP_CENTER.CATEGORY.ADD.NAME.ERROR');\n      }\n\n      return '';\n    },\n    slugError: function slugError() {\n      if (this.$v.slug.$error) {\n        return this.$t('HELP_CENTER.CATEGORY.ADD.SLUG.ERROR');\n      }\n\n      return '';\n    },\n    domainError: function domainError() {\n      if (this.$v.domain.$error) {\n        return this.$t('HELP_CENTER.PORTAL.ADD.DOMAIN.ERROR');\n      }\n\n      return '';\n    },\n    domainHelpText: function domainHelpText() {\n      return buildPortalURL(this.slug);\n    }\n  },\n  mounted: function mounted() {\n    var portal = this.portal || {};\n    this.name = portal.name || '';\n    this.slug = portal.slug || '';\n    this.domain = portal.custom_domain || '';\n    this.alertMessage = '';\n  },\n  methods: {\n    onNameChange: function onNameChange() {\n      this.slug = convertToCategorySlug(this.name);\n    },\n    onSubmitClick: function onSubmitClick() {\n      this.$v.$touch();\n\n      if (this.$v.$invalid) {\n        return;\n      }\n\n      var portal = {\n        name: this.name,\n        slug: this.slug,\n        custom_domain: this.domain\n      };\n      this.$emit('submit', portal);\n    }\n  }\n};","map":{"version":3,"sources":["PortalSettingsBasicForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmFA,SAAA,QAAA,EAAA,GAAA,EAAA,SAAA,QAAA,0BAAA;AACA,OAAA,SAAA,MAAA,wCAAA;AACA,SAAA,qBAAA,QAAA,6BAAA;AACA,SAAA,cAAA,QAAA,+BAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,SAAA,EAAA;AADA,GADA;AAIA,EAAA,KAAA,EAAA;AACA,IAAA,MAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA,oBAAA,CAAA;AAFA,KADA;AAKA,IAAA,YAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAFA,KALA;AASA,IAAA,gBAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA;AATA,GAJA;AAkBA,EAAA,IAlBA,kBAkBA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA,EAFA;AAGA,MAAA,MAAA,EAAA,EAHA;AAIA,MAAA,YAAA,EAAA;AAJA,KAAA;AAMA,GAzBA;AA0BA,EAAA,WAAA,EAAA;AACA,IAAA,IAAA,EAAA;AACA,MAAA,QAAA,EAAA,QADA;AAEA,MAAA,SAAA,EAAA,SAAA,CAAA,CAAA;AAFA,KADA;AAKA,IAAA,IAAA,EAAA;AACA,MAAA,QAAA,EAAA;AADA,KALA;AAQA,IAAA,MAAA,EAAA;AACA,MAAA,GAAA,EAAA;AADA;AARA,GA1BA;AAsCA,EAAA,QAAA,EAAA;AACA,IAAA,SADA,uBACA;AACA,UAAA,KAAA,EAAA,CAAA,IAAA,CAAA,MAAA,EAAA;AACA,eAAA,KAAA,EAAA,CAAA,qCAAA,CAAA;AACA;;AACA,aAAA,EAAA;AACA,KANA;AAOA,IAAA,SAPA,uBAOA;AACA,UAAA,KAAA,EAAA,CAAA,IAAA,CAAA,MAAA,EAAA;AACA,eAAA,KAAA,EAAA,CAAA,qCAAA,CAAA;AACA;;AACA,aAAA,EAAA;AACA,KAZA;AAaA,IAAA,WAbA,yBAaA;AACA,UAAA,KAAA,EAAA,CAAA,MAAA,CAAA,MAAA,EAAA;AACA,eAAA,KAAA,EAAA,CAAA,qCAAA,CAAA;AACA;;AACA,aAAA,EAAA;AACA,KAlBA;AAmBA,IAAA,cAnBA,4BAmBA;AACA,aAAA,cAAA,CAAA,KAAA,IAAA,CAAA;AACA;AArBA,GAtCA;AA6DA,EAAA,OA7DA,qBA6DA;AACA,QAAA,MAAA,GAAA,KAAA,MAAA,IAAA,EAAA;AACA,SAAA,IAAA,GAAA,MAAA,CAAA,IAAA,IAAA,EAAA;AACA,SAAA,IAAA,GAAA,MAAA,CAAA,IAAA,IAAA,EAAA;AACA,SAAA,MAAA,GAAA,MAAA,CAAA,aAAA,IAAA,EAAA;AACA,SAAA,YAAA,GAAA,EAAA;AACA,GAnEA;AAoEA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AACA,WAAA,IAAA,GAAA,qBAAA,CAAA,KAAA,IAAA,CAAA;AACA,KAHA;AAIA,IAAA,aAJA,2BAIA;AACA,WAAA,EAAA,CAAA,MAAA;;AACA,UAAA,KAAA,EAAA,CAAA,QAAA,EAAA;AACA;AACA;;AAEA,UAAA,MAAA,GAAA;AACA,QAAA,IAAA,EAAA,KAAA,IADA;AAEA,QAAA,IAAA,EAAA,KAAA,IAFA;AAGA,QAAA,aAAA,EAAA,KAAA;AAHA,OAAA;AAKA,WAAA,KAAA,CAAA,QAAA,EAAA,MAAA;AACA;AAhBA;AApEA,CAAA","sourcesContent":["<template>\n  <div class=\"wizard-body columns content-box small-9\">\n    <div class=\"medium-12 columns\">\n      <h3 class=\"block-title\">\n        {{\n          $t(\n            'HELP_CENTER.PORTAL.ADD.CREATE_FLOW_PAGE.BASIC_SETTINGS_PAGE.TITLE'\n          )\n        }}\n      </h3>\n    </div>\n    <div class=\"portal-form\">\n      <div class=\"medium-8 columns\">\n        <div class=\"form-item\">\n          <label>\n            {{ $t('HELP_CENTER.PORTAL.ADD.LOGO.LABEL') }}\n          </label>\n          <div class=\"logo-container\">\n            <thumbnail :username=\"name\" size=\"56\" variant=\"square\" />\n            <woot-button\n              v-if=\"false\"\n              class=\"upload-button\"\n              variant=\"smooth\"\n              color-scheme=\"secondary\"\n              icon=\"upload\"\n              size=\"small\"\n            >\n              {{ $t('HELP_CENTER.PORTAL.ADD.LOGO.UPLOAD_BUTTON') }}\n            </woot-button>\n          </div>\n          <p class=\"logo-help--text\">\n            {{ $t('HELP_CENTER.PORTAL.ADD.LOGO.HELP_TEXT') }}\n          </p>\n        </div>\n        <div class=\"form-item\">\n          <woot-input\n            v-model.trim=\"name\"\n            :class=\"{ error: $v.name.$error }\"\n            :error=\"nameError\"\n            :label=\"$t('HELP_CENTER.PORTAL.ADD.NAME.LABEL')\"\n            :placeholder=\"$t('HELP_CENTER.PORTAL.ADD.NAME.PLACEHOLDER')\"\n            :help-text=\"$t('HELP_CENTER.PORTAL.ADD.NAME.HELP_TEXT')\"\n            @blur=\"$v.name.$touch\"\n            @input=\"onNameChange\"\n          />\n        </div>\n        <div class=\"form-item\">\n          <woot-input\n            v-model.trim=\"slug\"\n            :class=\"{ error: $v.slug.$error }\"\n            :error=\"slugError\"\n            :label=\"$t('HELP_CENTER.PORTAL.ADD.SLUG.LABEL')\"\n            :placeholder=\"$t('HELP_CENTER.PORTAL.ADD.SLUG.PLACEHOLDER')\"\n            :help-text=\"domainHelpText\"\n            @blur=\"$v.slug.$touch\"\n          />\n        </div>\n        <div class=\"form-item\">\n          <woot-input\n            v-model.trim=\"domain\"\n            :class=\"{ error: $v.domain.$error }\"\n            :label=\"$t('HELP_CENTER.PORTAL.ADD.DOMAIN.LABEL')\"\n            :placeholder=\"$t('HELP_CENTER.PORTAL.ADD.DOMAIN.PLACEHOLDER')\"\n            :help-text=\"$t('HELP_CENTER.PORTAL.ADD.DOMAIN.HELP_TEXT')\"\n            :error=\"domainError\"\n            @blur=\"$v.domain.$touch\"\n          />\n        </div>\n      </div>\n    </div>\n    <div class=\"flex-end\">\n      <woot-button\n        :is-loading=\"isSubmitting\"\n        :is-disabled=\"$v.$invalid\"\n        @click=\"onSubmitClick\"\n      >\n        {{ submitButtonText }}\n      </woot-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { required, url, minLength } from 'vuelidate/lib/validators';\nimport thumbnail from 'dashboard/components/widgets/Thumbnail';\nimport { convertToCategorySlug } from 'dashboard/helper/commons.js';\nimport { buildPortalURL } from 'dashboard/helper/portalHelper';\n\nexport default {\n  components: {\n    thumbnail,\n  },\n  props: {\n    portal: {\n      type: Object,\n      default: () => {},\n    },\n    isSubmitting: {\n      type: Boolean,\n      default: false,\n    },\n    submitButtonText: {\n      type: String,\n      default: '',\n    },\n  },\n  data() {\n    return {\n      name: '',\n      slug: '',\n      domain: '',\n      alertMessage: '',\n    };\n  },\n  validations: {\n    name: {\n      required,\n      minLength: minLength(2),\n    },\n    slug: {\n      required,\n    },\n    domain: {\n      url,\n    },\n  },\n  computed: {\n    nameError() {\n      if (this.$v.name.$error) {\n        return this.$t('HELP_CENTER.CATEGORY.ADD.NAME.ERROR');\n      }\n      return '';\n    },\n    slugError() {\n      if (this.$v.slug.$error) {\n        return this.$t('HELP_CENTER.CATEGORY.ADD.SLUG.ERROR');\n      }\n      return '';\n    },\n    domainError() {\n      if (this.$v.domain.$error) {\n        return this.$t('HELP_CENTER.PORTAL.ADD.DOMAIN.ERROR');\n      }\n      return '';\n    },\n    domainHelpText() {\n      return buildPortalURL(this.slug);\n    },\n  },\n  mounted() {\n    const portal = this.portal || {};\n    this.name = portal.name || '';\n    this.slug = portal.slug || '';\n    this.domain = portal.custom_domain || '';\n    this.alertMessage = '';\n  },\n  methods: {\n    onNameChange() {\n      this.slug = convertToCategorySlug(this.name);\n    },\n    onSubmitClick() {\n      this.$v.$touch();\n      if (this.$v.$invalid) {\n        return;\n      }\n\n      const portal = {\n        name: this.name,\n        slug: this.slug,\n        custom_domain: this.domain,\n      };\n      this.$emit('submit', portal);\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.wizard-body {\n  padding-top: var(--space-slab);\n  border: 1px solid transparent;\n}\n\n.portal-form {\n  margin: var(--space-normal) 0;\n  border-bottom: 1px solid var(--s-25);\n\n  .form-item {\n    margin-bottom: var(--space-normal);\n\n    .logo-container {\n      display: flex;\n      align-items: center;\n      flex-direction: row;\n      .upload-button {\n        margin-left: var(--space-slab);\n      }\n    }\n    .logo-help--text {\n      margin-top: var(--space-smaller);\n      margin-bottom: 0;\n      font-size: var(--font-size-mini);\n      color: var(--s-600);\n      font-style: normal;\n    }\n  }\n}\n::v-deep {\n  input {\n    margin-bottom: var(--space-smaller);\n  }\n  .help-text {\n    margin-bottom: 0;\n  }\n}\n</style>\n"],"sourceRoot":"app/javascript/dashboard/routes/dashboard/helpcenter/components"},"metadata":{},"sourceType":"module"}