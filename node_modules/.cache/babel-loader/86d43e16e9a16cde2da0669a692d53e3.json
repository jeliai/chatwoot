{"ast":null,"code":"import \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptor.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptors.js\";\n\nvar _mutations;\n\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.promise.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport \"regenerator-runtime/runtime.js\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nimport * as MutationHelpers from 'shared/helpers/vuex/mutationHelpers';\nimport * as types from '../mutation-types';\nimport CannedResponseAPI from '../../api/cannedResponse';\nvar state = {\n  records: [],\n  uiFlags: {\n    fetchingList: false,\n    fetchingItem: false,\n    creatingItem: false,\n    updatingItem: false,\n    deletingItem: false\n  }\n};\nvar getters = {\n  getCannedResponses: function getCannedResponses(_state) {\n    return _state.records;\n  },\n  getUIFlags: function getUIFlags(_state) {\n    return _state.uiFlags;\n  }\n};\nvar actions = {\n  getCannedResponse: function () {\n    var _getCannedResponse = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref) {\n      var commit,\n          _ref2,\n          searchKey,\n          response,\n          _args = arguments;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              commit = _ref.commit;\n              _ref2 = _args.length > 1 && _args[1] !== undefined ? _args[1] : {}, searchKey = _ref2.searchKey;\n              commit(types.default.SET_CANNED_UI_FLAG, {\n                fetchingList: true\n              });\n              _context.prev = 3;\n              _context.next = 6;\n              return CannedResponseAPI.get({\n                searchKey: searchKey\n              });\n\n            case 6:\n              response = _context.sent;\n              commit(types.default.SET_CANNED, response.data);\n              commit(types.default.SET_CANNED_UI_FLAG, {\n                fetchingList: false\n              });\n              _context.next = 14;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](3);\n              commit(types.default.SET_CANNED_UI_FLAG, {\n                fetchingList: false\n              });\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[3, 11]]);\n    }));\n\n    function getCannedResponse(_x) {\n      return _getCannedResponse.apply(this, arguments);\n    }\n\n    return getCannedResponse;\n  }(),\n  createCannedResponse: function () {\n    var _createCannedResponse = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(_ref3, cannedObj) {\n      var commit, response;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              commit = _ref3.commit;\n              commit(types.default.SET_CANNED_UI_FLAG, {\n                creatingItem: true\n              });\n              _context2.prev = 2;\n              _context2.next = 5;\n              return CannedResponseAPI.create(cannedObj);\n\n            case 5:\n              response = _context2.sent;\n              commit(types.default.ADD_CANNED, response.data);\n              commit(types.default.SET_CANNED_UI_FLAG, {\n                creatingItem: false\n              });\n              _context2.next = 13;\n              break;\n\n            case 10:\n              _context2.prev = 10;\n              _context2.t0 = _context2[\"catch\"](2);\n              commit(types.default.SET_CANNED_UI_FLAG, {\n                creatingItem: false\n              });\n\n            case 13:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[2, 10]]);\n    }));\n\n    function createCannedResponse(_x2, _x3) {\n      return _createCannedResponse.apply(this, arguments);\n    }\n\n    return createCannedResponse;\n  }(),\n  updateCannedResponse: function () {\n    var _updateCannedResponse = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(_ref4, _ref5) {\n      var commit, id, updateObj, response;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              commit = _ref4.commit;\n              id = _ref5.id, updateObj = _objectWithoutProperties(_ref5, [\"id\"]);\n              commit(types.default.SET_CANNED_UI_FLAG, {\n                updatingItem: true\n              });\n              _context3.prev = 3;\n              _context3.next = 6;\n              return CannedResponseAPI.update(id, updateObj);\n\n            case 6:\n              response = _context3.sent;\n              commit(types.default.EDIT_CANNED, response.data);\n              commit(types.default.SET_CANNED_UI_FLAG, {\n                updatingItem: false\n              });\n              _context3.next = 14;\n              break;\n\n            case 11:\n              _context3.prev = 11;\n              _context3.t0 = _context3[\"catch\"](3);\n              commit(types.default.SET_CANNED_UI_FLAG, {\n                updatingItem: false\n              });\n\n            case 14:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[3, 11]]);\n    }));\n\n    function updateCannedResponse(_x4, _x5) {\n      return _updateCannedResponse.apply(this, arguments);\n    }\n\n    return updateCannedResponse;\n  }(),\n  deleteCannedResponse: function () {\n    var _deleteCannedResponse = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(_ref6, id) {\n      var commit;\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              commit = _ref6.commit;\n              commit(types.default.SET_CANNED_UI_FLAG, {\n                deletingItem: true\n              });\n              _context4.prev = 2;\n              _context4.next = 5;\n              return CannedResponseAPI.delete(id);\n\n            case 5:\n              commit(types.default.DELETE_CANNED, id);\n              commit(types.default.SET_CANNED_UI_FLAG, {\n                deletingItem: true\n              });\n              _context4.next = 12;\n              break;\n\n            case 9:\n              _context4.prev = 9;\n              _context4.t0 = _context4[\"catch\"](2);\n              commit(types.default.SET_CANNED_UI_FLAG, {\n                deletingItem: true\n              });\n\n            case 12:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[2, 9]]);\n    }));\n\n    function deleteCannedResponse(_x6, _x7) {\n      return _deleteCannedResponse.apply(this, arguments);\n    }\n\n    return deleteCannedResponse;\n  }()\n};\nvar mutations = (_mutations = {}, _defineProperty(_mutations, types.default.SET_CANNED_UI_FLAG, function (_state, data) {\n  _state.uiFlags = _objectSpread(_objectSpread({}, _state.uiFlags), data);\n}), _defineProperty(_mutations, types.default.SET_CANNED, MutationHelpers.set), _defineProperty(_mutations, types.default.ADD_CANNED, MutationHelpers.create), _defineProperty(_mutations, types.default.EDIT_CANNED, MutationHelpers.update), _defineProperty(_mutations, types.default.DELETE_CANNED, MutationHelpers.destroy), _mutations);\nexport default {\n  state: state,\n  getters: getters,\n  actions: actions,\n  mutations: mutations\n};","map":{"version":3,"sources":["/Users/s.dastan/Desktop/chatwoot/chatwoot/app/javascript/dashboard/store/modules/cannedResponse.js"],"names":["MutationHelpers","types","CannedResponseAPI","state","records","uiFlags","fetchingList","fetchingItem","creatingItem","updatingItem","deletingItem","getters","getCannedResponses","_state","getUIFlags","actions","getCannedResponse","commit","searchKey","default","SET_CANNED_UI_FLAG","get","response","SET_CANNED","data","createCannedResponse","cannedObj","create","ADD_CANNED","updateCannedResponse","id","updateObj","update","EDIT_CANNED","deleteCannedResponse","delete","DELETE_CANNED","mutations","set","destroy"],"mappings":"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","sourcesContent":["import * as MutationHelpers from 'shared/helpers/vuex/mutationHelpers';\nimport * as types from '../mutation-types';\nimport CannedResponseAPI from '../../api/cannedResponse';\n\nconst state = {\n  records: [],\n  uiFlags: {\n    fetchingList: false,\n    fetchingItem: false,\n    creatingItem: false,\n    updatingItem: false,\n    deletingItem: false,\n  },\n};\n\nconst getters = {\n  getCannedResponses(_state) {\n    return _state.records;\n  },\n  getUIFlags(_state) {\n    return _state.uiFlags;\n  },\n};\n\nconst actions = {\n  getCannedResponse: async function getCannedResponse(\n    { commit },\n    { searchKey } = {}\n  ) {\n    commit(types.default.SET_CANNED_UI_FLAG, { fetchingList: true });\n    try {\n      const response = await CannedResponseAPI.get({ searchKey });\n      commit(types.default.SET_CANNED, response.data);\n      commit(types.default.SET_CANNED_UI_FLAG, { fetchingList: false });\n    } catch (error) {\n      commit(types.default.SET_CANNED_UI_FLAG, { fetchingList: false });\n    }\n  },\n\n  createCannedResponse: async function createCannedResponse(\n    { commit },\n    cannedObj\n  ) {\n    commit(types.default.SET_CANNED_UI_FLAG, { creatingItem: true });\n    try {\n      const response = await CannedResponseAPI.create(cannedObj);\n      commit(types.default.ADD_CANNED, response.data);\n      commit(types.default.SET_CANNED_UI_FLAG, { creatingItem: false });\n    } catch (error) {\n      commit(types.default.SET_CANNED_UI_FLAG, { creatingItem: false });\n    }\n  },\n\n  updateCannedResponse: async function updateCannedResponse(\n    { commit },\n    { id, ...updateObj }\n  ) {\n    commit(types.default.SET_CANNED_UI_FLAG, { updatingItem: true });\n    try {\n      const response = await CannedResponseAPI.update(id, updateObj);\n      commit(types.default.EDIT_CANNED, response.data);\n      commit(types.default.SET_CANNED_UI_FLAG, { updatingItem: false });\n    } catch (error) {\n      commit(types.default.SET_CANNED_UI_FLAG, { updatingItem: false });\n    }\n  },\n\n  deleteCannedResponse: async function deleteCannedResponse({ commit }, id) {\n    commit(types.default.SET_CANNED_UI_FLAG, { deletingItem: true });\n    try {\n      await CannedResponseAPI.delete(id);\n      commit(types.default.DELETE_CANNED, id);\n      commit(types.default.SET_CANNED_UI_FLAG, { deletingItem: true });\n    } catch (error) {\n      commit(types.default.SET_CANNED_UI_FLAG, { deletingItem: true });\n    }\n  },\n};\n\nconst mutations = {\n  [types.default.SET_CANNED_UI_FLAG](_state, data) {\n    _state.uiFlags = {\n      ..._state.uiFlags,\n      ...data,\n    };\n  },\n\n  [types.default.SET_CANNED]: MutationHelpers.set,\n  [types.default.ADD_CANNED]: MutationHelpers.create,\n  [types.default.EDIT_CANNED]: MutationHelpers.update,\n  [types.default.DELETE_CANNED]: MutationHelpers.destroy,\n};\n\nexport default {\n  state,\n  getters,\n  actions,\n  mutations,\n};\n"]},"metadata":{},"sourceType":"module"}