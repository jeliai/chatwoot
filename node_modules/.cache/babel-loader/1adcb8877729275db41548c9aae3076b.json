{"ast":null,"code":"import \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.filter.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getLanguageName } from '../../../components/widgets/conversation/advancedFilterItems/languages';\nimport ContactDetailsItem from './ContactDetailsItem.vue';\nimport CustomAttributes from './customAttributes/CustomAttributes.vue';\nimport CustomAttributeSelector from './customAttributes/CustomAttributeSelector.vue';\nexport default {\n  components: {\n    ContactDetailsItem: ContactDetailsItem,\n    CustomAttributes: CustomAttributes,\n    CustomAttributeSelector: CustomAttributeSelector\n  },\n  props: {\n    conversationAttributes: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    contactAttributes: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    }\n  },\n  STATIC_ATTRIBUTES: [{\n    name: 'initiated_at',\n    label: 'CONTACT_PANEL.INITIATED_AT'\n  }, {\n    name: 'referer',\n    label: 'CONTACT_PANEL.BROWSER'\n  }, {\n    name: 'browserName',\n    label: 'CONTACT_PANEL.BROWSER'\n  }, {\n    name: 'platformName',\n    label: 'CONTACT_PANEL.OS'\n  }, {\n    name: 'ipAddress',\n    label: 'CONTACT_PANEL.IP_ADDRESS'\n  }],\n  computed: {\n    referer: function referer() {\n      return this.conversationAttributes.referer;\n    },\n    initiatedAt: function initiatedAt() {\n      return this.conversationAttributes.initiated_at;\n    },\n    browserName: function browserName() {\n      if (!this.conversationAttributes.browser) {\n        return '';\n      }\n\n      var _this$conversationAtt = this.conversationAttributes.browser,\n          _this$conversationAtt2 = _this$conversationAtt.browser_name,\n          browserName = _this$conversationAtt2 === void 0 ? '' : _this$conversationAtt2,\n          _this$conversationAtt3 = _this$conversationAtt.browser_version,\n          browserVersion = _this$conversationAtt3 === void 0 ? '' : _this$conversationAtt3;\n      return \"\".concat(browserName, \" \").concat(browserVersion);\n    },\n    browserLanguage: function browserLanguage() {\n      return getLanguageName(this.conversationAttributes.browser_language);\n    },\n    platformName: function platformName() {\n      if (!this.conversationAttributes.browser) {\n        return '';\n      }\n\n      var _this$conversationAtt4 = this.conversationAttributes.browser,\n          platformName = _this$conversationAtt4.platform_name,\n          platformVersion = _this$conversationAtt4.platform_version;\n      return \"\".concat(platformName || '', \" \").concat(platformVersion || '');\n    },\n    ipAddress: function ipAddress() {\n      var createdAtIp = this.contactAttributes.created_at_ip;\n      return createdAtIp;\n    },\n    customAttributeRowClass: function customAttributeRowClass() {\n      var _this = this;\n\n      var attributes = ['initiatedAt', 'referer', 'browserName', 'platformName', 'ipAddress'];\n      var availableAttributes = attributes.filter(function (attribute) {\n        return !!_this[attribute];\n      });\n      return availableAttributes.length % 2 === 0 ? 'even' : 'odd';\n    }\n  }\n};","map":{"version":3,"sources":["ConversationInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA,SAAA,eAAA,QAAA,wEAAA;AACA,OAAA,kBAAA,MAAA,0BAAA;AACA,OAAA,gBAAA,MAAA,yCAAA;AACA,OAAA,uBAAA,MAAA,gDAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,kBAAA,EAAA,kBADA;AAEA,IAAA,gBAAA,EAAA,gBAFA;AAGA,IAAA,uBAAA,EAAA;AAHA,GADA;AAMA,EAAA,KAAA,EAAA;AACA,IAAA,sBAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAAA,eAAA,EAAA;AAAA;AAFA,KADA;AAKA,IAAA,iBAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAAA,eAAA,EAAA;AAAA;AAFA;AALA,GANA;AAgBA,EAAA,iBAAA,EAAA,CACA;AACA,IAAA,IAAA,EAAA,cADA;AAEA,IAAA,KAAA,EAAA;AAFA,GADA,EAKA;AACA,IAAA,IAAA,EAAA,SADA;AAEA,IAAA,KAAA,EAAA;AAFA,GALA,EASA;AACA,IAAA,IAAA,EAAA,aADA;AAEA,IAAA,KAAA,EAAA;AAFA,GATA,EAaA;AACA,IAAA,IAAA,EAAA,cADA;AAEA,IAAA,KAAA,EAAA;AAFA,GAbA,EAiBA;AACA,IAAA,IAAA,EAAA,WADA;AAEA,IAAA,KAAA,EAAA;AAFA,GAjBA,CAhBA;AAsCA,EAAA,QAAA,EAAA;AACA,IAAA,OADA,qBACA;AACA,aAAA,KAAA,sBAAA,CAAA,OAAA;AACA,KAHA;AAIA,IAAA,WAJA,yBAIA;AACA,aAAA,KAAA,sBAAA,CAAA,YAAA;AACA,KANA;AAOA,IAAA,WAPA,yBAOA;AACA,UAAA,CAAA,KAAA,sBAAA,CAAA,OAAA,EAAA;AACA,eAAA,EAAA;AACA;;AACA,kCAGA,KAAA,sBAAA,CAAA,OAHA;AAAA,yDACA,YADA;AAAA,UACA,WADA,uCACA,EADA;AAAA,yDAEA,eAFA;AAAA,UAEA,cAFA,uCAEA,EAFA;AAIA,uBAAA,WAAA,cAAA,cAAA;AACA,KAhBA;AAiBA,IAAA,eAjBA,6BAiBA;AACA,aAAA,eAAA,CAAA,KAAA,sBAAA,CAAA,gBAAA,CAAA;AACA,KAnBA;AAoBA,IAAA,YApBA,0BAoBA;AACA,UAAA,CAAA,KAAA,sBAAA,CAAA,OAAA,EAAA;AACA,eAAA,EAAA;AACA;;AACA,mCAGA,KAAA,sBAAA,CAAA,OAHA;AAAA,UACA,YADA,0BACA,aADA;AAAA,UAEA,eAFA,0BAEA,gBAFA;AAIA,uBAAA,YAAA,IAAA,EAAA,cAAA,eAAA,IAAA,EAAA;AACA,KA7BA;AA8BA,IAAA,SA9BA,uBA8BA;AACA,UAAA,WAAA,GAAA,KAAA,iBAAA,CAAA,aAAA;AACA,aAAA,WAAA;AACA,KAjCA;AAkCA,IAAA,uBAlCA,qCAkCA;AAAA;;AACA,UAAA,UAAA,GAAA,CACA,aADA,EAEA,SAFA,EAGA,aAHA,EAIA,cAJA,EAKA,WALA,CAAA;AAOA,UAAA,mBAAA,GAAA,UAAA,CAAA,MAAA,CACA,UAAA,SAAA;AAAA,eAAA,CAAA,CAAA,KAAA,CAAA,SAAA,CAAA;AAAA,OADA,CAAA;AAGA,aAAA,mBAAA,CAAA,MAAA,GAAA,CAAA,KAAA,CAAA,GAAA,MAAA,GAAA,KAAA;AACA;AA9CA;AAtCA,CAAA","sourcesContent":["<template>\n  <div class=\"conversation--details\">\n    <contact-details-item\n      v-if=\"initiatedAt\"\n      :title=\"$t('CONTACT_PANEL.INITIATED_AT')\"\n      :value=\"initiatedAt.timestamp\"\n      class=\"conversation--attribute\"\n    />\n    <contact-details-item\n      v-if=\"browserLanguage\"\n      :title=\"$t('CONTACT_PANEL.BROWSER_LANGUAGE')\"\n      :value=\"browserLanguage\"\n      class=\"conversation--attribute\"\n    />\n    <contact-details-item\n      v-if=\"referer\"\n      :title=\"$t('CONTACT_PANEL.INITIATED_FROM')\"\n      :value=\"referer\"\n      class=\"conversation--attribute\"\n    >\n      <a :href=\"referer\" rel=\"noopener noreferrer nofollow\" target=\"_blank\">\n        {{ referer }}\n      </a>\n    </contact-details-item>\n    <contact-details-item\n      v-if=\"browserName\"\n      :title=\"$t('CONTACT_PANEL.BROWSER')\"\n      :value=\"browserName\"\n      class=\"conversation--attribute\"\n    />\n    <contact-details-item\n      v-if=\"platformName\"\n      :title=\"$t('CONTACT_PANEL.OS')\"\n      :value=\"platformName\"\n      class=\"conversation--attribute\"\n    />\n    <contact-details-item\n      v-if=\"ipAddress\"\n      :title=\"$t('CONTACT_PANEL.IP_ADDRESS')\"\n      :value=\"ipAddress\"\n      class=\"conversation--attribute\"\n    />\n    <custom-attributes\n      attribute-type=\"conversation_attribute\"\n      attribute-class=\"conversation--attribute\"\n      :class=\"customAttributeRowClass\"\n    />\n    <custom-attribute-selector attribute-type=\"conversation_attribute\" />\n  </div>\n</template>\n\n<script>\nimport { getLanguageName } from '../../../components/widgets/conversation/advancedFilterItems/languages';\nimport ContactDetailsItem from './ContactDetailsItem.vue';\nimport CustomAttributes from './customAttributes/CustomAttributes.vue';\nimport CustomAttributeSelector from './customAttributes/CustomAttributeSelector.vue';\n\nexport default {\n  components: {\n    ContactDetailsItem,\n    CustomAttributes,\n    CustomAttributeSelector,\n  },\n  props: {\n    conversationAttributes: {\n      type: Object,\n      default: () => ({}),\n    },\n    contactAttributes: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n  STATIC_ATTRIBUTES: [\n    {\n      name: 'initiated_at',\n      label: 'CONTACT_PANEL.INITIATED_AT',\n    },\n    {\n      name: 'referer',\n      label: 'CONTACT_PANEL.BROWSER',\n    },\n    {\n      name: 'browserName',\n      label: 'CONTACT_PANEL.BROWSER',\n    },\n    {\n      name: 'platformName',\n      label: 'CONTACT_PANEL.OS',\n    },\n    {\n      name: 'ipAddress',\n      label: 'CONTACT_PANEL.IP_ADDRESS',\n    },\n  ],\n  computed: {\n    referer() {\n      return this.conversationAttributes.referer;\n    },\n    initiatedAt() {\n      return this.conversationAttributes.initiated_at;\n    },\n    browserName() {\n      if (!this.conversationAttributes.browser) {\n        return '';\n      }\n      const {\n        browser_name: browserName = '',\n        browser_version: browserVersion = '',\n      } = this.conversationAttributes.browser;\n      return `${browserName} ${browserVersion}`;\n    },\n    browserLanguage() {\n      return getLanguageName(this.conversationAttributes.browser_language);\n    },\n    platformName() {\n      if (!this.conversationAttributes.browser) {\n        return '';\n      }\n      const {\n        platform_name: platformName,\n        platform_version: platformVersion,\n      } = this.conversationAttributes.browser;\n      return `${platformName || ''} ${platformVersion || ''}`;\n    },\n    ipAddress() {\n      const { created_at_ip: createdAtIp } = this.contactAttributes;\n      return createdAtIp;\n    },\n    customAttributeRowClass() {\n      const attributes = [\n        'initiatedAt',\n        'referer',\n        'browserName',\n        'platformName',\n        'ipAddress',\n      ];\n      const availableAttributes = attributes.filter(\n        attribute => !!this[attribute]\n      );\n      return availableAttributes.length % 2 === 0 ? 'even' : 'odd';\n    },\n  },\n};\n</script>\n<style scoped lang=\"scss\">\n.conversation--attribute {\n  border-bottom: 1px solid var(--color-border-light);\n\n  &:nth-child(2n) {\n    background: var(--s-25);\n  }\n}\n</style>\n"],"sourceRoot":"app/javascript/dashboard/routes/dashboard/conversation"},"metadata":{},"sourceType":"module"}