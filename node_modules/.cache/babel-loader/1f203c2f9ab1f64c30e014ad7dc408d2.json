{"ast":null,"code":"import \"core-js/modules/es.string.trim.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\n\n/**\n * Detects support for emoji character sets.\n *\n * Based on the Modernizr emoji detection.\n * https://github.com/Modernizr/Modernizr/blob/347ddb078116cee91b25b6e897e211b023f9dcb4/feature-detects/emoji.js\n *\n * @return {Boolean} true or false\n * @example\n *\n * hasEmojiSupport()\n * // => true|false\n */\nexport var hasEmojiSupport = function hasEmojiSupport() {\n  var pixelRatio = window.devicePixelRatio || 1;\n  var offset = 12 * pixelRatio;\n  var node = document.createElement('canvas'); // canvastext support\n\n  if (!node.getContext || !node.getContext('2d') || typeof node.getContext('2d').fillText !== 'function') {\n    return false;\n  }\n\n  var ctx = node.getContext('2d');\n  ctx.fillStyle = '#f00';\n  ctx.textBaseline = 'top';\n  ctx.font = '32px Arial';\n  ctx.fillText(\"\\uD83D\\uDC28\", 0, 0); // U+1F428 KOALA\n\n  return ctx.getImageData(offset, offset, 1, 1).data[0] !== 0;\n};\nexport var removeEmoji = function removeEmoji(text) {\n  if (text) {\n    return text.replace(/([\\u2700-\\u27BF]|[\\uE000-\\uF8FF]|\\uD83C[\\uDC00-\\uDFFF]|\\uD83D[\\uDC00-\\uDFFF]|[\\u2011-\\u26FF]|\\uD83E[\\uDD10-\\uDDFF])/g, '').replace(/\\s+/g, ' ').trim();\n  }\n\n  return '';\n};","map":{"version":3,"sources":["/Users/s.dastan/Desktop/chatwoot/chatwoot/app/javascript/shared/helpers/emoji.js"],"names":["hasEmojiSupport","pixelRatio","window","devicePixelRatio","offset","node","document","createElement","getContext","fillText","ctx","fillStyle","textBaseline","font","getImageData","data","removeEmoji","text","replace","trim"],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,IAAMA,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AACnC,MAAMC,UAAU,GAAGC,MAAM,CAACC,gBAAP,IAA2B,CAA9C;AACA,MAAMC,MAAM,GAAG,KAAKH,UAApB;AACA,MAAMI,IAAI,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAb,CAHmC,CAKnC;;AACA,MACE,CAACF,IAAI,CAACG,UAAN,IACA,CAACH,IAAI,CAACG,UAAL,CAAgB,IAAhB,CADD,IAEA,OAAOH,IAAI,CAACG,UAAL,CAAgB,IAAhB,EAAsBC,QAA7B,KAA0C,UAH5C,EAIE;AACA,WAAO,KAAP;AACD;;AAED,MAAMC,GAAG,GAAGL,IAAI,CAACG,UAAL,CAAgB,IAAhB,CAAZ;AAEAE,EAAAA,GAAG,CAACC,SAAJ,GAAgB,MAAhB;AACAD,EAAAA,GAAG,CAACE,YAAJ,GAAmB,KAAnB;AACAF,EAAAA,GAAG,CAACG,IAAJ,GAAW,YAAX;AACAH,EAAAA,GAAG,CAACD,QAAJ,CAAa,cAAb,EAA6B,CAA7B,EAAgC,CAAhC,EAnBmC,CAmBC;;AACpC,SAAOC,GAAG,CAACI,YAAJ,CAAiBV,MAAjB,EAAyBA,MAAzB,EAAiC,CAAjC,EAAoC,CAApC,EAAuCW,IAAvC,CAA4C,CAA5C,MAAmD,CAA1D;AACD,CArBM;AAuBP,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAAAC,IAAI,EAAI;AACjC,MAAIA,IAAJ,EAAU;AACR,WAAOA,IAAI,CACRC,OADI,CAEH,sHAFG,EAGH,EAHG,EAKJA,OALI,CAKI,MALJ,EAKY,GALZ,EAMJC,IANI,EAAP;AAOD;;AACD,SAAO,EAAP;AACD,CAXM","sourcesContent":["/**\n * Detects support for emoji character sets.\n *\n * Based on the Modernizr emoji detection.\n * https://github.com/Modernizr/Modernizr/blob/347ddb078116cee91b25b6e897e211b023f9dcb4/feature-detects/emoji.js\n *\n * @return {Boolean} true or false\n * @example\n *\n * hasEmojiSupport()\n * // => true|false\n */\nexport const hasEmojiSupport = () => {\n  const pixelRatio = window.devicePixelRatio || 1;\n  const offset = 12 * pixelRatio;\n  const node = document.createElement('canvas');\n\n  // canvastext support\n  if (\n    !node.getContext ||\n    !node.getContext('2d') ||\n    typeof node.getContext('2d').fillText !== 'function'\n  ) {\n    return false;\n  }\n\n  const ctx = node.getContext('2d');\n\n  ctx.fillStyle = '#f00';\n  ctx.textBaseline = 'top';\n  ctx.font = '32px Arial';\n  ctx.fillText('\\ud83d\\udc28', 0, 0); // U+1F428 KOALA\n  return ctx.getImageData(offset, offset, 1, 1).data[0] !== 0;\n};\n\nexport const removeEmoji = text => {\n  if (text) {\n    return text\n      .replace(\n        /([\\u2700-\\u27BF]|[\\uE000-\\uF8FF]|\\uD83C[\\uDC00-\\uDFFF]|\\uD83D[\\uDC00-\\uDFFF]|[\\u2011-\\u26FF]|\\uD83E[\\uDD10-\\uDDFF])/g,\n        ''\n      )\n      .replace(/\\s+/g, ' ')\n      .trim();\n  }\n  return '';\n};\n"]},"metadata":{},"sourceType":"module"}