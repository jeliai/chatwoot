{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport AnalyticsHelper from './AnalyticsHelper';\nexport var CHATWOOT_SET_USER = 'CHATWOOT_SET_USER';\nexport var CHATWOOT_RESET = 'CHATWOOT_RESET';\nexport var ANALYTICS_IDENTITY = 'ANALYTICS_IDENTITY';\nexport var ANALYTICS_RESET = 'ANALYTICS_RESET';\nexport var initializeAnalyticsEvents = function initializeAnalyticsEvents() {\n  window.bus.$on(ANALYTICS_IDENTITY, function (_ref) {\n    var user = _ref.user;\n    AnalyticsHelper.identify(user);\n  });\n  window.bus.$on(ANALYTICS_RESET, function () {});\n};\nexport var initializeChatwootEvents = function initializeChatwootEvents() {\n  window.bus.$on(CHATWOOT_RESET, function () {\n    if (window.$chatwoot) {\n      window.$chatwoot.reset();\n    }\n  });\n  window.bus.$on(CHATWOOT_SET_USER, function (_ref2) {\n    var user = _ref2.user;\n\n    if (window.$chatwoot) {\n      window.$chatwoot.setUser(user.email, {\n        avatar_url: user.avatar_url,\n        email: user.email,\n        identifier_hash: user.hmac_identifier,\n        name: user.name\n      });\n      window.$chatwoot.setCustomAttributes({\n        signedUpAt: user.created_at,\n        cloudCustomer: 'true'\n      });\n    }\n  });\n};","map":{"version":3,"sources":["/Users/s.dastan/Desktop/chatwoot/chatwoot/app/javascript/dashboard/helper/scriptHelpers.js"],"names":["AnalyticsHelper","CHATWOOT_SET_USER","CHATWOOT_RESET","ANALYTICS_IDENTITY","ANALYTICS_RESET","initializeAnalyticsEvents","window","bus","$on","user","identify","initializeChatwootEvents","$chatwoot","reset","setUser","email","avatar_url","identifier_hash","hmac_identifier","name","setCustomAttributes","signedUpAt","created_at","cloudCustomer"],"mappings":";AAAA,OAAOA,eAAP,MAA4B,mBAA5B;AAEA,OAAO,IAAMC,iBAAiB,GAAG,mBAA1B;AACP,OAAO,IAAMC,cAAc,GAAG,gBAAvB;AAEP,OAAO,IAAMC,kBAAkB,GAAG,oBAA3B;AACP,OAAO,IAAMC,eAAe,GAAG,iBAAxB;AAEP,OAAO,IAAMC,yBAAyB,GAAG,SAA5BA,yBAA4B,GAAM;AAC7CC,EAAAA,MAAM,CAACC,GAAP,CAAWC,GAAX,CAAeL,kBAAf,EAAmC,gBAAc;AAAA,QAAXM,IAAW,QAAXA,IAAW;AAC/CT,IAAAA,eAAe,CAACU,QAAhB,CAAyBD,IAAzB;AACD,GAFD;AAGAH,EAAAA,MAAM,CAACC,GAAP,CAAWC,GAAX,CAAeJ,eAAf,EAAgC,YAAM,CAAE,CAAxC;AACD,CALM;AAOP,OAAO,IAAMO,wBAAwB,GAAG,SAA3BA,wBAA2B,GAAM;AAC5CL,EAAAA,MAAM,CAACC,GAAP,CAAWC,GAAX,CAAeN,cAAf,EAA+B,YAAM;AACnC,QAAII,MAAM,CAACM,SAAX,EAAsB;AACpBN,MAAAA,MAAM,CAACM,SAAP,CAAiBC,KAAjB;AACD;AACF,GAJD;AAKAP,EAAAA,MAAM,CAACC,GAAP,CAAWC,GAAX,CAAeP,iBAAf,EAAkC,iBAAc;AAAA,QAAXQ,IAAW,SAAXA,IAAW;;AAC9C,QAAIH,MAAM,CAACM,SAAX,EAAsB;AACpBN,MAAAA,MAAM,CAACM,SAAP,CAAiBE,OAAjB,CAAyBL,IAAI,CAACM,KAA9B,EAAqC;AACnCC,QAAAA,UAAU,EAAEP,IAAI,CAACO,UADkB;AAEnCD,QAAAA,KAAK,EAAEN,IAAI,CAACM,KAFuB;AAGnCE,QAAAA,eAAe,EAAER,IAAI,CAACS,eAHa;AAInCC,QAAAA,IAAI,EAAEV,IAAI,CAACU;AAJwB,OAArC;AAMAb,MAAAA,MAAM,CAACM,SAAP,CAAiBQ,mBAAjB,CAAqC;AACnCC,QAAAA,UAAU,EAAEZ,IAAI,CAACa,UADkB;AAEnCC,QAAAA,aAAa,EAAE;AAFoB,OAArC;AAID;AACF,GAbD;AAcD,CApBM","sourcesContent":["import AnalyticsHelper from './AnalyticsHelper';\n\nexport const CHATWOOT_SET_USER = 'CHATWOOT_SET_USER';\nexport const CHATWOOT_RESET = 'CHATWOOT_RESET';\n\nexport const ANALYTICS_IDENTITY = 'ANALYTICS_IDENTITY';\nexport const ANALYTICS_RESET = 'ANALYTICS_RESET';\n\nexport const initializeAnalyticsEvents = () => {\n  window.bus.$on(ANALYTICS_IDENTITY, ({ user }) => {\n    AnalyticsHelper.identify(user);\n  });\n  window.bus.$on(ANALYTICS_RESET, () => {});\n};\n\nexport const initializeChatwootEvents = () => {\n  window.bus.$on(CHATWOOT_RESET, () => {\n    if (window.$chatwoot) {\n      window.$chatwoot.reset();\n    }\n  });\n  window.bus.$on(CHATWOOT_SET_USER, ({ user }) => {\n    if (window.$chatwoot) {\n      window.$chatwoot.setUser(user.email, {\n        avatar_url: user.avatar_url,\n        email: user.email,\n        identifier_hash: user.hmac_identifier,\n        name: user.name,\n      });\n      window.$chatwoot.setCustomAttributes({\n        signedUpAt: user.created_at,\n        cloudCustomer: 'true',\n      });\n    }\n  });\n};\n"]},"metadata":{},"sourceType":"module"}