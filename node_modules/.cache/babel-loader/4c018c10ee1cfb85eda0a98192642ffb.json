{"ast":null,"code":"import \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/web.url.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.symbol.iterator.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.from.js\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]); if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  props: {\n    label: {\n      type: String,\n      default: ''\n    },\n    src: {\n      type: String,\n      default: ''\n    },\n    usernameAvatar: {\n      type: String,\n      default: ''\n    },\n    deleteAvatar: {\n      type: Boolean,\n      default: false\n    }\n  },\n  watch: {},\n  methods: {\n    handleImageUpload: function handleImageUpload(event) {\n      var _event$target$files = _slicedToArray(event.target.files, 1),\n          file = _event$target$files[0];\n\n      this.$emit('change', {\n        file: file,\n        url: file ? URL.createObjectURL(file) : null\n      });\n    },\n    onAvatarDelete: function onAvatarDelete() {\n      this.$refs.file.value = null;\n      this.$emit('onAvatarDelete');\n    }\n  }\n};","map":{"version":3,"sources":["AvatarUploader.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KADA;AAKA,IAAA,GAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KALA;AASA,IAAA,cAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KATA;AAaA,IAAA,YAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAFA;AAbA,GADA;AAmBA,EAAA,KAAA,EAAA,EAnBA;AAoBA,EAAA,OAAA,EAAA;AACA,IAAA,iBADA,6BACA,KADA,EACA;AACA,+CAAA,KAAA,CAAA,MAAA,CAAA,KAAA;AAAA,UAAA,IAAA;;AAEA,WAAA,KAAA,CAAA,QAAA,EAAA;AACA,QAAA,IAAA,EAAA,IADA;AAEA,QAAA,GAAA,EAAA,IAAA,GAAA,GAAA,CAAA,eAAA,CAAA,IAAA,CAAA,GAAA;AAFA,OAAA;AAIA,KARA;AASA,IAAA,cATA,4BASA;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,KAAA,GAAA,IAAA;AACA,WAAA,KAAA,CAAA,gBAAA;AACA;AAZA;AApBA,CAAA","sourcesContent":["<template>\n  <div>\n    <label>\n      <span v-if=\"label\">{{ label }}</span>\n    </label>\n    <woot-thumbnail\n      v-if=\"src\"\n      size=\"80px\"\n      :src=\"src\"\n      :username=\"usernameAvatar\"\n    />\n    <div v-if=\"src && deleteAvatar\" class=\"avatar-delete-btn\">\n      <woot-button\n        color-scheme=\"alert\"\n        variant=\"hollow\"\n        size=\"tiny\"\n        type=\"button\"\n        @click=\"onAvatarDelete\"\n      >\n        {{ this.$t('INBOX_MGMT.DELETE.AVATAR_DELETE_BUTTON_TEXT') }}\n      </woot-button>\n    </div>\n    <label>\n      <input\n        id=\"file\"\n        ref=\"file\"\n        type=\"file\"\n        accept=\"image/png, image/jpeg, image/gif\"\n        @change=\"handleImageUpload\"\n      />\n      <slot />\n    </label>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    label: {\n      type: String,\n      default: '',\n    },\n    src: {\n      type: String,\n      default: '',\n    },\n    usernameAvatar: {\n      type: String,\n      default: '',\n    },\n    deleteAvatar: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  watch: {},\n  methods: {\n    handleImageUpload(event) {\n      const [file] = event.target.files;\n\n      this.$emit('change', {\n        file,\n        url: file ? URL.createObjectURL(file) : null,\n      });\n    },\n    onAvatarDelete() {\n      this.$refs.file.value = null;\n      this.$emit('onAvatarDelete');\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.avatar-delete-btn {\n  margin-top: var(--space-smaller);\n  margin-bottom: var(--space-smaller);\n}\n</style>\n"],"sourceRoot":"app/javascript/dashboard/components/widgets/forms"},"metadata":{},"sourceType":"module"}