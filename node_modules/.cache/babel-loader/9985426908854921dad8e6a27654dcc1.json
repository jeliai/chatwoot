{"ast":null,"code":"export var loadedEventConfig = function loadedEventConfig() {\n  return {\n    event: 'loaded',\n    config: {\n      authToken: window.authToken,\n      channelConfig: window.chatwootWebChannel\n    }\n  };\n};\nexport var getExtraSpaceToScroll = function getExtraSpaceToScroll() {\n  // This function calculates the extra space needed for the view to\n  // accommodate the height of close button + height of\n  // read messages button. So that scrollbar won't appear\n  var unreadMessageWrap = document.querySelector('.unread-messages');\n  var unreadCloseWrap = document.querySelector('.close-unread-wrap');\n  var readViewWrap = document.querySelector('.open-read-view-wrap');\n  if (!unreadMessageWrap) return 0; // 24px to compensate the paddings\n\n  var extraHeight = 48 + unreadMessageWrap.scrollHeight;\n  if (unreadCloseWrap) extraHeight += unreadCloseWrap.scrollHeight;\n  if (readViewWrap) extraHeight += readViewWrap.scrollHeight;\n  return extraHeight;\n};","map":{"version":3,"sources":["/Users/s.dastan/Desktop/chatwoot/chatwoot/app/javascript/widget/helpers/IframeEventHelper.js"],"names":["loadedEventConfig","event","config","authToken","window","channelConfig","chatwootWebChannel","getExtraSpaceToScroll","unreadMessageWrap","document","querySelector","unreadCloseWrap","readViewWrap","extraHeight","scrollHeight"],"mappings":"AAAA,OAAO,IAAMA,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;AACrC,SAAO;AACLC,IAAAA,KAAK,EAAE,QADF;AAELC,IAAAA,MAAM,EAAE;AACNC,MAAAA,SAAS,EAAEC,MAAM,CAACD,SADZ;AAENE,MAAAA,aAAa,EAAED,MAAM,CAACE;AAFhB;AAFH,GAAP;AAOD,CARM;AAUP,OAAO,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB,GAAM;AACzC;AACA;AACA;AACA,MAAMC,iBAAiB,GAAGC,QAAQ,CAACC,aAAT,CAAuB,kBAAvB,CAA1B;AACA,MAAMC,eAAe,GAAGF,QAAQ,CAACC,aAAT,CAAuB,oBAAvB,CAAxB;AACA,MAAME,YAAY,GAAGH,QAAQ,CAACC,aAAT,CAAuB,sBAAvB,CAArB;AAEA,MAAI,CAACF,iBAAL,EAAwB,OAAO,CAAP,CARiB,CAUzC;;AACA,MAAIK,WAAW,GAAG,KAAKL,iBAAiB,CAACM,YAAzC;AACA,MAAIH,eAAJ,EAAqBE,WAAW,IAAIF,eAAe,CAACG,YAA/B;AACrB,MAAIF,YAAJ,EAAkBC,WAAW,IAAID,YAAY,CAACE,YAA5B;AAElB,SAAOD,WAAP;AACD,CAhBM","sourcesContent":["export const loadedEventConfig = () => {\n  return {\n    event: 'loaded',\n    config: {\n      authToken: window.authToken,\n      channelConfig: window.chatwootWebChannel,\n    },\n  };\n};\n\nexport const getExtraSpaceToScroll = () => {\n  // This function calculates the extra space needed for the view to\n  // accommodate the height of close button + height of\n  // read messages button. So that scrollbar won't appear\n  const unreadMessageWrap = document.querySelector('.unread-messages');\n  const unreadCloseWrap = document.querySelector('.close-unread-wrap');\n  const readViewWrap = document.querySelector('.open-read-view-wrap');\n\n  if (!unreadMessageWrap) return 0;\n\n  // 24px to compensate the paddings\n  let extraHeight = 48 + unreadMessageWrap.scrollHeight;\n  if (unreadCloseWrap) extraHeight += unreadCloseWrap.scrollHeight;\n  if (readViewWrap) extraHeight += readViewWrap.scrollHeight;\n\n  return extraHeight;\n};\n"]},"metadata":{},"sourceType":"module"}