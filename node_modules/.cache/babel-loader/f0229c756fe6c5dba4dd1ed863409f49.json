{"ast":null,"code":"function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.symbol.iterator.js\";\nimport \"core-js/modules/es.string.iterator.js\";\n\nvar generatePayload = function generatePayload(data) {\n  // Make a copy of data to avoid vue data reactivity issues\n  var filters = JSON.parse(JSON.stringify(data));\n  var payload = filters.map(function (item) {\n    if (Array.isArray(item.values)) {\n      item.values = item.values.map(function (val) {\n        return val.id;\n      });\n    } else if (_typeof(item.values) === 'object') {\n      item.values = [item.values.id];\n    } else if (!item.values) {\n      item.values = [];\n    } else {\n      item.values = [item.values];\n    }\n\n    return item;\n  }); // For every query added, the query_operator is set default to and so the\n  // last query will have an extra query_operator, this would break the api.\n  // Setting this to null for all query payload\n\n  payload[payload.length - 1].query_operator = undefined;\n  return {\n    payload: payload\n  };\n};\n\nexport default generatePayload;","map":{"version":3,"sources":["/Users/s.dastan/Desktop/chatwoot/chatwoot/app/javascript/dashboard/helper/filterQueryGenerator.js"],"names":["generatePayload","data","filters","JSON","parse","stringify","payload","map","item","Array","isArray","values","val","id","length","query_operator","undefined"],"mappings":";;;;;;;;;;;AAAA,IAAMA,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,IAAI,EAAI;AAC9B;AACA,MAAMC,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeJ,IAAf,CAAX,CAAhB;AACA,MAAIK,OAAO,GAAGJ,OAAO,CAACK,GAAR,CAAY,UAAAC,IAAI,EAAI;AAChC,QAAIC,KAAK,CAACC,OAAN,CAAcF,IAAI,CAACG,MAAnB,CAAJ,EAAgC;AAC9BH,MAAAA,IAAI,CAACG,MAAL,GAAcH,IAAI,CAACG,MAAL,CAAYJ,GAAZ,CAAgB,UAAAK,GAAG;AAAA,eAAIA,GAAG,CAACC,EAAR;AAAA,OAAnB,CAAd;AACD,KAFD,MAEO,IAAI,QAAOL,IAAI,CAACG,MAAZ,MAAuB,QAA3B,EAAqC;AAC1CH,MAAAA,IAAI,CAACG,MAAL,GAAc,CAACH,IAAI,CAACG,MAAL,CAAYE,EAAb,CAAd;AACD,KAFM,MAEA,IAAI,CAACL,IAAI,CAACG,MAAV,EAAkB;AACvBH,MAAAA,IAAI,CAACG,MAAL,GAAc,EAAd;AACD,KAFM,MAEA;AACLH,MAAAA,IAAI,CAACG,MAAL,GAAc,CAACH,IAAI,CAACG,MAAN,CAAd;AACD;;AACD,WAAOH,IAAP;AACD,GAXa,CAAd,CAH8B,CAe9B;AACA;AACA;;AACAF,EAAAA,OAAO,CAACA,OAAO,CAACQ,MAAR,GAAiB,CAAlB,CAAP,CAA4BC,cAA5B,GAA6CC,SAA7C;AACA,SAAO;AAAEV,IAAAA,OAAO,EAAPA;AAAF,GAAP;AACD,CApBD;;AAsBA,eAAeN,eAAf","sourcesContent":["const generatePayload = data => {\n  // Make a copy of data to avoid vue data reactivity issues\n  const filters = JSON.parse(JSON.stringify(data));\n  let payload = filters.map(item => {\n    if (Array.isArray(item.values)) {\n      item.values = item.values.map(val => val.id);\n    } else if (typeof item.values === 'object') {\n      item.values = [item.values.id];\n    } else if (!item.values) {\n      item.values = [];\n    } else {\n      item.values = [item.values];\n    }\n    return item;\n  });\n  // For every query added, the query_operator is set default to and so the\n  // last query will have an extra query_operator, this would break the api.\n  // Setting this to null for all query payload\n  payload[payload.length - 1].query_operator = undefined;\n  return { payload };\n};\n\nexport default generatePayload;\n"]},"metadata":{},"sourceType":"module"}