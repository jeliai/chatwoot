{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Group = void 0;\n\nvar inherits_1 = __importDefault(require(\"inherits\"));\n\nvar is_email_1 = __importDefault(require(\"./is-email\"));\n\nvar new_date_1 = __importDefault(require(\"new-date\"));\n\nvar facade_1 = require(\"./facade\");\n\nfunction Group(dictionary, opts) {\n  facade_1.Facade.call(this, dictionary, opts);\n}\n\nexports.Group = Group;\ninherits_1.default(Group, facade_1.Facade);\nvar g = Group.prototype;\n\ng.action = function () {\n  return \"group\";\n};\n\ng.type = g.action;\ng.groupId = facade_1.Facade.field(\"groupId\");\n\ng.created = function () {\n  var created = this.proxy(\"traits.createdAt\") || this.proxy(\"traits.created\") || this.proxy(\"properties.createdAt\") || this.proxy(\"properties.created\");\n  if (created) return new_date_1.default(created);\n};\n\ng.email = function () {\n  var email = this.proxy(\"traits.email\");\n  if (email) return email;\n  var groupId = this.groupId();\n  if (is_email_1.default(groupId)) return groupId;\n};\n\ng.traits = function (aliases) {\n  var ret = this.properties();\n  var id = this.groupId();\n  aliases = aliases || {};\n  if (id) ret.id = id;\n\n  for (var alias in aliases) {\n    var value = this[alias] == null ? this.proxy(\"traits.\" + alias) : this[alias]();\n    if (value == null) continue;\n    ret[aliases[alias]] = value;\n    delete ret[alias];\n  }\n\n  return ret;\n};\n\ng.name = facade_1.Facade.proxy(\"traits.name\");\ng.industry = facade_1.Facade.proxy(\"traits.industry\");\ng.employees = facade_1.Facade.proxy(\"traits.employees\");\n\ng.properties = function () {\n  return this.field(\"traits\") || this.field(\"properties\") || {};\n};","map":null,"metadata":{},"sourceType":"module"}