{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.search.js\";\nimport { API } from 'widget/helpers/axios';\nimport { buildSearchParamsWithLocale } from '../helpers/urlParamsHelper';\nexport var generateEventParams = function generateEventParams() {\n  return {\n    initiated_at: {\n      timestamp: new Date().toString()\n    },\n    referer: window.referrerURL || ''\n  };\n};\nexport default {\n  create: function create(name) {\n    var search = buildSearchParamsWithLocale(window.location.search);\n    return API.post(\"/api/v1/widget/events\".concat(search), {\n      name: name,\n      event_info: generateEventParams()\n    });\n  }\n};","map":{"version":3,"sources":["/Users/s.dastan/Desktop/chatwoot/chatwoot/app/javascript/widget/api/events.js"],"names":["API","buildSearchParamsWithLocale","generateEventParams","initiated_at","timestamp","Date","toString","referer","window","referrerURL","create","name","search","location","post","event_info"],"mappings":";;;;AAAA,SAASA,GAAT,QAAoB,sBAApB;AACA,SAASC,2BAAT,QAA4C,4BAA5C;AAEA,OAAO,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAsB;AAAA,SAAO;AACxCC,IAAAA,YAAY,EAAE;AACZC,MAAAA,SAAS,EAAE,IAAIC,IAAJ,GAAWC,QAAX;AADC,KAD0B;AAIxCC,IAAAA,OAAO,EAAEC,MAAM,CAACC,WAAP,IAAsB;AAJS,GAAP;AAAA,CAA5B;AAOP,eAAe;AACbC,EAAAA,MADa,kBACNC,IADM,EACA;AACX,QAAMC,MAAM,GAAGX,2BAA2B,CAACO,MAAM,CAACK,QAAP,CAAgBD,MAAjB,CAA1C;AACA,WAAOZ,GAAG,CAACc,IAAJ,gCAAiCF,MAAjC,GAA2C;AAChDD,MAAAA,IAAI,EAAJA,IADgD;AAEhDI,MAAAA,UAAU,EAAEb,mBAAmB;AAFiB,KAA3C,CAAP;AAID;AAPY,CAAf","sourcesContent":["import { API } from 'widget/helpers/axios';\nimport { buildSearchParamsWithLocale } from '../helpers/urlParamsHelper';\n\nexport const generateEventParams = () => ({\n  initiated_at: {\n    timestamp: new Date().toString(),\n  },\n  referer: window.referrerURL || '',\n});\n\nexport default {\n  create(name) {\n    const search = buildSearchParamsWithLocale(window.location.search);\n    return API.post(`/api/v1/widget/events${search}`, {\n      name,\n      event_info: generateEventParams(),\n    });\n  },\n};\n"]},"metadata":{},"sourceType":"module"}