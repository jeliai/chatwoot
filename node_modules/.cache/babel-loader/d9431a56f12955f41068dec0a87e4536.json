{"ast":null,"code":"import \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptor.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptors.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mixin as clickaway } from 'vue-clickaway';\nimport { mapGetters } from 'vuex';\nimport bulkActionsMixin from 'dashboard/mixins/bulkActionsMixin.js';\nexport default {\n  mixins: [clickaway, bulkActionsMixin],\n  data: function data() {\n    return {\n      query: '',\n      selectedLabels: []\n    };\n  },\n  computed: _objectSpread(_objectSpread({}, mapGetters({\n    labels: 'labels/getLabels'\n  })), {}, {\n    filteredLabels: function filteredLabels() {\n      var _this = this;\n\n      return this.labels.filter(function (label) {\n        return label.title.toLowerCase().includes(_this.query.toLowerCase());\n      });\n    }\n  }),\n  methods: {\n    isLabelSelected: function isLabelSelected(label) {\n      return this.selectedLabels.includes(label);\n    },\n    assignLabels: function assignLabels(key) {\n      this.$emit('update', key);\n    },\n    onClose: function onClose() {\n      this.$emit('close');\n    }\n  }\n};","map":{"version":3,"sources":["LabelActions.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA,SAAA,KAAA,IAAA,SAAA,QAAA,eAAA;AACA,SAAA,UAAA,QAAA,MAAA;AACA,OAAA,gBAAA,MAAA,sCAAA;AAEA,eAAA;AACA,EAAA,MAAA,EAAA,CAAA,SAAA,EAAA,gBAAA,CADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,cAAA,EAAA;AAFA,KAAA;AAIA,GAPA;AAQA,EAAA,QAAA,kCACA,UAAA,CAAA;AAAA,IAAA,MAAA,EAAA;AAAA,GAAA,CADA;AAEA,IAAA,cAFA,4BAEA;AAAA;;AACA,aAAA,KAAA,MAAA,CAAA,MAAA,CAAA,UAAA,KAAA;AAAA,eACA,KAAA,CAAA,KAAA,CAAA,WAAA,GAAA,QAAA,CAAA,KAAA,CAAA,KAAA,CAAA,WAAA,EAAA,CADA;AAAA,OAAA,CAAA;AAGA;AANA,IARA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,eADA,2BACA,KADA,EACA;AACA,aAAA,KAAA,cAAA,CAAA,QAAA,CAAA,KAAA,CAAA;AACA,KAHA;AAIA,IAAA,YAJA,wBAIA,GAJA,EAIA;AACA,WAAA,KAAA,CAAA,QAAA,EAAA,GAAA;AACA,KANA;AAOA,IAAA,OAPA,qBAOA;AACA,WAAA,KAAA,CAAA,OAAA;AACA;AATA;AAhBA,CAAA","sourcesContent":["<template>\n  <div v-on-clickaway=\"onClose\" class=\"labels-container\">\n    <div class=\"triangle\" :style=\"cssVars\">\n      <svg height=\"12\" viewBox=\"0 0 24 12\" width=\"24\">\n        <path\n          d=\"M20 12l-8-8-12 12\"\n          fill=\"var(--white)\"\n          fill-rule=\"evenodd\"\n          stroke=\"var(--s-50)\"\n          stroke-width=\"1px\"\n        />\n      </svg>\n    </div>\n    <div class=\"header flex-between\">\n      <span>{{ $t('BULK_ACTION.LABELS.ASSIGN_LABELS') }}</span>\n      <woot-button\n        size=\"tiny\"\n        variant=\"clear\"\n        color-scheme=\"secondary\"\n        icon=\"dismiss\"\n        @click=\"onClose\"\n      />\n    </div>\n    <div class=\"labels-list\">\n      <header class=\"labels-list__header\">\n        <div class=\"label-list-search flex-between\">\n          <fluent-icon icon=\"search\" class=\"search-icon\" size=\"16\" />\n          <input\n            ref=\"search\"\n            v-model=\"query\"\n            type=\"search\"\n            placeholder=\"Search\"\n            class=\"label--search_input\"\n          />\n        </div>\n      </header>\n      <ul class=\"labels-list__body\">\n        <li\n          v-for=\"label in filteredLabels\"\n          :key=\"label.id\"\n          class=\"label__list-item\"\n        >\n          <label\n            class=\"item\"\n            :class=\"{ 'label-selected': isLabelSelected(label.title) }\"\n          >\n            <input\n              v-model=\"selectedLabels\"\n              type=\"checkbox\"\n              :value=\"label.title\"\n              class=\"label-checkbox\"\n            />\n            <span class=\"label-title text-truncate\">{{ label.title }}</span>\n            <span\n              class=\"label-pill\"\n              :style=\"{ backgroundColor: label.color }\"\n            />\n          </label>\n        </li>\n      </ul>\n      <footer class=\"labels-list__footer\">\n        <woot-button\n          size=\"small\"\n          color-scheme=\"primary\"\n          :disabled=\"!selectedLabels.length\"\n          @click=\"$emit('assign', selectedLabels)\"\n        >\n          <span>{{ $t('BULK_ACTION.LABELS.ASSIGN_SELECTED_LABELS') }}</span>\n        </woot-button>\n      </footer>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mixin as clickaway } from 'vue-clickaway';\nimport { mapGetters } from 'vuex';\nimport bulkActionsMixin from 'dashboard/mixins/bulkActionsMixin.js';\n\nexport default {\n  mixins: [clickaway, bulkActionsMixin],\n  data() {\n    return {\n      query: '',\n      selectedLabels: [],\n    };\n  },\n  computed: {\n    ...mapGetters({ labels: 'labels/getLabels' }),\n    filteredLabels() {\n      return this.labels.filter(label =>\n        label.title.toLowerCase().includes(this.query.toLowerCase())\n      );\n    },\n  },\n  methods: {\n    isLabelSelected(label) {\n      return this.selectedLabels.includes(label);\n    },\n    assignLabels(key) {\n      this.$emit('update', key);\n    },\n    onClose() {\n      this.$emit('close');\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.labels-list {\n  display: flex;\n  flex-direction: column;\n  max-height: var(--space-giga);\n  min-height: auto;\n\n  .labels-list__header {\n    background-color: var(--white);\n    padding: 0 var(--space-one);\n  }\n\n  .labels-list__body {\n    flex: 1;\n    overflow-y: auto;\n    padding: var(--space-one) 0;\n  }\n\n  .labels-list__footer {\n    padding: var(--space-small);\n\n    button {\n      width: 100%;\n    }\n  }\n}\n\n.label-list-search {\n  background-color: var(--s-50);\n  border-radius: var(--border-radius-medium);\n  border: 1px solid var(--s-100);\n  padding: 0 var(--space-one);\n\n  .search-icon {\n    color: var(--s-400);\n  }\n\n  .label--search_input {\n    background-color: transparent;\n    border: 0;\n    font-size: var(--font-size-mini);\n    height: unset;\n    margin: 0;\n  }\n}\n\n.labels-container {\n  background-color: var(--white);\n  border-radius: var(--border-radius-large);\n  border: 1px solid var(--s-50);\n  box-shadow: var(--shadow-dropdown-pane);\n  max-width: var(--space-giga);\n  min-width: var(--space-giga);\n  position: absolute;\n  right: var(--space-small);\n  top: var(--space-larger);\n  transform-origin: top right;\n  width: auto;\n  z-index: var(--z-index-twenty);\n\n  .header {\n    padding: var(--space-one);\n\n    span {\n      font-size: var(--font-size-small);\n      font-weight: var(--font-weight-medium);\n    }\n  }\n\n  .container {\n    max-height: var(--space-giga);\n    overflow-y: auto;\n\n    .label__list-container {\n      height: 100%;\n    }\n    .label-list-search {\n      padding: 0 var(--space-one);\n      border: 1px solid var(--s-100);\n      border-radius: var(--border-radius-medium);\n      background-color: var(--s-50);\n      .search-icon {\n        color: var(--s-400);\n      }\n\n      .label--search_input {\n        border: 0;\n        font-size: var(--font-size-mini);\n        margin: 0;\n        background-color: transparent;\n        height: unset;\n      }\n    }\n  }\n\n  .triangle {\n    display: block;\n    position: absolute;\n    right: var(--triangle-position);\n    text-align: left;\n    top: calc(var(--space-slab) * -1);\n    z-index: var(--z-index-one);\n  }\n}\n\nul {\n  margin: 0;\n  list-style: none;\n}\n\n.labels-placeholder {\n  padding: var(--space-small);\n}\n\n.label__list-item {\n  margin: var(--space-smaller) 0;\n  padding: 0 var(--space-one);\n\n  .item {\n    align-items: center;\n    border-radius: var(--border-radius-medium);\n    cursor: pointer;\n    display: flex;\n    padding: var(--space-smaller) var(--space-one);\n\n    &:hover {\n      background-color: var(--s-50);\n    }\n\n    &.label-selected {\n      background-color: var(--s-50);\n    }\n\n    span {\n      font-size: var(--font-size-small);\n    }\n\n    .label-checkbox {\n      margin: 0 var(--space-one) 0 0;\n    }\n\n    .label-title {\n      flex-grow: 1;\n      width: 100%;\n    }\n\n    .label-pill {\n      background-color: var(--s-50);\n      border-radius: var(--border-radius-medium);\n      height: var(--space-slab);\n      width: var(--space-slab);\n      flex-shrink: 0;\n      border: 1px solid var(--color-border-light);\n    }\n  }\n}\n\n.search-container {\n  background-color: var(--white);\n  padding: 0 var(--space-one);\n  position: sticky;\n  top: 0;\n  z-index: var(--z-index-twenty);\n}\n\n.actions-container {\n  background-color: var(--white);\n  bottom: 0;\n  padding: var(--space-small);\n  position: sticky;\n  z-index: var(--z-index-twenty);\n\n  button {\n    width: 100%;\n  }\n}\n</style>\n"],"sourceRoot":"app/javascript/dashboard/components/widgets/conversation/conversationBulkActions"},"metadata":{},"sourceType":"module"}