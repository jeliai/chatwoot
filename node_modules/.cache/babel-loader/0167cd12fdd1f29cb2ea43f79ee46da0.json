{"ast":null,"code":"import \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.search.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport LabelDropdownItem from './LabelDropdownItem';\nexport default {\n  components: {\n    LabelDropdownItem: LabelDropdownItem\n  },\n  props: {\n    accountLabels: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    selectedLabels: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    }\n  },\n  data: function data() {\n    return {\n      search: ''\n    };\n  },\n  computed: {\n    filteredActiveLabels: function filteredActiveLabels() {\n      var _this = this;\n\n      return this.accountLabels.filter(function (label) {\n        return label.title.toLowerCase().includes(_this.search.toLowerCase());\n      });\n    },\n    noResult: function noResult() {\n      return this.filteredActiveLabels.length === 0 && this.search !== '';\n    }\n  },\n  mounted: function mounted() {\n    this.focusInput();\n  },\n  methods: {\n    focusInput: function focusInput() {\n      this.$refs.searchbar.focus();\n    },\n    updateLabels: function updateLabels(label) {\n      this.$emit('update', label);\n    },\n    onAdd: function onAdd(label) {\n      this.$emit('add', label);\n    },\n    onRemove: function onRemove(label) {\n      this.$emit('remove', label);\n    },\n    onAddRemove: function onAddRemove(label) {\n      if (this.selectedLabels.includes(label.title)) {\n        this.onRemove(label.title);\n      } else {\n        this.onAdd(label);\n      }\n    }\n  }\n};","map":{"version":3,"sources":["LabelDropdown.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA,OAAA,iBAAA,MAAA,qBAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,iBAAA,EAAA;AADA,GADA;AAKA,EAAA,KAAA,EAAA;AACA,IAAA,aAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,OAAA,EAAA;AAAA,eAAA,EAAA;AAAA;AAFA,KADA;AAKA,IAAA,cAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,OAAA,EAAA;AAAA,eAAA,EAAA;AAAA;AAFA;AALA,GALA;AAgBA,EAAA,IAhBA,kBAgBA;AACA,WAAA;AACA,MAAA,MAAA,EAAA;AADA,KAAA;AAGA,GApBA;AAsBA,EAAA,QAAA,EAAA;AACA,IAAA,oBADA,kCACA;AAAA;;AACA,aAAA,KAAA,aAAA,CAAA,MAAA,CAAA,UAAA,KAAA,EAAA;AACA,eAAA,KAAA,CAAA,KAAA,CAAA,WAAA,GAAA,QAAA,CAAA,KAAA,CAAA,MAAA,CAAA,WAAA,EAAA,CAAA;AACA,OAFA,CAAA;AAGA,KALA;AAOA,IAAA,QAPA,sBAOA;AACA,aAAA,KAAA,oBAAA,CAAA,MAAA,KAAA,CAAA,IAAA,KAAA,MAAA,KAAA,EAAA;AACA;AATA,GAtBA;AAkCA,EAAA,OAlCA,qBAkCA;AACA,SAAA,UAAA;AACA,GApCA;AAsCA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,WAAA,KAAA,CAAA,SAAA,CAAA,KAAA;AACA,KAHA;AAKA,IAAA,YALA,wBAKA,KALA,EAKA;AACA,WAAA,KAAA,CAAA,QAAA,EAAA,KAAA;AACA,KAPA;AASA,IAAA,KATA,iBASA,KATA,EASA;AACA,WAAA,KAAA,CAAA,KAAA,EAAA,KAAA;AACA,KAXA;AAaA,IAAA,QAbA,oBAaA,KAbA,EAaA;AACA,WAAA,KAAA,CAAA,QAAA,EAAA,KAAA;AACA,KAfA;AAiBA,IAAA,WAjBA,uBAiBA,KAjBA,EAiBA;AACA,UAAA,KAAA,cAAA,CAAA,QAAA,CAAA,KAAA,CAAA,KAAA,CAAA,EAAA;AACA,aAAA,QAAA,CAAA,KAAA,CAAA,KAAA;AACA,OAFA,MAEA;AACA,aAAA,KAAA,CAAA,KAAA;AACA;AACA;AAvBA;AAtCA,CAAA","sourcesContent":["<template>\n  <div class=\"dropdown-search-wrap\">\n    <h4 class=\"text-block-title\">\n      {{ $t('CONTACT_PANEL.LABELS.LABEL_SELECT.TITLE') }}\n    </h4>\n    <div class=\"search-wrap\">\n      <input\n        ref=\"searchbar\"\n        v-model=\"search\"\n        type=\"text\"\n        class=\"search-input\"\n        autofocus=\"true\"\n        :placeholder=\"$t('CONTACT_PANEL.LABELS.LABEL_SELECT.PLACEHOLDER')\"\n      />\n    </div>\n    <div class=\"list-wrap\">\n      <div class=\"list\">\n        <woot-dropdown-menu>\n          <label-dropdown-item\n            v-for=\"label in filteredActiveLabels\"\n            :key=\"label.title\"\n            :title=\"label.title\"\n            :color=\"label.color\"\n            :selected=\"selectedLabels.includes(label.title)\"\n            @click=\"onAddRemove(label)\"\n          />\n        </woot-dropdown-menu>\n        <div v-if=\"noResult\" class=\"no-result\">\n          {{ $t('CONTACT_PANEL.LABELS.LABEL_SELECT.NO_RESULT') }}\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport LabelDropdownItem from './LabelDropdownItem';\nexport default {\n  components: {\n    LabelDropdownItem,\n  },\n\n  props: {\n    accountLabels: {\n      type: Array,\n      default: () => [],\n    },\n    selectedLabels: {\n      type: Array,\n      default: () => [],\n    },\n  },\n\n  data() {\n    return {\n      search: '',\n    };\n  },\n\n  computed: {\n    filteredActiveLabels() {\n      return this.accountLabels.filter(label => {\n        return label.title.toLowerCase().includes(this.search.toLowerCase());\n      });\n    },\n\n    noResult() {\n      return this.filteredActiveLabels.length === 0 && this.search !== '';\n    },\n  },\n\n  mounted() {\n    this.focusInput();\n  },\n\n  methods: {\n    focusInput() {\n      this.$refs.searchbar.focus();\n    },\n\n    updateLabels(label) {\n      this.$emit('update', label);\n    },\n\n    onAdd(label) {\n      this.$emit('add', label);\n    },\n\n    onRemove(label) {\n      this.$emit('remove', label);\n    },\n\n    onAddRemove(label) {\n      if (this.selectedLabels.includes(label.title)) {\n        this.onRemove(label.title);\n      } else {\n        this.onAdd(label);\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.dropdown-search-wrap {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  max-height: 20rem;\n\n  .search-wrap {\n    margin-bottom: var(--space-small);\n    flex: 0 0 auto;\n    max-height: var(--space-large);\n\n    .search-input {\n      margin: 0;\n      width: 100%;\n      border: 1px solid transparent;\n      height: var(--space-large);\n      font-size: var(--font-size-small);\n      padding: var(--space-small);\n      background-color: var(--color-background);\n    }\n\n    input:focus {\n      border: 1px solid var(--w-500);\n    }\n  }\n\n  .list-wrap {\n    display: flex;\n    justify-content: flex-start;\n    align-items: flex-start;\n    flex: 1 1 auto;\n    overflow: auto;\n\n    .list {\n      width: 100%;\n    }\n\n    .no-result {\n      display: flex;\n      justify-content: center;\n      color: var(--s-700);\n      padding: var(--space-smaller) var(--space-one);\n      font-weight: var(--font-weight-medium);\n      font-size: var(--font-size-small);\n    }\n  }\n}\n</style>\n"],"sourceRoot":"app/javascript/shared/components/ui/label"},"metadata":{},"sourceType":"module"}