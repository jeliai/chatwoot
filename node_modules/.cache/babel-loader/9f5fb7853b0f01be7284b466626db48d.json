{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.function.name.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { formatBytes } from 'shared/helpers/FileHelper';\nexport default {\n  props: {\n    attachments: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    removeAttachment: {\n      type: Function,\n      default: function _default() {}\n    }\n  },\n  methods: {\n    onRemoveAttachment: function onRemoveAttachment(index) {\n      this.removeAttachment(index);\n    },\n    formatFileSize: function formatFileSize(file) {\n      var size = file.byte_size || file.size;\n      return formatBytes(size, 0);\n    },\n    isTypeImage: function isTypeImage(file) {\n      var type = file.content_type || file.type;\n      return type.includes('image');\n    },\n    isTypeAudio: function isTypeAudio(file) {\n      var type = file.content_type || file.type;\n      return type.includes('audio');\n    },\n    fileName: function fileName(file) {\n      return file.filename || file.name;\n    }\n  }\n};","map":{"version":3,"sources":["AttachmentsPreview.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA,SAAA,WAAA,QAAA,2BAAA;AACA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,WAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,OAAA,EAAA;AAAA,eAAA,EAAA;AAAA;AAFA,KADA;AAKA,IAAA,gBAAA,EAAA;AACA,MAAA,IAAA,EAAA,QADA;AAEA,MAAA,OAAA,EAAA,oBAAA,CAAA;AAFA;AALA,GADA;AAWA,EAAA,OAAA,EAAA;AACA,IAAA,kBADA,8BACA,KADA,EACA;AACA,WAAA,gBAAA,CAAA,KAAA;AACA,KAHA;AAIA,IAAA,cAJA,0BAIA,IAJA,EAIA;AACA,UAAA,IAAA,GAAA,IAAA,CAAA,SAAA,IAAA,IAAA,CAAA,IAAA;AACA,aAAA,WAAA,CAAA,IAAA,EAAA,CAAA,CAAA;AACA,KAPA;AAQA,IAAA,WARA,uBAQA,IARA,EAQA;AACA,UAAA,IAAA,GAAA,IAAA,CAAA,YAAA,IAAA,IAAA,CAAA,IAAA;AACA,aAAA,IAAA,CAAA,QAAA,CAAA,OAAA,CAAA;AACA,KAXA;AAYA,IAAA,WAZA,uBAYA,IAZA,EAYA;AACA,UAAA,IAAA,GAAA,IAAA,CAAA,YAAA,IAAA,IAAA,CAAA,IAAA;AACA,aAAA,IAAA,CAAA,QAAA,CAAA,OAAA,CAAA;AACA,KAfA;AAgBA,IAAA,QAhBA,oBAgBA,IAhBA,EAgBA;AACA,aAAA,IAAA,CAAA,QAAA,IAAA,IAAA,CAAA,IAAA;AACA;AAlBA;AAXA,CAAA","sourcesContent":["<template>\n  <div class=\"preview-item__wrap\">\n    <div\n      v-for=\"(attachment, index) in attachments\"\n      :key=\"attachment.id\"\n      class=\"preview-item\"\n    >\n      <div class=\"thumb-wrap\">\n        <img\n          v-if=\"isTypeImage(attachment.resource)\"\n          class=\"image-thumb\"\n          :src=\"attachment.thumb\"\n        />\n        <span v-else class=\"attachment-thumb\"> ðŸ“„ </span>\n      </div>\n      <div class=\"file-name-wrap\">\n        <span class=\"item\">\n          {{ fileName(attachment.resource) }}\n        </span>\n      </div>\n      <div class=\"file-size-wrap\">\n        <span class=\"item text-truncate\">\n          {{ formatFileSize(attachment.resource) }}\n        </span>\n      </div>\n      <div class=\"remove-file-wrap\">\n        <woot-button\n          v-if=\"!isTypeAudio(attachment.resource)\"\n          class=\"remove--attachment clear secondary\"\n          icon=\"dismiss\"\n          @click=\"() => onRemoveAttachment(index)\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { formatBytes } from 'shared/helpers/FileHelper';\nexport default {\n  props: {\n    attachments: {\n      type: Array,\n      default: () => [],\n    },\n    removeAttachment: {\n      type: Function,\n      default: () => {},\n    },\n  },\n  methods: {\n    onRemoveAttachment(index) {\n      this.removeAttachment(index);\n    },\n    formatFileSize(file) {\n      const size = file.byte_size || file.size;\n      return formatBytes(size, 0);\n    },\n    isTypeImage(file) {\n      const type = file.content_type || file.type;\n      return type.includes('image');\n    },\n    isTypeAudio(file) {\n      const type = file.content_type || file.type;\n      return type.includes('audio');\n    },\n    fileName(file) {\n      return file.filename || file.name;\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.preview-item__wrap {\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n  margin-top: var(--space-normal);\n  max-height: 20rem;\n}\n\n.preview-item {\n  display: flex;\n  padding: var(--space-slab) 0 0;\n  background: var(--color-background-light);\n  background: var(--b-50);\n  border-radius: var(--border-radius-normal);\n  width: 24rem;\n  padding: var(--space-smaller);\n  margin-bottom: var(--space-one);\n}\n\n.thumb-wrap {\n  max-width: var(--space-jumbo);\n  flex-shrink: 0;\n  width: var(--space-medium);\n  display: flex;\n  align-items: center;\n}\n\n.image-thumb {\n  width: var(--space-medium);\n  height: var(--space-medium);\n  object-fit: cover;\n  border-radius: var(--border-radius-small);\n}\n\n.attachment-thumb {\n  width: var(--space-medium);\n  height: var(--space-medium);\n  font-size: var(--font-size-medium);\n  text-align: center;\n  position: relative;\n  top: -1px;\n  text-align: left;\n}\n\n.file-name-wrap,\n.file-size-wrap {\n  display: flex;\n  align-items: center;\n  padding: 0 var(--space-smaller);\n\n  > .item {\n    margin: 0;\n    overflow: hidden;\n    font-size: var(--font-size-mini);\n    font-weight: var(--font-weight-medium);\n  }\n}\n\n.preview-header {\n  padding: var(--space-slab) var(--space-slab) 0 var(--space-slab);\n}\n\n.file-name-wrap {\n  max-width: 60%;\n  min-width: 50%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin-left: var(--space-small);\n\n  .item {\n    height: var(--space-normal);\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n}\n\n.file-size-wrap {\n  width: 30%;\n  justify-content: center;\n}\n\n.remove-file-wrap {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.remove--attachment {\n  width: var(--space-medium);\n  height: var(--space-medium);\n  border-radius: var(--space-medium);\n  font-size: var(--font-size-small);\n  cursor: pointer;\n\n  &:hover {\n    background: var(--color-background);\n  }\n}\n</style>\n"],"sourceRoot":"app/javascript/dashboard/components/widgets"},"metadata":{},"sourceType":"module"}