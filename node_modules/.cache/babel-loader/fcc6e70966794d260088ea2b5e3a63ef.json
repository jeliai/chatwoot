{"ast":null,"code":"import \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.find.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  props: {\n    inboxId: {\n      type: Number,\n      default: undefined\n    }\n  },\n  data: function data() {\n    return {\n      query: ''\n    };\n  },\n  computed: {\n    whatsAppTemplateMessages: function whatsAppTemplateMessages() {\n      return this.$store.getters['inboxes/getWhatsAppTemplates'](this.inboxId);\n    },\n    filteredTemplateMessages: function filteredTemplateMessages() {\n      var _this = this;\n\n      return this.whatsAppTemplateMessages.filter(function (template) {\n        return template.name.toLowerCase().includes(_this.query.toLowerCase());\n      });\n    }\n  },\n  methods: {\n    getTemplatebody: function getTemplatebody(template) {\n      return template.components.find(function (component) {\n        return component.type === 'BODY';\n      }).text;\n    }\n  }\n};","map":{"version":3,"sources":["TemplatesPicker.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,OAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA;AADA,GADA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,KAAA,EAAA;AADA,KAAA;AAGA,GAXA;AAYA,EAAA,QAAA,EAAA;AACA,IAAA,wBADA,sCACA;AACA,aAAA,KAAA,MAAA,CAAA,OAAA,CAAA,8BAAA,EAAA,KAAA,OAAA,CAAA;AACA,KAHA;AAIA,IAAA,wBAJA,sCAIA;AAAA;;AACA,aAAA,KAAA,wBAAA,CAAA,MAAA,CAAA,UAAA,QAAA;AAAA,eACA,QAAA,CAAA,IAAA,CAAA,WAAA,GAAA,QAAA,CAAA,KAAA,CAAA,KAAA,CAAA,WAAA,EAAA,CADA;AAAA,OAAA,CAAA;AAGA;AARA,GAZA;AAsBA,EAAA,OAAA,EAAA;AACA,IAAA,eADA,2BACA,QADA,EACA;AACA,aAAA,QAAA,CAAA,UAAA,CAAA,IAAA,CAAA,UAAA,SAAA;AAAA,eAAA,SAAA,CAAA,IAAA,KAAA,MAAA;AAAA,OAAA,EACA,IADA;AAEA;AAJA;AAtBA,CAAA","sourcesContent":["<template>\n  <div class=\"medium-12 columns\">\n    <div class=\"templates__list-search\">\n      <fluent-icon icon=\"search\" class=\"search-icon\" size=\"16\" />\n      <input\n        ref=\"search\"\n        v-model=\"query\"\n        type=\"search\"\n        :placeholder=\"$t('WHATSAPP_TEMPLATES.PICKER.SEARCH_PLACEHOLDER')\"\n        class=\"templates__search-input\"\n      />\n    </div>\n    <div class=\"template__list-container\">\n      <div v-for=\"(template, i) in filteredTemplateMessages\" :key=\"template.id\">\n        <button\n          class=\"template__list-item\"\n          @click=\"$emit('onSelect', template)\"\n        >\n          <div>\n            <div class=\"flex-between\">\n              <p class=\"label-title\">\n                {{ template.name }}\n              </p>\n              <span class=\"label-lang label\">\n                {{ $t('WHATSAPP_TEMPLATES.PICKER.LABELS.LANGUAGE') }} :\n                {{ template.language }}\n              </span>\n            </div>\n            <div>\n              <p class=\"strong\">\n                {{ $t('WHATSAPP_TEMPLATES.PICKER.LABELS.TEMPLATE_BODY') }}\n              </p>\n              <p class=\"label-body\">{{ getTemplatebody(template) }}</p>\n            </div>\n            <div class=\"label-category\">\n              <p class=\"strong\">\n                {{ $t('WHATSAPP_TEMPLATES.PICKER.LABELS.CATEGORY') }}\n              </p>\n              <p>{{ template.category }}</p>\n            </div>\n          </div>\n        </button>\n        <hr v-if=\"i != filteredTemplateMessages.length - 1\" :key=\"`hr-${i}`\" />\n      </div>\n      <div v-if=\"!filteredTemplateMessages.length\">\n        <p>\n          {{ $t('WHATSAPP_TEMPLATES.PICKER.NO_TEMPLATES_FOUND') }}\n          <strong>{{ query }}</strong>\n        </p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    inboxId: {\n      type: Number,\n      default: undefined,\n    },\n  },\n  data() {\n    return {\n      query: '',\n    };\n  },\n  computed: {\n    whatsAppTemplateMessages() {\n      return this.$store.getters['inboxes/getWhatsAppTemplates'](this.inboxId);\n    },\n    filteredTemplateMessages() {\n      return this.whatsAppTemplateMessages.filter(template =>\n        template.name.toLowerCase().includes(this.query.toLowerCase())\n      );\n    },\n  },\n  methods: {\n    getTemplatebody(template) {\n      return template.components.find(component => component.type === 'BODY')\n        .text;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.flex-between {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: var(--space-one);\n}\n\n.templates__list-search {\n  align-items: center;\n  background-color: var(--s-25);\n  border-radius: var(--border-radius-medium);\n  border: 1px solid var(--s-100);\n  display: flex;\n  margin-bottom: var(--space-one);\n  padding: 0 var(--space-one);\n\n  .search-icon {\n    color: var(--s-400);\n  }\n\n  .templates__search-input {\n    background-color: transparent;\n    border: var(--space-large);\n    font-size: var(--font-size-mini);\n    height: unset;\n    margin: var(--space-zero);\n  }\n}\n.template__list-container {\n  background-color: var(--s-25);\n  border-radius: var(--border-radius-medium);\n  max-height: 30rem;\n  overflow-y: auto;\n  padding: var(--space-one);\n\n  .template__list-item {\n    border-radius: var(--border-radius-medium);\n    cursor: pointer;\n    display: block;\n    padding: var(--space-one);\n    text-align: left;\n    width: 100%;\n\n    &:hover {\n      background-color: var(--w-50);\n    }\n\n    .label-title {\n      font-size: var(--font-size-small);\n    }\n\n    .label-category {\n      margin-top: var(--space-two);\n\n      span {\n        font-size: var(--font-size-small);\n        font-weight: var(--font-weight-bold);\n      }\n    }\n\n    .label-body {\n      font-family: monospace;\n    }\n  }\n}\n\n.strong {\n  font-size: var(--font-size-mini);\n  font-weight: var(--font-weight-bold);\n}\n\nhr {\n  border-bottom: 1px solid var(--s-100);\n  margin: var(--space-one) auto;\n  max-width: 95%;\n}\n</style>\n"],"sourceRoot":"app/javascript/dashboard/components/widgets/conversation/WhatsappTemplates"},"metadata":{},"sourceType":"module"}