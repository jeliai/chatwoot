{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Thumbnail from 'dashboard/components/widgets/Thumbnail.vue';\nimport MultiselectDropdownItems from 'shared/components/ui/MultiselectDropdownItems';\nimport { mixin as clickaway } from 'vue-clickaway';\nexport default {\n  components: {\n    Thumbnail: Thumbnail,\n    MultiselectDropdownItems: MultiselectDropdownItems\n  },\n  mixins: [clickaway],\n  props: {\n    options: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    selectedItem: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    hasThumbnail: {\n      type: Boolean,\n      default: true\n    },\n    multiselectorTitle: {\n      type: String,\n      default: ''\n    },\n    multiselectorPlaceholder: {\n      type: String,\n      default: 'None'\n    },\n    noSearchResult: {\n      type: String,\n      default: 'No results found'\n    },\n    inputPlaceholder: {\n      type: String,\n      default: 'Search'\n    }\n  },\n  data: function data() {\n    return {\n      showSearchDropdown: false\n    };\n  },\n  computed: {\n    hasValue: function hasValue() {\n      if (this.selectedItem && this.selectedItem.id) {\n        return true;\n      }\n\n      return false;\n    }\n  },\n  methods: {\n    toggleDropdown: function toggleDropdown() {\n      this.showSearchDropdown = !this.showSearchDropdown;\n    },\n    onCloseDropdown: function onCloseDropdown() {\n      this.showSearchDropdown = false;\n    },\n    onClickSelectItem: function onClickSelectItem(value) {\n      this.$emit('click', value);\n      this.onCloseDropdown();\n    }\n  }\n};","map":{"version":3,"sources":["MultiselectDropdown.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqEA,OAAA,SAAA,MAAA,4CAAA;AACA,OAAA,wBAAA,MAAA,+CAAA;AACA,SAAA,KAAA,IAAA,SAAA,QAAA,eAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,SAAA,EAAA,SADA;AAEA,IAAA,wBAAA,EAAA;AAFA,GADA;AAKA,EAAA,MAAA,EAAA,CAAA,SAAA,CALA;AAMA,EAAA,KAAA,EAAA;AACA,IAAA,OAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,OAAA,EAAA;AAAA,eAAA,EAAA;AAAA;AAFA,KADA;AAKA,IAAA,YAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAAA,eAAA,EAAA;AAAA;AAFA,KALA;AASA,IAAA,YAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAFA,KATA;AAaA,IAAA,kBAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAbA;AAiBA,IAAA,wBAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAjBA;AAqBA,IAAA,cAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KArBA;AAyBA,IAAA,gBAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA;AAzBA,GANA;AAoCA,EAAA,IApCA,kBAoCA;AACA,WAAA;AACA,MAAA,kBAAA,EAAA;AADA,KAAA;AAGA,GAxCA;AAyCA,EAAA,QAAA,EAAA;AACA,IAAA,QADA,sBACA;AACA,UAAA,KAAA,YAAA,IAAA,KAAA,YAAA,CAAA,EAAA,EAAA;AACA,eAAA,IAAA;AACA;;AACA,aAAA,KAAA;AACA;AANA,GAzCA;AAiDA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,4BACA;AACA,WAAA,kBAAA,GAAA,CAAA,KAAA,kBAAA;AACA,KAHA;AAKA,IAAA,eALA,6BAKA;AACA,WAAA,kBAAA,GAAA,KAAA;AACA,KAPA;AASA,IAAA,iBATA,6BASA,KATA,EASA;AACA,WAAA,KAAA,CAAA,OAAA,EAAA,KAAA;AACA,WAAA,eAAA;AACA;AAZA;AAjDA,CAAA","sourcesContent":["<template>\n  <div\n    v-on-clickaway=\"onCloseDropdown\"\n    class=\"selector-wrap\"\n    @keyup.esc=\"onCloseDropdown\"\n  >\n    <woot-button\n      variant=\"hollow\"\n      color-scheme=\"secondary\"\n      class=\"selector-button\"\n      @click=\"toggleDropdown\"\n    >\n      <div class=\"selector-user-wrap\">\n        <Thumbnail\n          v-if=\"hasValue && hasThumbnail\"\n          :src=\"selectedItem.thumbnail\"\n          size=\"24px\"\n          :status=\"selectedItem.availability_status\"\n          :username=\"selectedItem.name\"\n        />\n        <div class=\"selector-name-wrap\">\n          <h4\n            v-if=\"!hasValue\"\n            class=\"not-selected text-ellipsis text-block-title\"\n          >\n            {{ multiselectorPlaceholder }}\n          </h4>\n          <h4\n            v-else\n            class=\"selector-name text-truncate text-block-title\"\n            :title=\"selectedItem.name\"\n          >\n            {{ selectedItem.name }}\n          </h4>\n          <i v-if=\"showSearchDropdown\" class=\"icon ion-chevron-up\" />\n          <i v-else class=\"icon ion-chevron-down\" />\n        </div>\n      </div>\n    </woot-button>\n    <div\n      :class=\"{ 'dropdown-pane--open': showSearchDropdown }\"\n      class=\"dropdown-pane\"\n    >\n      <div class=\"dropdown__header\">\n        <h4 class=\"text-block-title text-truncate\">\n          {{ multiselectorTitle }}\n        </h4>\n        <woot-button\n          icon=\"dismiss\"\n          size=\"tiny\"\n          color-scheme=\"secondary\"\n          variant=\"clear\"\n          @click=\"onCloseDropdown\"\n        />\n      </div>\n      <multiselect-dropdown-items\n        v-if=\"showSearchDropdown\"\n        :options=\"options\"\n        :selected-item=\"selectedItem\"\n        :has-thumbnail=\"hasThumbnail\"\n        :input-placeholder=\"inputPlaceholder\"\n        :no-search-result=\"noSearchResult\"\n        @click=\"onClickSelectItem\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport Thumbnail from 'dashboard/components/widgets/Thumbnail.vue';\nimport MultiselectDropdownItems from 'shared/components/ui/MultiselectDropdownItems';\nimport { mixin as clickaway } from 'vue-clickaway';\nexport default {\n  components: {\n    Thumbnail,\n    MultiselectDropdownItems,\n  },\n  mixins: [clickaway],\n  props: {\n    options: {\n      type: Array,\n      default: () => [],\n    },\n    selectedItem: {\n      type: Object,\n      default: () => ({}),\n    },\n    hasThumbnail: {\n      type: Boolean,\n      default: true,\n    },\n    multiselectorTitle: {\n      type: String,\n      default: '',\n    },\n    multiselectorPlaceholder: {\n      type: String,\n      default: 'None',\n    },\n    noSearchResult: {\n      type: String,\n      default: 'No results found',\n    },\n    inputPlaceholder: {\n      type: String,\n      default: 'Search',\n    },\n  },\n  data() {\n    return {\n      showSearchDropdown: false,\n    };\n  },\n  computed: {\n    hasValue() {\n      if (this.selectedItem && this.selectedItem.id) {\n        return true;\n      }\n      return false;\n    },\n  },\n  methods: {\n    toggleDropdown() {\n      this.showSearchDropdown = !this.showSearchDropdown;\n    },\n\n    onCloseDropdown() {\n      this.showSearchDropdown = false;\n    },\n\n    onClickSelectItem(value) {\n      this.$emit('click', value);\n      this.onCloseDropdown();\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.selector-wrap {\n  position: relative;\n  width: 100%;\n  margin-right: var(--space-one);\n  margin-bottom: var(--space-small);\n\n  .selector-button {\n    width: 100%;\n    border: 1px solid var(--s-200);\n    padding-left: var(--space-one);\n    padding-right: var(--space-one);\n\n    &:hover {\n      border: 1px solid var(--color-border);\n    }\n  }\n\n  .selector-user-wrap {\n    display: flex;\n  }\n\n  .selector-name-wrap {\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n    min-width: 0;\n    align-items: center;\n  }\n\n  .not-selected {\n    margin: 0 var(--space-small) 0 0;\n  }\n\n  .selector-name {\n    align-items: center;\n    margin: 0 var(--space-small);\n  }\n\n  .dropdown-pane {\n    box-sizing: border-box;\n    top: 4.2rem;\n    width: 100%;\n  }\n}\n\n.dropdown__header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: var(--space-smaller);\n\n  .text-block-title {\n    margin: 0;\n  }\n}\n</style>\n"],"sourceRoot":"app/javascript/shared/components/ui"},"metadata":{},"sourceType":"module"}