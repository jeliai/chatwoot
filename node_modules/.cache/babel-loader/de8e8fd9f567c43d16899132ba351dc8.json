{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport thumbnail from 'dashboard/components/widgets/Thumbnail';\nimport portalMixin from '../mixins/portalMixin';\nexport default {\n  components: {\n    thumbnail: thumbnail\n  },\n  mixins: [portalMixin],\n  props: {\n    portal: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    active: {\n      type: Boolean,\n      default: false\n    },\n    activePortalSlug: {\n      type: String,\n      default: ''\n    },\n    activeLocale: {\n      type: String,\n      default: ''\n    }\n  },\n  data: function data() {\n    return {\n      selectedLocale: null\n    };\n  },\n  computed: {\n    locales: function locales() {\n      var _this$portal, _this$portal$config;\n\n      return (_this$portal = this.portal) === null || _this$portal === void 0 ? void 0 : (_this$portal$config = _this$portal.config) === null || _this$portal$config === void 0 ? void 0 : _this$portal$config.allowed_locales;\n    },\n    articlesCount: function articlesCount() {\n      var _this$portal2, _this$portal2$meta;\n\n      return (_this$portal2 = this.portal) === null || _this$portal2 === void 0 ? void 0 : (_this$portal2$meta = _this$portal2.meta) === null || _this$portal2$meta === void 0 ? void 0 : _this$portal2$meta.all_articles_count;\n    }\n  },\n  mounted: function mounted() {\n    var _this$portal3, _this$portal3$meta;\n\n    this.selectedLocale = this.locale || ((_this$portal3 = this.portal) === null || _this$portal3 === void 0 ? void 0 : (_this$portal3$meta = _this$portal3.meta) === null || _this$portal3$meta === void 0 ? void 0 : _this$portal3$meta.default_locale);\n  },\n  methods: {\n    onClick: function onClick(event, code, portal) {\n      event.preventDefault();\n      this.$router.push({\n        name: 'list_all_locale_articles',\n        params: {\n          portalSlug: portal.slug,\n          locale: code\n        }\n      });\n      this.$emit('open-portal-page');\n    },\n    isLocaleActive: function isLocaleActive(code, slug) {\n      var isPortalActive = this.portal.slug === slug;\n      var isLocaleActive = this.activeLocale === code;\n      return isPortalActive && isLocaleActive;\n    },\n    isLocaleDefault: function isLocaleDefault(code) {\n      var _this$portal4, _this$portal4$meta;\n\n      return ((_this$portal4 = this.portal) === null || _this$portal4 === void 0 ? void 0 : (_this$portal4$meta = _this$portal4.meta) === null || _this$portal4$meta === void 0 ? void 0 : _this$portal4$meta.default_locale) === code;\n    }\n  }\n};","map":{"version":3,"sources":["PortalSwitch.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA,OAAA,SAAA,MAAA,wCAAA;AACA,OAAA,WAAA,MAAA,uBAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,SAAA,EAAA;AADA,GADA;AAIA,EAAA,MAAA,EAAA,CAAA,WAAA,CAJA;AAKA,EAAA,KAAA,EAAA;AACA,IAAA,MAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAAA,eAAA,EAAA;AAAA;AAFA,KADA;AAKA,IAAA,MAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAFA,KALA;AASA,IAAA,gBAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KATA;AAaA,IAAA,YAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA;AAbA,GALA;AAuBA,EAAA,IAvBA,kBAuBA;AACA,WAAA;AACA,MAAA,cAAA,EAAA;AADA,KAAA;AAGA,GA3BA;AA4BA,EAAA,QAAA,EAAA;AACA,IAAA,OADA,qBACA;AAAA;;AACA,6BAAA,KAAA,MAAA,wEAAA,aAAA,MAAA,wDAAA,oBAAA,eAAA;AACA,KAHA;AAIA,IAAA,aAJA,2BAIA;AAAA;;AACA,8BAAA,KAAA,MAAA,wEAAA,cAAA,IAAA,uDAAA,mBAAA,kBAAA;AACA;AANA,GA5BA;AAoCA,EAAA,OApCA,qBAoCA;AAAA;;AACA,SAAA,cAAA,GAAA,KAAA,MAAA,sBAAA,KAAA,MAAA,wEAAA,cAAA,IAAA,uDAAA,mBAAA,cAAA,CAAA;AACA,GAtCA;AAuCA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,mBACA,KADA,EACA,IADA,EACA,MADA,EACA;AACA,MAAA,KAAA,CAAA,cAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA,0BADA;AAEA,QAAA,MAAA,EAAA;AACA,UAAA,UAAA,EAAA,MAAA,CAAA,IADA;AAEA,UAAA,MAAA,EAAA;AAFA;AAFA,OAAA;AAOA,WAAA,KAAA,CAAA,kBAAA;AACA,KAXA;AAYA,IAAA,cAZA,0BAYA,IAZA,EAYA,IAZA,EAYA;AACA,UAAA,cAAA,GAAA,KAAA,MAAA,CAAA,IAAA,KAAA,IAAA;AACA,UAAA,cAAA,GAAA,KAAA,YAAA,KAAA,IAAA;AACA,aAAA,cAAA,IAAA,cAAA;AACA,KAhBA;AAiBA,IAAA,eAjBA,2BAiBA,IAjBA,EAiBA;AAAA;;AACA,aAAA,uBAAA,MAAA,sFAAA,IAAA,0EAAA,cAAA,MAAA,IAAA;AACA;AAnBA;AAvCA,CAAA","sourcesContent":["<template>\n  <div class=\"portal\" :class=\"{ active }\">\n    <thumbnail :username=\"portal.name\" variant=\"square\" />\n    <div class=\"actions-container\">\n      <header>\n        <div>\n          <h3 class=\"sub-block-title portal-title\">{{ portal.name }}</h3>\n          <p class=\"portal-count\">\n            {{ articlesCount }}\n            {{ $t('HELP_CENTER.PORTAL.ARTICLES_LABEL') }}\n          </p>\n        </div>\n        <woot-label\n          v-if=\"active\"\n          variant=\"smooth\"\n          size=\"small\"\n          color-scheme=\"success\"\n          :title=\"$t('HELP_CENTER.PORTAL.ACTIVE_BADGE')\"\n        />\n      </header>\n      <div class=\"portal-locales\">\n        <h5 class=\"locale-title sub-block-title\">\n          {{ $t('HELP_CENTER.PORTAL.CHOOSE_LOCALE_LABEL') }}\n        </h5>\n        <ul>\n          <li v-for=\"locale in locales\" :key=\"locale.code\">\n            <woot-button\n              :variant=\"\n                `locale-item ${\n                  isLocaleActive(locale.code, activePortalSlug)\n                    ? 'smooth'\n                    : 'clear'\n                }`\n              \"\n              size=\"large\"\n              color-scheme=\"secondary\"\n              @click=\"event => onClick(event, locale.code, portal)\"\n            >\n              <div class=\"locale-content\">\n                <div class=\"meta\">\n                  <h6 class=\"text-block-title text-left locale-name\">\n                    <span>\n                      {{ localeName(locale.code) }}\n                    </span>\n                    <span\n                      v-if=\"isLocaleDefault(locale.code)\"\n                      class=\"fs-small text-muted\"\n                    >\n                      {{ `(${$t('HELP_CENTER.PORTAL.DEFAULT')})` }}\n                    </span>\n                  </h6>\n\n                  <span class=\"locale-meta\">\n                    {{ locale.articles_count }}\n                    {{ $t('HELP_CENTER.PORTAL.ARTICLES_LABEL') }} -\n                    {{ locale.code }}\n                  </span>\n                </div>\n                <div v-if=\"isLocaleActive(locale.code, activePortalSlug)\">\n                  <fluent-icon icon=\"checkmark\" class=\"locale__radio\" />\n                </div>\n              </div>\n            </woot-button>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport thumbnail from 'dashboard/components/widgets/Thumbnail';\nimport portalMixin from '../mixins/portalMixin';\n\nexport default {\n  components: {\n    thumbnail,\n  },\n  mixins: [portalMixin],\n  props: {\n    portal: {\n      type: Object,\n      default: () => ({}),\n    },\n    active: {\n      type: Boolean,\n      default: false,\n    },\n    activePortalSlug: {\n      type: String,\n      default: '',\n    },\n    activeLocale: {\n      type: String,\n      default: '',\n    },\n  },\n  data() {\n    return {\n      selectedLocale: null,\n    };\n  },\n  computed: {\n    locales() {\n      return this.portal?.config?.allowed_locales;\n    },\n    articlesCount() {\n      return this.portal?.meta?.all_articles_count;\n    },\n  },\n  mounted() {\n    this.selectedLocale = this.locale || this.portal?.meta?.default_locale;\n  },\n  methods: {\n    onClick(event, code, portal) {\n      event.preventDefault();\n      this.$router.push({\n        name: 'list_all_locale_articles',\n        params: {\n          portalSlug: portal.slug,\n          locale: code,\n        },\n      });\n      this.$emit('open-portal-page');\n    },\n    isLocaleActive(code, slug) {\n      const isPortalActive = this.portal.slug === slug;\n      const isLocaleActive = this.activeLocale === code;\n      return isPortalActive && isLocaleActive;\n    },\n    isLocaleDefault(code) {\n      return this.portal?.meta?.default_locale === code;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.portal {\n  background-color: var(--white);\n  padding: var(--space-normal);\n  border: 1px solid var(--color-border-dark);\n  border-radius: var(--border-radius-medium);\n  position: relative;\n  display: flex;\n  margin-bottom: var(--space-normal);\n\n  &.active {\n    border: 1px solid var(--w-400);\n    background: var(---25);\n  }\n\n  .actions-container {\n    margin-left: var(--space-one);\n    flex-grow: 1;\n\n    header {\n      display: flex;\n      align-items: flex-start;\n      justify-content: space-between;\n      margin-bottom: var(--space-one);\n\n      .badge {\n        font-size: var(--font-size-mini);\n        background-color: var(--w-100);\n        color: var(--w-600);\n        padding: var(--space-smaller) var(--space-small);\n      }\n\n      .portal-title {\n        margin-bottom: var(--space-micro);\n      }\n\n      .portal-count {\n        font-size: var(--font-size-mini);\n        margin-bottom: 0;\n        color: var(--s-600);\n      }\n    }\n\n    .portal-locales {\n      .locale-name {\n        margin-bottom: var(--space-micro);\n      }\n\n      .locale-content {\n        display: flex;\n        align-items: center;\n        justify-content: flex-start;\n        width: 100%;\n      }\n\n      ul {\n        list-style: none;\n        padding: 0;\n        margin: 0;\n      }\n\n      .locale__radio {\n        width: var(--space-large);\n        margin-top: var(--space-tiny);\n        color: var(--g-600);\n      }\n\n      .add-locale-wrap {\n        margin-top: var(--spacing-small);\n      }\n    }\n  }\n\n  .locale-item {\n    display: flex;\n    align-items: flex-start;\n    padding: var(--space-smaller) var(--space-normal);\n    border-radius: var(--border-radius-normal);\n    width: 100%;\n    margin-bottom: var(--space-small);\n\n    p {\n      margin-bottom: 0;\n      text-align: left;\n    }\n\n    .locale-meta {\n      display: flex;\n      color: var(--s-600);\n      font-size: var(--font-size-small);\n      text-align: left;\n      line-height: var(--space-normal);\n      width: 100%;\n    }\n\n    .meta {\n      flex-grow: 1;\n    }\n  }\n}\n</style>\n"],"sourceRoot":"app/javascript/dashboard/routes/dashboard/helpcenter/components"},"metadata":{},"sourceType":"module"}