{"ast":null,"code":"import \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptor.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptors.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport WidgetHead from './WidgetHead';\nimport WidgetBody from './WidgetBody';\nimport WidgetFooter from './WidgetFooter';\nimport InputRadioGroup from 'dashboard/routes/dashboard/settings/inbox/components/InputRadioGroup';\nimport globalConfigMixin from 'shared/mixins/globalConfigMixin';\nimport { mapGetters } from 'vuex';\nexport default {\n  name: 'Widget',\n  components: {\n    WidgetHead: WidgetHead,\n    WidgetBody: WidgetBody,\n    WidgetFooter: WidgetFooter,\n    InputRadioGroup: InputRadioGroup\n  },\n  mixins: [globalConfigMixin],\n  props: {\n    welcomeHeading: {\n      type: String,\n      default: ''\n    },\n    welcomeTagline: {\n      type: String,\n      default: ''\n    },\n    websiteName: {\n      type: String,\n      default: '',\n      required: true\n    },\n    logo: {\n      type: String,\n      default: ''\n    },\n    isOnline: {\n      type: Boolean,\n      default: true\n    },\n    replyTime: {\n      type: String,\n      default: ''\n    },\n    color: {\n      type: String,\n      default: ''\n    },\n    widgetBubblePosition: {\n      type: String,\n      default: ''\n    },\n    widgetBubbleLauncherTitle: {\n      type: String,\n      default: ''\n    },\n    widgetBubbleType: {\n      type: String,\n      default: ''\n    }\n  },\n  data: function data() {\n    return {\n      widgetScreens: [{\n        id: 'default',\n        title: this.$t('INBOX_MGMT.WIDGET_BUILDER.WIDGET_SCREEN.DEFAULT'),\n        checked: true\n      }, {\n        id: 'chat',\n        title: this.$t('INBOX_MGMT.WIDGET_BUILDER.WIDGET_SCREEN.CHAT'),\n        checked: false\n      }],\n      isDefaultScreen: true,\n      isWidgetVisible: true\n    };\n  },\n  computed: _objectSpread(_objectSpread({}, mapGetters({\n    globalConfig: 'globalConfig/get'\n  })), {}, {\n    getWidgetHeadConfig: function getWidgetHeadConfig() {\n      return {\n        welcomeHeading: this.welcomeHeading,\n        welcomeTagline: this.welcomeTagline,\n        websiteName: this.websiteName,\n        logo: this.logo,\n        isDefaultScreen: this.isDefaultScreen,\n        isOnline: this.isOnline,\n        replyTime: this.replyTimeText,\n        color: this.color\n      };\n    },\n    getWidgetBodyConfig: function getWidgetBodyConfig() {\n      return {\n        welcomeHeading: this.welcomeHeading,\n        welcomeTagline: this.welcomeTagline,\n        isDefaultScreen: this.isDefaultScreen,\n        isOnline: this.isOnline,\n        replyTime: this.replyTimeText,\n        color: this.color,\n        logo: this.logo\n      };\n    },\n    getWidgetFooterConfig: function getWidgetFooterConfig() {\n      return {\n        isDefaultScreen: this.isDefaultScreen,\n        color: this.color\n      };\n    },\n    replyTimeText: function replyTimeText() {\n      switch (this.replyTime) {\n        case 'in_a_few_minutes':\n          return this.$t('INBOX_MGMT.WIDGET_BUILDER.REPLY_TIME.IN_A_FEW_MINUTES');\n\n        case 'in_a_day':\n          return this.$t('INBOX_MGMT.WIDGET_BUILDER.REPLY_TIME.IN_A_DAY');\n\n        default:\n          return this.$t('INBOX_MGMT.WIDGET_BUILDER.REPLY_TIME.IN_A_FEW_HOURS');\n      }\n    },\n    getBubblePositionStyle: function getBubblePositionStyle() {\n      return {\n        justifyContent: this.widgetBubblePosition === 'left' ? 'start' : 'end'\n      };\n    },\n    getBubbleTypeClass: function getBubbleTypeClass() {\n      return {\n        'bubble-close': this.isWidgetVisible,\n        'bubble-expanded': !this.isWidgetVisible && this.widgetBubbleType === 'expanded_bubble'\n      };\n    },\n    getWidgetBubbleLauncherTitle: function getWidgetBubbleLauncherTitle() {\n      return this.isWidgetVisible || this.widgetBubbleType === 'standard' ? ' ' : this.widgetBubbleLauncherTitle;\n    }\n  }),\n  methods: {\n    handleScreenChange: function handleScreenChange(item) {\n      this.isDefaultScreen = item.id === 'default';\n    },\n    toggleWidget: function toggleWidget() {\n      this.isWidgetVisible = !this.isWidgetVisible;\n      this.isDefaultScreen = true;\n    }\n  }\n};","map":{"version":3,"sources":["Widget.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"widget-preview-container\">\n    <div v-if=\"isWidgetVisible\" class=\"screen-selector\">\n      <input-radio-group\n        name=\"widget-screen\"\n        :items=\"widgetScreens\"\n        :action=\"handleScreenChange\"\n      />\n    </div>\n    <div v-if=\"isWidgetVisible\" class=\"widget-wrapper\">\n      <WidgetHead :config=\"getWidgetHeadConfig\" />\n      <div>\n        <WidgetBody :config=\"getWidgetBodyConfig\" />\n        <WidgetFooter :config=\"getWidgetFooterConfig\" />\n        <div class=\"branding\">\n          <a class=\"branding-link\">\n            <img class=\"branding-image\" :src=\"globalConfig.logoThumbnail\" />\n            <span>\n              {{\n                useInstallationName(\n                  $t('INBOX_MGMT.WIDGET_BUILDER.BRANDING_TEXT'),\n                  globalConfig.installationName\n                )\n              }}\n            </span>\n          </a>\n        </div>\n      </div>\n    </div>\n    <div class=\"widget-bubble\" :style=\"getBubblePositionStyle\">\n      <button\n        class=\"bubble\"\n        :class=\"getBubbleTypeClass\"\n        :style=\"{ background: color }\"\n        @click=\"toggleWidget\"\n      >\n        <img\n          v-if=\"!isWidgetVisible\"\n          src=\"~dashboard/assets/images/bubble-logo.svg\"\n          alt=\"\"\n        />\n        <div>\n          {{ getWidgetBubbleLauncherTitle }}\n        </div>\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport WidgetHead from './WidgetHead';\nimport WidgetBody from './WidgetBody';\nimport WidgetFooter from './WidgetFooter';\nimport InputRadioGroup from 'dashboard/routes/dashboard/settings/inbox/components/InputRadioGroup';\nimport globalConfigMixin from 'shared/mixins/globalConfigMixin';\nimport { mapGetters } from 'vuex';\n\nexport default {\n  name: 'Widget',\n  components: {\n    WidgetHead,\n    WidgetBody,\n    WidgetFooter,\n    InputRadioGroup,\n  },\n  mixins: [globalConfigMixin],\n  props: {\n    welcomeHeading: {\n      type: String,\n      default: '',\n    },\n    welcomeTagline: {\n      type: String,\n      default: '',\n    },\n    websiteName: {\n      type: String,\n      default: '',\n      required: true,\n    },\n    logo: {\n      type: String,\n      default: '',\n    },\n    isOnline: {\n      type: Boolean,\n      default: true,\n    },\n    replyTime: {\n      type: String,\n      default: '',\n    },\n    color: {\n      type: String,\n      default: '',\n    },\n    widgetBubblePosition: {\n      type: String,\n      default: '',\n    },\n    widgetBubbleLauncherTitle: {\n      type: String,\n      default: '',\n    },\n    widgetBubbleType: {\n      type: String,\n      default: '',\n    },\n  },\n  data() {\n    return {\n      widgetScreens: [\n        {\n          id: 'default',\n          title: this.$t('INBOX_MGMT.WIDGET_BUILDER.WIDGET_SCREEN.DEFAULT'),\n          checked: true,\n        },\n        {\n          id: 'chat',\n          title: this.$t('INBOX_MGMT.WIDGET_BUILDER.WIDGET_SCREEN.CHAT'),\n          checked: false,\n        },\n      ],\n      isDefaultScreen: true,\n      isWidgetVisible: true,\n    };\n  },\n  computed: {\n    ...mapGetters({ globalConfig: 'globalConfig/get' }),\n    getWidgetHeadConfig() {\n      return {\n        welcomeHeading: this.welcomeHeading,\n        welcomeTagline: this.welcomeTagline,\n        websiteName: this.websiteName,\n        logo: this.logo,\n        isDefaultScreen: this.isDefaultScreen,\n        isOnline: this.isOnline,\n        replyTime: this.replyTimeText,\n        color: this.color,\n      };\n    },\n    getWidgetBodyConfig() {\n      return {\n        welcomeHeading: this.welcomeHeading,\n        welcomeTagline: this.welcomeTagline,\n        isDefaultScreen: this.isDefaultScreen,\n        isOnline: this.isOnline,\n        replyTime: this.replyTimeText,\n        color: this.color,\n        logo: this.logo,\n      };\n    },\n    getWidgetFooterConfig() {\n      return {\n        isDefaultScreen: this.isDefaultScreen,\n        color: this.color,\n      };\n    },\n    replyTimeText() {\n      switch (this.replyTime) {\n        case 'in_a_few_minutes':\n          return this.$t(\n            'INBOX_MGMT.WIDGET_BUILDER.REPLY_TIME.IN_A_FEW_MINUTES'\n          );\n        case 'in_a_day':\n          return this.$t('INBOX_MGMT.WIDGET_BUILDER.REPLY_TIME.IN_A_DAY');\n        default:\n          return this.$t('INBOX_MGMT.WIDGET_BUILDER.REPLY_TIME.IN_A_FEW_HOURS');\n      }\n    },\n    getBubblePositionStyle() {\n      return {\n        justifyContent: this.widgetBubblePosition === 'left' ? 'start' : 'end',\n      };\n    },\n    getBubbleTypeClass() {\n      return {\n        'bubble-close': this.isWidgetVisible,\n        'bubble-expanded':\n          !this.isWidgetVisible && this.widgetBubbleType === 'expanded_bubble',\n      };\n    },\n    getWidgetBubbleLauncherTitle() {\n      return this.isWidgetVisible || this.widgetBubbleType === 'standard'\n        ? ' '\n        : this.widgetBubbleLauncherTitle;\n    },\n  },\n  methods: {\n    handleScreenChange(item) {\n      this.isDefaultScreen = item.id === 'default';\n    },\n    toggleWidget() {\n      this.isWidgetVisible = !this.isWidgetVisible;\n      this.isDefaultScreen = true;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.screen-selector {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.widget-wrapper {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  box-shadow: var(--shadow-widget-builder);\n  border-radius: var(--border-radius-large);\n  background-color: #f4f6fb;\n  width: calc(var(--space-large) * 10);\n  height: calc(var(--space-mega) * 5);\n\n  .branding {\n    padding-top: var(--space-one);\n    padding-bottom: var(--space-one);\n    display: flex;\n    justify-content: center;\n\n    .branding-link {\n      align-items: center;\n      color: var(--b-500);\n      cursor: pointer;\n      display: flex;\n      filter: grayscale(1);\n      flex-direction: row;\n      font-size: var(--font-size-micro);\n      line-height: 1.5;\n      opacity: 0.9;\n      text-decoration: none;\n\n      &:hover {\n        filter: grayscale(0);\n        opacity: 1;\n        color: var(--b-600);\n      }\n\n      .branding-image {\n        max-width: var(--space-one);\n        max-height: var(--space-one);\n        margin-right: var(--space-micro);\n      }\n    }\n  }\n}\n.widget-bubble {\n  display: flex;\n  flex-direction: row;\n  margin-top: var(--space-normal);\n  width: calc(var(--space-large) * 10);\n\n  .bubble {\n    display: flex;\n    align-items: center;\n    border-radius: calc(var(--border-radius-large) * 10);\n    height: calc(var(--space-large) * 2);\n    width: calc(var(--space-large) * 2);\n    position: relative;\n    overflow-wrap: anywhere;\n    cursor: pointer;\n\n    img {\n      height: var(--space-medium);\n      margin: var(--space-one) var(--space-one) var(--space-one)\n        var(--space-two);\n      width: var(--space-medium);\n    }\n\n    div {\n      padding-right: var(--space-two);\n    }\n\n    .bubble-expanded {\n      img {\n        height: var(--space-large);\n        width: var(--space-large);\n      }\n    }\n  }\n\n  .bubble-close::before,\n  .bubble-close::after {\n    background-color: var(--white);\n    content: ' ';\n    display: inline;\n    height: var(--space-medium);\n    width: var(--space-micro);\n    left: var(--space-large);\n    position: absolute;\n  }\n\n  .bubble-close::before {\n    transform: rotate(45deg);\n  }\n\n  .bubble-close::after {\n    transform: rotate(-45deg);\n  }\n\n  .bubble-expanded {\n    font-size: var(--font-size-default);\n    font-weight: var(--font-weight-medium);\n    color: var(--white);\n    width: auto !important;\n    height: var(--space-larger) !important;\n  }\n}\n</style>\n"],"sourceRoot":"app/javascript/dashboard/modules/widget-preview/components"},"metadata":{},"sourceType":"module"}