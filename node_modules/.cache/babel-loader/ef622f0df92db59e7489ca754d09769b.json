{"ast":null,"code":"function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.symbol.iterator.js\";\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.from.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.function.name.js\";\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar allElementsString = function allElementsString(arr) {\n  return arr.every(function (elem) {\n    return typeof elem === 'string';\n  });\n};\n\nvar allElementsNumbers = function allElementsNumbers(arr) {\n  return arr.every(function (elem) {\n    return typeof elem === 'number';\n  });\n};\n\nvar formatArray = function formatArray(params) {\n  if (params.length <= 0) {\n    params = [];\n  } else if (allElementsString(params) || allElementsNumbers(params)) {\n    params = _toConsumableArray(params);\n  } else {\n    params = params.map(function (val) {\n      return val.id;\n    });\n  }\n\n  return params;\n};\n\nvar generatePayload = function generatePayload(data) {\n  var actions = JSON.parse(JSON.stringify(data));\n  var payload = actions.map(function (item) {\n    if (Array.isArray(item.action_params)) {\n      item.action_params = formatArray(item.action_params);\n    } else if (_typeof(item.action_params) === 'object') {\n      item.action_params = [item.action_params.id];\n    } else if (!item.action_params) {\n      item.action_params = [];\n    } else {\n      item.action_params = [item.action_params];\n    }\n\n    return item;\n  });\n  return payload;\n};\n\nexport default generatePayload;","map":{"version":3,"sources":["/Users/s.dastan/Desktop/chatwoot/chatwoot/app/javascript/dashboard/helper/actionQueryGenerator.js"],"names":["allElementsString","arr","every","elem","allElementsNumbers","formatArray","params","length","map","val","id","generatePayload","data","actions","JSON","parse","stringify","payload","item","Array","isArray","action_params"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,iBAAiB,GAAG,SAApBA,iBAAoB,CAAAC,GAAG,EAAI;AAC/B,SAAOA,GAAG,CAACC,KAAJ,CAAU,UAAAC,IAAI;AAAA,WAAI,OAAOA,IAAP,KAAgB,QAApB;AAAA,GAAd,CAAP;AACD,CAFD;;AAIA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAH,GAAG,EAAI;AAChC,SAAOA,GAAG,CAACC,KAAJ,CAAU,UAAAC,IAAI;AAAA,WAAI,OAAOA,IAAP,KAAgB,QAApB;AAAA,GAAd,CAAP;AACD,CAFD;;AAIA,IAAME,WAAW,GAAG,SAAdA,WAAc,CAAAC,MAAM,EAAI;AAC5B,MAAIA,MAAM,CAACC,MAAP,IAAiB,CAArB,EAAwB;AACtBD,IAAAA,MAAM,GAAG,EAAT;AACD,GAFD,MAEO,IAAIN,iBAAiB,CAACM,MAAD,CAAjB,IAA6BF,kBAAkB,CAACE,MAAD,CAAnD,EAA6D;AAClEA,IAAAA,MAAM,sBAAOA,MAAP,CAAN;AACD,GAFM,MAEA;AACLA,IAAAA,MAAM,GAAGA,MAAM,CAACE,GAAP,CAAW,UAAAC,GAAG;AAAA,aAAIA,GAAG,CAACC,EAAR;AAAA,KAAd,CAAT;AACD;;AACD,SAAOJ,MAAP;AACD,CATD;;AAWA,IAAMK,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,IAAI,EAAI;AAC9B,MAAMC,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeJ,IAAf,CAAX,CAAhB;AACA,MAAIK,OAAO,GAAGJ,OAAO,CAACL,GAAR,CAAY,UAAAU,IAAI,EAAI;AAChC,QAAIC,KAAK,CAACC,OAAN,CAAcF,IAAI,CAACG,aAAnB,CAAJ,EAAuC;AACrCH,MAAAA,IAAI,CAACG,aAAL,GAAqBhB,WAAW,CAACa,IAAI,CAACG,aAAN,CAAhC;AACD,KAFD,MAEO,IAAI,QAAOH,IAAI,CAACG,aAAZ,MAA8B,QAAlC,EAA4C;AACjDH,MAAAA,IAAI,CAACG,aAAL,GAAqB,CAACH,IAAI,CAACG,aAAL,CAAmBX,EAApB,CAArB;AACD,KAFM,MAEA,IAAI,CAACQ,IAAI,CAACG,aAAV,EAAyB;AAC9BH,MAAAA,IAAI,CAACG,aAAL,GAAqB,EAArB;AACD,KAFM,MAEA;AACLH,MAAAA,IAAI,CAACG,aAAL,GAAqB,CAACH,IAAI,CAACG,aAAN,CAArB;AACD;;AACD,WAAOH,IAAP;AACD,GAXa,CAAd;AAYA,SAAOD,OAAP;AACD,CAfD;;AAiBA,eAAeN,eAAf","sourcesContent":["const allElementsString = arr => {\n  return arr.every(elem => typeof elem === 'string');\n};\n\nconst allElementsNumbers = arr => {\n  return arr.every(elem => typeof elem === 'number');\n};\n\nconst formatArray = params => {\n  if (params.length <= 0) {\n    params = [];\n  } else if (allElementsString(params) || allElementsNumbers(params)) {\n    params = [...params];\n  } else {\n    params = params.map(val => val.id);\n  }\n  return params;\n};\n\nconst generatePayload = data => {\n  const actions = JSON.parse(JSON.stringify(data));\n  let payload = actions.map(item => {\n    if (Array.isArray(item.action_params)) {\n      item.action_params = formatArray(item.action_params);\n    } else if (typeof item.action_params === 'object') {\n      item.action_params = [item.action_params.id];\n    } else if (!item.action_params) {\n      item.action_params = [];\n    } else {\n      item.action_params = [item.action_params];\n    }\n    return item;\n  });\n  return payload;\n};\n\nexport default generatePayload;\n"]},"metadata":{},"sourceType":"module"}