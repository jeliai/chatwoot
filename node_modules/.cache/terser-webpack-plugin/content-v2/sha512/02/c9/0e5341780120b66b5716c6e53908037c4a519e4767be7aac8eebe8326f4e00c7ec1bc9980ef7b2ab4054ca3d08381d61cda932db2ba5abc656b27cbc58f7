{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{3142:function(t,e,a){(function(t){var a,n,i,r;function o(t){return o=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},o(t)}window,r=function(){return function(t){var e={};function a(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,a),i.l=!0,i.exports}return a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&\"object\"==o(t)&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,\"a\",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p=\"\",a(a.s=2)}([function(t,e,a){\"use strict\";a.r(e);var n=\"function\"==typeof fetch?fetch.bind():function(t,e){return e=e||{},new Promise((function(a,n){var i=new XMLHttpRequest;for(var r in i.open(e.method||\"get\",t,!0),e.headers)i.setRequestHeader(r,e.headers[r]);function o(){var t,e=[],a=[],n={};return i.getAllResponseHeaders().replace(/^(.*?):[^\\S\\n]*([\\s\\S]*?)$/gm,(function(i,r,o){e.push(r=r.toLowerCase()),a.push([r,o]),t=n[r],n[r]=t?t+\",\"+o:o})),{ok:2==(i.status/100|0),status:i.status,statusText:i.statusText,url:i.responseURL,clone:o,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},headers:{keys:function(){return e},entries:function(){return a},get:function(t){return n[t.toLowerCase()]},has:function(t){return t.toLowerCase()in n}}}}i.withCredentials=\"include\"==e.credentials,i.onload=function(){a(o())},i.onerror=n,i.send(e.body)}))};e.default=n},function(t,e,a){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),i=function(){function t(e,a){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.pluginName=e}return n(t,[{key:\"track\",value:function(t,e){window.analytics.track(t,e,{integration:{name:this.pluginName}})}}]),t}();e.default=i},function(t,e,a){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.YouTubeAnalytics=e.VimeoAnalytics=void 0;var n=r(a(3)),i=r(a(4));function r(t){return t&&t.__esModule?t:{default:t}}e.VimeoAnalytics=n.default,e.YouTubeAnalytics=i.default},function(t,e,a){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),i=r(a(0));function r(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(t,a){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=o(e)&&\"function\"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,\"VimeoAnalytics\"));return n.authToken=a,n.player=t,n.metadata={content:{},playback:{videoPlayer:\"Vimeo\"}},n.mostRecentHeartbeat=0,n.isPaused=!1,n}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+o(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:\"initialize\",value:function(){var t=this,e={loaded:this.retrieveMetadata,play:this.trackPlay,pause:this.trackPause,ended:this.trackEnded,timeupdate:this.trackHeartbeat};for(var a in e)this.registerHandler(a,e[a]);this.player.getVideoId().then((function(e){t.retrieveMetadata({id:e})})).catch(console.error)}},{key:\"registerHandler\",value:function(t,e){var a=this;this.player.on(t,(function(t){a.updateMetadata(t),e.call(a,t)}))}},{key:\"trackPlay\",value:function(){this.isPaused?(this.track(\"Video Playback Resumed\",this.metadata.playback),this.isPaused=!1):(this.track(\"Video Playback Started\",this.metadata.playback),this.track(\"Video Content Started\",this.metadata.content))}},{key:\"trackEnded\",value:function(){this.track(\"Video Playback Completed\",this.metadata.playback),this.track(\"Video Content Completed\",this.metadata.content)}},{key:\"trackHeartbeat\",value:function(){var t=this.mostRecentHeartbeat,e=this.metadata.playback.position;e!==t&&e-t>=10&&(this.track(\"Video Content Playing\",this.metadata.content),this.mostRecentHeartbeat=Math.floor(e))}},{key:\"trackPause\",value:function(){this.isPaused=!0,this.track(\"Video Playback Paused\",this.metadata.playback)}},{key:\"retrieveMetadata\",value:function(t){var e=this;return new Promise((function(a,n){var r=t.id;(0,i.default)(\"https://api.vimeo.com/videos/\"+r,{headers:{Authorization:\"Bearer \"+e.authToken}}).then((function(t){return t.ok?t.json():n(t)})).then((function(t){e.metadata.content.title=t.name,e.metadata.content.description=t.description,e.metadata.content.publisher=t.user.name,e.metadata.playback.position=0,e.metadata.playback.totalLength=t.duration})).catch((function(t){return console.error(\"Request to Vimeo API Failed with: \",t),n(t)}))}))}},{key:\"updateMetadata\",value:function(t){var e=this;return new Promise((function(a,n){e.player.getVolume().then((function(n){n&&(e.metadata.playback.sound=100*n),e.metadata.playback.position=t.seconds,a()})).catch(n)}))}}]),e}(r(a(1)).default);e.default=s},function(t,e,a){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),i=r(a(0));function r(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(t,a){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=o(e)&&\"function\"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,\"YoutubeAnalytics\"));return n.player=t,n.apiKey=a,n.playerLoaded=!1,n.playbackStarted=!1,n.contentStarted=!1,n.isPaused=!1,n.isBuffering=!1,n.isSeeking=!1,n.lastRecordedTime={timeReported:Date.now(),timeElapsed:0},n.metadata=[{playback:{video_player:\"youtube\"},content:{}}],n.playlistIndex=0,n}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+o(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:\"initialize\",value:function(){window.segmentYoutubeOnStateChange=this.onPlayerStateChange.bind(this),window.segmentYoutubeOnReady=this.onPlayerReady.bind(this),this.player.addEventListener(\"onReady\",\"segmentYoutubeOnReady\"),this.player.addEventListener(\"onStateChange\",\"segmentYoutubeOnStateChange\")}},{key:\"onPlayerReady\",value:function(t){this.retrieveMetadata()}},{key:\"onPlayerStateChange\",value:function(t){var e=this.player.getCurrentTime();switch(this.metadata[this.playlistIndex]&&(this.metadata[this.playlistIndex].playback.position=this.metadata[this.playlistIndex].content.position=e,this.metadata[this.playlistIndex].playback.quality=this.player.getPlaybackQuality(),this.metadata[this.playlistIndex].playback.sound=this.player.isMuted()?0:this.player.getVolume()),t.data){case-1:if(this.playerLoaded)break;this.retrieveMetadata(),this.playerLoaded=!0;break;case YT.PlayerState.BUFFERING:this.handleBuffer();break;case YT.PlayerState.PLAYING:this.handlePlay();break;case YT.PlayerState.PAUSED:this.handlePause();break;case YT.PlayerState.ENDED:this.handleEnd()}this.lastRecordedTime={timeReported:Date.now(),timeElapsed:1e3*this.player.getCurrentTime()}}},{key:\"retrieveMetadata\",value:function(){var t=this;return new Promise((function(e,a){var n=t.player.getVideoData(),r=t.player.getPlaylist()||[n.video_id],o=r.join();(0,i.default)(\"https://www.googleapis.com/youtube/v3/videos?id=\"+o+\"&part=snippet,contentDetails&key=\"+t.apiKey).then((function(t){if(!t.ok){var e=new Error(\"Segment request to Youtube API failed (likely due to a bad API Key. Events will still be sent but will not contain video metadata)\");throw e.response=t,e}return t.json()})).then((function(a){t.metadata=[];for(var n=0,i=0;i<r.length;i++){var o=a.items[i];t.metadata.push({content:{title:o.snippet.title,description:o.snippet.description,keywords:o.snippet.tags,channel:o.snippet.channelTitle,airdate:o.snippet.publishedAt}}),n+=l(o.contentDetails.duration)}for(i=0;i<r.length;i++)t.metadata[i].playback={total_length:n,video_player:\"youtube\"};e()})).catch((function(e){t.metadata=r.map((function(t){return{playback:{video_player:\"youtube\"},content:{}}})),a(e)}))}))}},{key:\"handleBuffer\",value:function(){var t=this.determineSeek();this.playbackStarted||(this.playbackStarted=!0,this.track(\"Video Playback Started\",this.metadata[this.playlistIndex].playback)),t&&!this.isSeeking&&(this.isSeeking=!0,this.track(\"Video Playback Seek Started\",this.metadata[this.playlistIndex].playback)),this.isSeeking&&(this.track(\"Video Playback Seek Completed\",this.metadata[this.playlistIndex].playback),this.isSeeking=!1);var e=this.player.getPlaylist();e&&0===this.player.getCurrentTime()&&this.player.getPlaylistIndex()!==this.playlistIndex&&(this.contentStarted=!1,this.playlistIndex===e.length-1&&0===this.player.getPlaylistIndex()&&(this.track(\"Video Playback Completed\",this.metadata[this.player.getPlaylistIndex()].playback),this.track(\"Video Playback Started\",this.metadata[this.player.getPlaylistIndex()].playback))),this.track(\"Video Playback Buffer Started\",this.metadata[this.playlistIndex].playback),this.isBuffering=!0}},{key:\"handlePlay\",value:function(){this.contentStarted||(this.playlistIndex=this.player.getPlaylistIndex(),-1===this.playlistIndex&&(this.playlistIndex=0),this.track(\"Video Content Started\",this.metadata[this.playlistIndex].content),this.contentStarted=!0),this.isBuffering&&(this.track(\"Video Playback Buffer Completed\",this.metadata[this.playlistIndex].playback),this.isBuffering=!1),this.isPaused&&(this.track(\"Video Playback Resumed\",this.metadata[this.playlistIndex].playback),this.isPaused=!1)}},{key:\"handlePause\",value:function(){var t=this.determineSeek();this.isBuffering&&(this.track(\"Video Playback Buffer Completed\",this.metadata[this.playlistIndex].playback),this.isBuffering=!1),this.isPaused||(t?(this.track(\"Video Playback Seek Started\",this.metadata[this.playlistIndex].playback),this.isSeeking=!0):(this.track(\"Video Playback Paused\",this.metadata[this.playlistIndex].playback),this.isPaused=!0))}},{key:\"handleEnd\",value:function(){this.track(\"Video Content Completed\",this.metadata[this.playlistIndex].content),this.contentStarted=!1;var t=this.player.getPlaylistIndex(),e=this.player.getPlaylist();(e&&t===e.length-1||-1===t)&&(this.track(\"Video Playback Completed\",this.metadata[this.playlistIndex].playback),this.playbackStarted=!1)}},{key:\"determineSeek\",value:function(){var t=this.isPaused||this.isBuffering?0:Date.now()-this.lastRecordedTime.timeReported,e=1e3*this.player.getCurrentTime()-this.lastRecordedTime.timeElapsed;return Math.abs(t-e)>2e3}}]),e}(r(a(1)).default);function l(t){var e=t.match(/PT(\\d+H)?(\\d+M)?(\\d+S)?/);return e=e.slice(1).map((function(t){if(null!=t)return t.replace(/\\D/,\"\")})),3600*(parseInt(e[0])||0)+60*(parseInt(e[1])||0)+(parseInt(e[2])||0)}e.default=s}])},\"object\"==o(e)&&\"object\"==o(t)?t.exports=r():(n=[],void 0===(i=\"function\"===typeof(a=r)?a.apply(e,n):a)||(t.exports=i))}).call(this,a(118)(t))}}]);","name":"js/44-d69abc385e1e3f2a7983.chunk.js","map":{"version":3,"names":["window","push","module","exports","__webpack_require__","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","t","_typeof","obj","Symbol","iterator","constructor","prototype","e","a","n","i","l","call","m","c","d","o","Object","defineProperty","enumerable","get","r","toStringTag","value","__esModule","create","bind","default","hasOwnProperty","p","s","fetch","Promise","XMLHttpRequest","open","method","headers","setRequestHeader","getAllResponseHeaders","replace","toLowerCase","ok","status","statusText","url","responseURL","clone","text","resolve","responseText","json","then","JSON","parse","blob","Blob","response","keys","entries","has","withCredentials","credentials","onload","onerror","send","body","length","configurable","writable","key","TypeError","this","pluginName","analytics","track","integration","name","YouTubeAnalytics","VimeoAnalytics","ReferenceError","__proto__","getPrototypeOf","authToken","player","metadata","content","playback","videoPlayer","mostRecentHeartbeat","isPaused","setPrototypeOf","loaded","retrieveMetadata","play","trackPlay","pause","trackPause","ended","trackEnded","timeupdate","trackHeartbeat","registerHandler","getVideoId","id","catch","console","error","on","updateMetadata","position","Math","floor","Authorization","title","description","publisher","user","totalLength","duration","getVolume","sound","seconds","apiKey","playerLoaded","playbackStarted","contentStarted","isBuffering","isSeeking","lastRecordedTime","timeReported","Date","now","timeElapsed","video_player","playlistIndex","segmentYoutubeOnStateChange","onPlayerStateChange","segmentYoutubeOnReady","onPlayerReady","addEventListener","getCurrentTime","quality","getPlaybackQuality","isMuted","data","YT","PlayerState","BUFFERING","handleBuffer","PLAYING","handlePlay","PAUSED","handlePause","ENDED","handleEnd","getVideoData","getPlaylist","video_id","join","Error","items","snippet","keywords","tags","channel","channelTitle","airdate","publishedAt","contentDetails","total_length","map","determineSeek","getPlaylistIndex","abs","match","slice","parseInt","undefined","apply"],"sources":["js/44-d69abc385e1e3f2a7983.chunk.js"],"mappings":"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"},"input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[44],{\n\n/***/ 3142:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n!function (e, t) {\n  \"object\" == ( false ? undefined : _typeof(exports)) && \"object\" == ( false ? undefined : _typeof(module)) ? module.exports = t() :  true ? !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (t),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : undefined;\n}(window, function () {\n  return function (e) {\n    var t = {};\n\n    function a(n) {\n      if (t[n]) return t[n].exports;\n      var i = t[n] = {\n        i: n,\n        l: !1,\n        exports: {}\n      };\n      return e[n].call(i.exports, i, i.exports, a), i.l = !0, i.exports;\n    }\n\n    return a.m = e, a.c = t, a.d = function (e, t, n) {\n      a.o(e, t) || Object.defineProperty(e, t, {\n        enumerable: !0,\n        get: n\n      });\n    }, a.r = function (e) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n    }, a.t = function (e, t) {\n      if (1 & t && (e = a(e)), 8 & t) return e;\n      if (4 & t && \"object\" == _typeof(e) && e && e.__esModule) return e;\n      var n = Object.create(null);\n      if (a.r(n), Object.defineProperty(n, \"default\", {\n        enumerable: !0,\n        value: e\n      }), 2 & t && \"string\" != typeof e) for (var i in e) {\n        a.d(n, i, function (t) {\n          return e[t];\n        }.bind(null, i));\n      }\n      return n;\n    }, a.n = function (e) {\n      var t = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return a.d(t, \"a\", t), t;\n    }, a.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, a.p = \"\", a(a.s = 2);\n  }([function (e, t, a) {\n    \"use strict\";\n\n    a.r(t);\n    var n = \"function\" == typeof fetch ? fetch.bind() : function (e, t) {\n      return t = t || {}, new Promise(function (a, n) {\n        var i = new XMLHttpRequest();\n\n        for (var r in i.open(t.method || \"get\", e, !0), t.headers) {\n          i.setRequestHeader(r, t.headers[r]);\n        }\n\n        function o() {\n          var e,\n              t = [],\n              a = [],\n              n = {};\n          return i.getAllResponseHeaders().replace(/^(.*?):[^\\S\\n]*([\\s\\S]*?)$/gm, function (i, r, o) {\n            t.push(r = r.toLowerCase()), a.push([r, o]), e = n[r], n[r] = e ? e + \",\" + o : o;\n          }), {\n            ok: 2 == (i.status / 100 | 0),\n            status: i.status,\n            statusText: i.statusText,\n            url: i.responseURL,\n            clone: o,\n            text: function text() {\n              return Promise.resolve(i.responseText);\n            },\n            json: function json() {\n              return Promise.resolve(i.responseText).then(JSON.parse);\n            },\n            blob: function blob() {\n              return Promise.resolve(new Blob([i.response]));\n            },\n            headers: {\n              keys: function keys() {\n                return t;\n              },\n              entries: function entries() {\n                return a;\n              },\n              get: function get(e) {\n                return n[e.toLowerCase()];\n              },\n              has: function has(e) {\n                return e.toLowerCase() in n;\n              }\n            }\n          };\n        }\n\n        i.withCredentials = \"include\" == t.credentials, i.onload = function () {\n          a(o());\n        }, i.onerror = n, i.send(t.body);\n      });\n    };\n    t.default = n;\n  }, function (e, t, a) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var n = function () {\n      function e(e, t) {\n        for (var a = 0; a < t.length; a++) {\n          var n = t[a];\n          n.enumerable = n.enumerable || !1, n.configurable = !0, \"value\" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);\n        }\n      }\n\n      return function (t, a, n) {\n        return a && e(t.prototype, a), n && e(t, n), t;\n      };\n    }();\n\n    var i = function () {\n      function e(t, a) {\n        !function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, e), this.pluginName = t;\n      }\n\n      return n(e, [{\n        key: \"track\",\n        value: function value(e, t) {\n          window.analytics.track(e, t, {\n            integration: {\n              name: this.pluginName\n            }\n          });\n        }\n      }]), e;\n    }();\n\n    t.default = i;\n  }, function (e, t, a) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.YouTubeAnalytics = t.VimeoAnalytics = void 0;\n    var n = r(a(3)),\n        i = r(a(4));\n\n    function r(e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    }\n\n    t.VimeoAnalytics = n.default, t.YouTubeAnalytics = i.default;\n  }, function (e, t, a) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var n = function () {\n      function e(e, t) {\n        for (var a = 0; a < t.length; a++) {\n          var n = t[a];\n          n.enumerable = n.enumerable || !1, n.configurable = !0, \"value\" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);\n        }\n      }\n\n      return function (t, a, n) {\n        return a && e(t.prototype, a), n && e(t, n), t;\n      };\n    }(),\n        i = r(a(0));\n\n    function r(e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    }\n\n    var o = function (e) {\n      function t(e, a) {\n        !function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, t);\n\n        var n = function (e, t) {\n          if (!e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          return !t || \"object\" != _typeof(t) && \"function\" != typeof t ? e : t;\n        }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, \"VimeoAnalytics\"));\n\n        return n.authToken = a, n.player = e, n.metadata = {\n          content: {},\n          playback: {\n            videoPlayer: \"Vimeo\"\n          }\n        }, n.mostRecentHeartbeat = 0, n.isPaused = !1, n;\n      }\n\n      return function (e, t) {\n        if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function, not \" + _typeof(t));\n        e.prototype = Object.create(t && t.prototype, {\n          constructor: {\n            value: e,\n            enumerable: !1,\n            writable: !0,\n            configurable: !0\n          }\n        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);\n      }(t, e), n(t, [{\n        key: \"initialize\",\n        value: function value() {\n          var e = this,\n              t = {\n            loaded: this.retrieveMetadata,\n            play: this.trackPlay,\n            pause: this.trackPause,\n            ended: this.trackEnded,\n            timeupdate: this.trackHeartbeat\n          };\n\n          for (var a in t) {\n            this.registerHandler(a, t[a]);\n          }\n\n          this.player.getVideoId().then(function (t) {\n            e.retrieveMetadata({\n              id: t\n            });\n          }).catch(console.error);\n        }\n      }, {\n        key: \"registerHandler\",\n        value: function value(e, t) {\n          var a = this;\n          this.player.on(e, function (e) {\n            a.updateMetadata(e), t.call(a, e);\n          });\n        }\n      }, {\n        key: \"trackPlay\",\n        value: function value() {\n          this.isPaused ? (this.track(\"Video Playback Resumed\", this.metadata.playback), this.isPaused = !1) : (this.track(\"Video Playback Started\", this.metadata.playback), this.track(\"Video Content Started\", this.metadata.content));\n        }\n      }, {\n        key: \"trackEnded\",\n        value: function value() {\n          this.track(\"Video Playback Completed\", this.metadata.playback), this.track(\"Video Content Completed\", this.metadata.content);\n        }\n      }, {\n        key: \"trackHeartbeat\",\n        value: function value() {\n          var e = this.mostRecentHeartbeat,\n              t = this.metadata.playback.position;\n          t !== e && t - e >= 10 && (this.track(\"Video Content Playing\", this.metadata.content), this.mostRecentHeartbeat = Math.floor(t));\n        }\n      }, {\n        key: \"trackPause\",\n        value: function value() {\n          this.isPaused = !0, this.track(\"Video Playback Paused\", this.metadata.playback);\n        }\n      }, {\n        key: \"retrieveMetadata\",\n        value: function value(e) {\n          var t = this;\n          return new Promise(function (a, n) {\n            var r = e.id;\n            (0, i.default)(\"https://api.vimeo.com/videos/\" + r, {\n              headers: {\n                Authorization: \"Bearer \" + t.authToken\n              }\n            }).then(function (e) {\n              return e.ok ? e.json() : n(e);\n            }).then(function (e) {\n              t.metadata.content.title = e.name, t.metadata.content.description = e.description, t.metadata.content.publisher = e.user.name, t.metadata.playback.position = 0, t.metadata.playback.totalLength = e.duration;\n            }).catch(function (e) {\n              return console.error(\"Request to Vimeo API Failed with: \", e), n(e);\n            });\n          });\n        }\n      }, {\n        key: \"updateMetadata\",\n        value: function value(e) {\n          var t = this;\n          return new Promise(function (a, n) {\n            t.player.getVolume().then(function (n) {\n              n && (t.metadata.playback.sound = 100 * n), t.metadata.playback.position = e.seconds, a();\n            }).catch(n);\n          });\n        }\n      }]), t;\n    }(r(a(1)).default);\n\n    t.default = o;\n  }, function (e, t, a) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var n = function () {\n      function e(e, t) {\n        for (var a = 0; a < t.length; a++) {\n          var n = t[a];\n          n.enumerable = n.enumerable || !1, n.configurable = !0, \"value\" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);\n        }\n      }\n\n      return function (t, a, n) {\n        return a && e(t.prototype, a), n && e(t, n), t;\n      };\n    }(),\n        i = o(a(0)),\n        r = o(a(1));\n\n    function o(e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    }\n\n    var s = function (e) {\n      function t(e, a) {\n        !function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, t);\n\n        var n = function (e, t) {\n          if (!e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          return !t || \"object\" != _typeof(t) && \"function\" != typeof t ? e : t;\n        }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, \"YoutubeAnalytics\"));\n\n        return n.player = e, n.apiKey = a, n.playerLoaded = !1, n.playbackStarted = !1, n.contentStarted = !1, n.isPaused = !1, n.isBuffering = !1, n.isSeeking = !1, n.lastRecordedTime = {\n          timeReported: Date.now(),\n          timeElapsed: 0\n        }, n.metadata = [{\n          playback: {\n            video_player: \"youtube\"\n          },\n          content: {}\n        }], n.playlistIndex = 0, n;\n      }\n\n      return function (e, t) {\n        if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function, not \" + _typeof(t));\n        e.prototype = Object.create(t && t.prototype, {\n          constructor: {\n            value: e,\n            enumerable: !1,\n            writable: !0,\n            configurable: !0\n          }\n        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);\n      }(t, e), n(t, [{\n        key: \"initialize\",\n        value: function value() {\n          window.segmentYoutubeOnStateChange = this.onPlayerStateChange.bind(this), window.segmentYoutubeOnReady = this.onPlayerReady.bind(this), this.player.addEventListener(\"onReady\", \"segmentYoutubeOnReady\"), this.player.addEventListener(\"onStateChange\", \"segmentYoutubeOnStateChange\");\n        }\n      }, {\n        key: \"onPlayerReady\",\n        value: function value(e) {\n          this.retrieveMetadata();\n        }\n      }, {\n        key: \"onPlayerStateChange\",\n        value: function value(e) {\n          var t = this.player.getCurrentTime();\n\n          switch (this.metadata[this.playlistIndex] && (this.metadata[this.playlistIndex].playback.position = this.metadata[this.playlistIndex].content.position = t, this.metadata[this.playlistIndex].playback.quality = this.player.getPlaybackQuality(), this.metadata[this.playlistIndex].playback.sound = this.player.isMuted() ? 0 : this.player.getVolume()), e.data) {\n            case -1:\n              if (this.playerLoaded) break;\n              this.retrieveMetadata(), this.playerLoaded = !0;\n              break;\n\n            case YT.PlayerState.BUFFERING:\n              this.handleBuffer();\n              break;\n\n            case YT.PlayerState.PLAYING:\n              this.handlePlay();\n              break;\n\n            case YT.PlayerState.PAUSED:\n              this.handlePause();\n              break;\n\n            case YT.PlayerState.ENDED:\n              this.handleEnd();\n          }\n\n          this.lastRecordedTime = {\n            timeReported: Date.now(),\n            timeElapsed: 1e3 * this.player.getCurrentTime()\n          };\n        }\n      }, {\n        key: \"retrieveMetadata\",\n        value: function value() {\n          var e = this;\n          return new Promise(function (t, a) {\n            var n = e.player.getVideoData(),\n                r = e.player.getPlaylist() || [n.video_id],\n                o = r.join();\n            (0, i.default)(\"https://www.googleapis.com/youtube/v3/videos?id=\" + o + \"&part=snippet,contentDetails&key=\" + e.apiKey).then(function (e) {\n              if (!e.ok) {\n                var t = new Error(\"Segment request to Youtube API failed (likely due to a bad API Key. Events will still be sent but will not contain video metadata)\");\n                throw t.response = e, t;\n              }\n\n              return e.json();\n            }).then(function (a) {\n              e.metadata = [];\n\n              for (var n = 0, i = 0; i < r.length; i++) {\n                var o = a.items[i];\n                e.metadata.push({\n                  content: {\n                    title: o.snippet.title,\n                    description: o.snippet.description,\n                    keywords: o.snippet.tags,\n                    channel: o.snippet.channelTitle,\n                    airdate: o.snippet.publishedAt\n                  }\n                }), n += l(o.contentDetails.duration);\n              }\n\n              for (i = 0; i < r.length; i++) {\n                e.metadata[i].playback = {\n                  total_length: n,\n                  video_player: \"youtube\"\n                };\n              }\n\n              t();\n            }).catch(function (t) {\n              e.metadata = r.map(function (e) {\n                return {\n                  playback: {\n                    video_player: \"youtube\"\n                  },\n                  content: {}\n                };\n              }), a(t);\n            });\n          });\n        }\n      }, {\n        key: \"handleBuffer\",\n        value: function value() {\n          var e = this.determineSeek();\n          this.playbackStarted || (this.playbackStarted = !0, this.track(\"Video Playback Started\", this.metadata[this.playlistIndex].playback)), e && !this.isSeeking && (this.isSeeking = !0, this.track(\"Video Playback Seek Started\", this.metadata[this.playlistIndex].playback)), this.isSeeking && (this.track(\"Video Playback Seek Completed\", this.metadata[this.playlistIndex].playback), this.isSeeking = !1);\n          var t = this.player.getPlaylist();\n          t && 0 === this.player.getCurrentTime() && this.player.getPlaylistIndex() !== this.playlistIndex && (this.contentStarted = !1, this.playlistIndex === t.length - 1 && 0 === this.player.getPlaylistIndex() && (this.track(\"Video Playback Completed\", this.metadata[this.player.getPlaylistIndex()].playback), this.track(\"Video Playback Started\", this.metadata[this.player.getPlaylistIndex()].playback))), this.track(\"Video Playback Buffer Started\", this.metadata[this.playlistIndex].playback), this.isBuffering = !0;\n        }\n      }, {\n        key: \"handlePlay\",\n        value: function value() {\n          this.contentStarted || (this.playlistIndex = this.player.getPlaylistIndex(), -1 === this.playlistIndex && (this.playlistIndex = 0), this.track(\"Video Content Started\", this.metadata[this.playlistIndex].content), this.contentStarted = !0), this.isBuffering && (this.track(\"Video Playback Buffer Completed\", this.metadata[this.playlistIndex].playback), this.isBuffering = !1), this.isPaused && (this.track(\"Video Playback Resumed\", this.metadata[this.playlistIndex].playback), this.isPaused = !1);\n        }\n      }, {\n        key: \"handlePause\",\n        value: function value() {\n          var e = this.determineSeek();\n          this.isBuffering && (this.track(\"Video Playback Buffer Completed\", this.metadata[this.playlistIndex].playback), this.isBuffering = !1), this.isPaused || (e ? (this.track(\"Video Playback Seek Started\", this.metadata[this.playlistIndex].playback), this.isSeeking = !0) : (this.track(\"Video Playback Paused\", this.metadata[this.playlistIndex].playback), this.isPaused = !0));\n        }\n      }, {\n        key: \"handleEnd\",\n        value: function value() {\n          this.track(\"Video Content Completed\", this.metadata[this.playlistIndex].content), this.contentStarted = !1;\n          var e = this.player.getPlaylistIndex(),\n              t = this.player.getPlaylist();\n          (t && e === t.length - 1 || -1 === e) && (this.track(\"Video Playback Completed\", this.metadata[this.playlistIndex].playback), this.playbackStarted = !1);\n        }\n      }, {\n        key: \"determineSeek\",\n        value: function value() {\n          var e = this.isPaused || this.isBuffering ? 0 : Date.now() - this.lastRecordedTime.timeReported,\n              t = 1e3 * this.player.getCurrentTime() - this.lastRecordedTime.timeElapsed;\n          return Math.abs(e - t) > 2e3;\n        }\n      }]), t;\n    }(r.default);\n\n    function l(e) {\n      var t = e.match(/PT(\\d+H)?(\\d+M)?(\\d+S)?/);\n      return t = t.slice(1).map(function (e) {\n        if (null != e) return e.replace(/\\D/, \"\");\n      }), 3600 * (parseInt(t[0]) || 0) + 60 * (parseInt(t[1]) || 0) + (parseInt(t[2]) || 0);\n    }\n\n    t.default = s;\n  }]);\n});\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(118)(module)))\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/Users/s.dastan/Desktop/chatwoot/chatwoot/node_modules/babel-loader/lib/index.js??ref--6-0!/Users/s.dastan/Desktop/chatwoot/chatwoot/node_modules/@segment/analytics.js-video-plugins/dist/index.umd.js"],"names":[],"mappings":";;;;;AAAA,qKAAuB,2BAA2B,2EAA2E,kCAAkC,mBAAmB,GAAG,EAAE,OAAO,kCAAkC,8HAA8H,GAAG,EAAE,qBAAqB;;AAExX;AACA,eAAe,MAA8B,GAAG,SAAW,qCAAqC,MAA6B,GAAG,SAAW,6CAA6C,KAAyC,GAAG,iCAAO,EAAE,oCAAE,CAAC;AAAA;AAAA;AAAA,oGAAC,GAAG,SAAmJ;AACvY,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL,GAAG;AACH;;AAEA;AACA;AACA,wBAAwB;AACxB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,eAAe;AACf;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA,uBAAuB,cAAc;AACrC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,OAAO;AACP,KAAK;;AAEL;AACA,GAAG;AACH;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA,uBAAuB,cAAc;AACrC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS;;AAET;AACA,qBAAqB;AACrB;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb,WAAW;AACX;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb,WAAW;AACX;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,WAAW;AACX;AACA,OAAO;AACP,KAAK;;AAEL;AACA,GAAG;AACH;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA,uBAAuB,cAAc;AACrC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,WAAW;AACX;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa;AACb;;AAEA,oCAAoC,cAAc;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;;AAEA,yBAAyB,cAAc;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA,eAAe;AACf,aAAa;AACb,WAAW;AACX;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA,GAAG;AACH,CAAC,E","file":"x","sourcesContent":["function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n!function (e, t) {\n  \"object\" == (typeof exports === \"undefined\" ? \"undefined\" : _typeof(exports)) && \"object\" == (typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) ? module.exports = t() : \"function\" == typeof define && define.amd ? define([], t) : \"object\" == (typeof exports === \"undefined\" ? \"undefined\" : _typeof(exports)) ? exports.analyticsVideoPlugins = t() : e.analyticsVideoPlugins = t();\n}(window, function () {\n  return function (e) {\n    var t = {};\n\n    function a(n) {\n      if (t[n]) return t[n].exports;\n      var i = t[n] = {\n        i: n,\n        l: !1,\n        exports: {}\n      };\n      return e[n].call(i.exports, i, i.exports, a), i.l = !0, i.exports;\n    }\n\n    return a.m = e, a.c = t, a.d = function (e, t, n) {\n      a.o(e, t) || Object.defineProperty(e, t, {\n        enumerable: !0,\n        get: n\n      });\n    }, a.r = function (e) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n    }, a.t = function (e, t) {\n      if (1 & t && (e = a(e)), 8 & t) return e;\n      if (4 & t && \"object\" == _typeof(e) && e && e.__esModule) return e;\n      var n = Object.create(null);\n      if (a.r(n), Object.defineProperty(n, \"default\", {\n        enumerable: !0,\n        value: e\n      }), 2 & t && \"string\" != typeof e) for (var i in e) {\n        a.d(n, i, function (t) {\n          return e[t];\n        }.bind(null, i));\n      }\n      return n;\n    }, a.n = function (e) {\n      var t = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return a.d(t, \"a\", t), t;\n    }, a.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, a.p = \"\", a(a.s = 2);\n  }([function (e, t, a) {\n    \"use strict\";\n\n    a.r(t);\n    var n = \"function\" == typeof fetch ? fetch.bind() : function (e, t) {\n      return t = t || {}, new Promise(function (a, n) {\n        var i = new XMLHttpRequest();\n\n        for (var r in i.open(t.method || \"get\", e, !0), t.headers) {\n          i.setRequestHeader(r, t.headers[r]);\n        }\n\n        function o() {\n          var e,\n              t = [],\n              a = [],\n              n = {};\n          return i.getAllResponseHeaders().replace(/^(.*?):[^\\S\\n]*([\\s\\S]*?)$/gm, function (i, r, o) {\n            t.push(r = r.toLowerCase()), a.push([r, o]), e = n[r], n[r] = e ? e + \",\" + o : o;\n          }), {\n            ok: 2 == (i.status / 100 | 0),\n            status: i.status,\n            statusText: i.statusText,\n            url: i.responseURL,\n            clone: o,\n            text: function text() {\n              return Promise.resolve(i.responseText);\n            },\n            json: function json() {\n              return Promise.resolve(i.responseText).then(JSON.parse);\n            },\n            blob: function blob() {\n              return Promise.resolve(new Blob([i.response]));\n            },\n            headers: {\n              keys: function keys() {\n                return t;\n              },\n              entries: function entries() {\n                return a;\n              },\n              get: function get(e) {\n                return n[e.toLowerCase()];\n              },\n              has: function has(e) {\n                return e.toLowerCase() in n;\n              }\n            }\n          };\n        }\n\n        i.withCredentials = \"include\" == t.credentials, i.onload = function () {\n          a(o());\n        }, i.onerror = n, i.send(t.body);\n      });\n    };\n    t.default = n;\n  }, function (e, t, a) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var n = function () {\n      function e(e, t) {\n        for (var a = 0; a < t.length; a++) {\n          var n = t[a];\n          n.enumerable = n.enumerable || !1, n.configurable = !0, \"value\" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);\n        }\n      }\n\n      return function (t, a, n) {\n        return a && e(t.prototype, a), n && e(t, n), t;\n      };\n    }();\n\n    var i = function () {\n      function e(t, a) {\n        !function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, e), this.pluginName = t;\n      }\n\n      return n(e, [{\n        key: \"track\",\n        value: function value(e, t) {\n          window.analytics.track(e, t, {\n            integration: {\n              name: this.pluginName\n            }\n          });\n        }\n      }]), e;\n    }();\n\n    t.default = i;\n  }, function (e, t, a) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.YouTubeAnalytics = t.VimeoAnalytics = void 0;\n    var n = r(a(3)),\n        i = r(a(4));\n\n    function r(e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    }\n\n    t.VimeoAnalytics = n.default, t.YouTubeAnalytics = i.default;\n  }, function (e, t, a) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var n = function () {\n      function e(e, t) {\n        for (var a = 0; a < t.length; a++) {\n          var n = t[a];\n          n.enumerable = n.enumerable || !1, n.configurable = !0, \"value\" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);\n        }\n      }\n\n      return function (t, a, n) {\n        return a && e(t.prototype, a), n && e(t, n), t;\n      };\n    }(),\n        i = r(a(0));\n\n    function r(e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    }\n\n    var o = function (e) {\n      function t(e, a) {\n        !function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, t);\n\n        var n = function (e, t) {\n          if (!e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          return !t || \"object\" != _typeof(t) && \"function\" != typeof t ? e : t;\n        }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, \"VimeoAnalytics\"));\n\n        return n.authToken = a, n.player = e, n.metadata = {\n          content: {},\n          playback: {\n            videoPlayer: \"Vimeo\"\n          }\n        }, n.mostRecentHeartbeat = 0, n.isPaused = !1, n;\n      }\n\n      return function (e, t) {\n        if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function, not \" + _typeof(t));\n        e.prototype = Object.create(t && t.prototype, {\n          constructor: {\n            value: e,\n            enumerable: !1,\n            writable: !0,\n            configurable: !0\n          }\n        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);\n      }(t, e), n(t, [{\n        key: \"initialize\",\n        value: function value() {\n          var e = this,\n              t = {\n            loaded: this.retrieveMetadata,\n            play: this.trackPlay,\n            pause: this.trackPause,\n            ended: this.trackEnded,\n            timeupdate: this.trackHeartbeat\n          };\n\n          for (var a in t) {\n            this.registerHandler(a, t[a]);\n          }\n\n          this.player.getVideoId().then(function (t) {\n            e.retrieveMetadata({\n              id: t\n            });\n          }).catch(console.error);\n        }\n      }, {\n        key: \"registerHandler\",\n        value: function value(e, t) {\n          var a = this;\n          this.player.on(e, function (e) {\n            a.updateMetadata(e), t.call(a, e);\n          });\n        }\n      }, {\n        key: \"trackPlay\",\n        value: function value() {\n          this.isPaused ? (this.track(\"Video Playback Resumed\", this.metadata.playback), this.isPaused = !1) : (this.track(\"Video Playback Started\", this.metadata.playback), this.track(\"Video Content Started\", this.metadata.content));\n        }\n      }, {\n        key: \"trackEnded\",\n        value: function value() {\n          this.track(\"Video Playback Completed\", this.metadata.playback), this.track(\"Video Content Completed\", this.metadata.content);\n        }\n      }, {\n        key: \"trackHeartbeat\",\n        value: function value() {\n          var e = this.mostRecentHeartbeat,\n              t = this.metadata.playback.position;\n          t !== e && t - e >= 10 && (this.track(\"Video Content Playing\", this.metadata.content), this.mostRecentHeartbeat = Math.floor(t));\n        }\n      }, {\n        key: \"trackPause\",\n        value: function value() {\n          this.isPaused = !0, this.track(\"Video Playback Paused\", this.metadata.playback);\n        }\n      }, {\n        key: \"retrieveMetadata\",\n        value: function value(e) {\n          var t = this;\n          return new Promise(function (a, n) {\n            var r = e.id;\n            (0, i.default)(\"https://api.vimeo.com/videos/\" + r, {\n              headers: {\n                Authorization: \"Bearer \" + t.authToken\n              }\n            }).then(function (e) {\n              return e.ok ? e.json() : n(e);\n            }).then(function (e) {\n              t.metadata.content.title = e.name, t.metadata.content.description = e.description, t.metadata.content.publisher = e.user.name, t.metadata.playback.position = 0, t.metadata.playback.totalLength = e.duration;\n            }).catch(function (e) {\n              return console.error(\"Request to Vimeo API Failed with: \", e), n(e);\n            });\n          });\n        }\n      }, {\n        key: \"updateMetadata\",\n        value: function value(e) {\n          var t = this;\n          return new Promise(function (a, n) {\n            t.player.getVolume().then(function (n) {\n              n && (t.metadata.playback.sound = 100 * n), t.metadata.playback.position = e.seconds, a();\n            }).catch(n);\n          });\n        }\n      }]), t;\n    }(r(a(1)).default);\n\n    t.default = o;\n  }, function (e, t, a) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var n = function () {\n      function e(e, t) {\n        for (var a = 0; a < t.length; a++) {\n          var n = t[a];\n          n.enumerable = n.enumerable || !1, n.configurable = !0, \"value\" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);\n        }\n      }\n\n      return function (t, a, n) {\n        return a && e(t.prototype, a), n && e(t, n), t;\n      };\n    }(),\n        i = o(a(0)),\n        r = o(a(1));\n\n    function o(e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    }\n\n    var s = function (e) {\n      function t(e, a) {\n        !function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, t);\n\n        var n = function (e, t) {\n          if (!e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          return !t || \"object\" != _typeof(t) && \"function\" != typeof t ? e : t;\n        }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, \"YoutubeAnalytics\"));\n\n        return n.player = e, n.apiKey = a, n.playerLoaded = !1, n.playbackStarted = !1, n.contentStarted = !1, n.isPaused = !1, n.isBuffering = !1, n.isSeeking = !1, n.lastRecordedTime = {\n          timeReported: Date.now(),\n          timeElapsed: 0\n        }, n.metadata = [{\n          playback: {\n            video_player: \"youtube\"\n          },\n          content: {}\n        }], n.playlistIndex = 0, n;\n      }\n\n      return function (e, t) {\n        if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function, not \" + _typeof(t));\n        e.prototype = Object.create(t && t.prototype, {\n          constructor: {\n            value: e,\n            enumerable: !1,\n            writable: !0,\n            configurable: !0\n          }\n        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);\n      }(t, e), n(t, [{\n        key: \"initialize\",\n        value: function value() {\n          window.segmentYoutubeOnStateChange = this.onPlayerStateChange.bind(this), window.segmentYoutubeOnReady = this.onPlayerReady.bind(this), this.player.addEventListener(\"onReady\", \"segmentYoutubeOnReady\"), this.player.addEventListener(\"onStateChange\", \"segmentYoutubeOnStateChange\");\n        }\n      }, {\n        key: \"onPlayerReady\",\n        value: function value(e) {\n          this.retrieveMetadata();\n        }\n      }, {\n        key: \"onPlayerStateChange\",\n        value: function value(e) {\n          var t = this.player.getCurrentTime();\n\n          switch (this.metadata[this.playlistIndex] && (this.metadata[this.playlistIndex].playback.position = this.metadata[this.playlistIndex].content.position = t, this.metadata[this.playlistIndex].playback.quality = this.player.getPlaybackQuality(), this.metadata[this.playlistIndex].playback.sound = this.player.isMuted() ? 0 : this.player.getVolume()), e.data) {\n            case -1:\n              if (this.playerLoaded) break;\n              this.retrieveMetadata(), this.playerLoaded = !0;\n              break;\n\n            case YT.PlayerState.BUFFERING:\n              this.handleBuffer();\n              break;\n\n            case YT.PlayerState.PLAYING:\n              this.handlePlay();\n              break;\n\n            case YT.PlayerState.PAUSED:\n              this.handlePause();\n              break;\n\n            case YT.PlayerState.ENDED:\n              this.handleEnd();\n          }\n\n          this.lastRecordedTime = {\n            timeReported: Date.now(),\n            timeElapsed: 1e3 * this.player.getCurrentTime()\n          };\n        }\n      }, {\n        key: \"retrieveMetadata\",\n        value: function value() {\n          var e = this;\n          return new Promise(function (t, a) {\n            var n = e.player.getVideoData(),\n                r = e.player.getPlaylist() || [n.video_id],\n                o = r.join();\n            (0, i.default)(\"https://www.googleapis.com/youtube/v3/videos?id=\" + o + \"&part=snippet,contentDetails&key=\" + e.apiKey).then(function (e) {\n              if (!e.ok) {\n                var t = new Error(\"Segment request to Youtube API failed (likely due to a bad API Key. Events will still be sent but will not contain video metadata)\");\n                throw t.response = e, t;\n              }\n\n              return e.json();\n            }).then(function (a) {\n              e.metadata = [];\n\n              for (var n = 0, i = 0; i < r.length; i++) {\n                var o = a.items[i];\n                e.metadata.push({\n                  content: {\n                    title: o.snippet.title,\n                    description: o.snippet.description,\n                    keywords: o.snippet.tags,\n                    channel: o.snippet.channelTitle,\n                    airdate: o.snippet.publishedAt\n                  }\n                }), n += l(o.contentDetails.duration);\n              }\n\n              for (i = 0; i < r.length; i++) {\n                e.metadata[i].playback = {\n                  total_length: n,\n                  video_player: \"youtube\"\n                };\n              }\n\n              t();\n            }).catch(function (t) {\n              e.metadata = r.map(function (e) {\n                return {\n                  playback: {\n                    video_player: \"youtube\"\n                  },\n                  content: {}\n                };\n              }), a(t);\n            });\n          });\n        }\n      }, {\n        key: \"handleBuffer\",\n        value: function value() {\n          var e = this.determineSeek();\n          this.playbackStarted || (this.playbackStarted = !0, this.track(\"Video Playback Started\", this.metadata[this.playlistIndex].playback)), e && !this.isSeeking && (this.isSeeking = !0, this.track(\"Video Playback Seek Started\", this.metadata[this.playlistIndex].playback)), this.isSeeking && (this.track(\"Video Playback Seek Completed\", this.metadata[this.playlistIndex].playback), this.isSeeking = !1);\n          var t = this.player.getPlaylist();\n          t && 0 === this.player.getCurrentTime() && this.player.getPlaylistIndex() !== this.playlistIndex && (this.contentStarted = !1, this.playlistIndex === t.length - 1 && 0 === this.player.getPlaylistIndex() && (this.track(\"Video Playback Completed\", this.metadata[this.player.getPlaylistIndex()].playback), this.track(\"Video Playback Started\", this.metadata[this.player.getPlaylistIndex()].playback))), this.track(\"Video Playback Buffer Started\", this.metadata[this.playlistIndex].playback), this.isBuffering = !0;\n        }\n      }, {\n        key: \"handlePlay\",\n        value: function value() {\n          this.contentStarted || (this.playlistIndex = this.player.getPlaylistIndex(), -1 === this.playlistIndex && (this.playlistIndex = 0), this.track(\"Video Content Started\", this.metadata[this.playlistIndex].content), this.contentStarted = !0), this.isBuffering && (this.track(\"Video Playback Buffer Completed\", this.metadata[this.playlistIndex].playback), this.isBuffering = !1), this.isPaused && (this.track(\"Video Playback Resumed\", this.metadata[this.playlistIndex].playback), this.isPaused = !1);\n        }\n      }, {\n        key: \"handlePause\",\n        value: function value() {\n          var e = this.determineSeek();\n          this.isBuffering && (this.track(\"Video Playback Buffer Completed\", this.metadata[this.playlistIndex].playback), this.isBuffering = !1), this.isPaused || (e ? (this.track(\"Video Playback Seek Started\", this.metadata[this.playlistIndex].playback), this.isSeeking = !0) : (this.track(\"Video Playback Paused\", this.metadata[this.playlistIndex].playback), this.isPaused = !0));\n        }\n      }, {\n        key: \"handleEnd\",\n        value: function value() {\n          this.track(\"Video Content Completed\", this.metadata[this.playlistIndex].content), this.contentStarted = !1;\n          var e = this.player.getPlaylistIndex(),\n              t = this.player.getPlaylist();\n          (t && e === t.length - 1 || -1 === e) && (this.track(\"Video Playback Completed\", this.metadata[this.playlistIndex].playback), this.playbackStarted = !1);\n        }\n      }, {\n        key: \"determineSeek\",\n        value: function value() {\n          var e = this.isPaused || this.isBuffering ? 0 : Date.now() - this.lastRecordedTime.timeReported,\n              t = 1e3 * this.player.getCurrentTime() - this.lastRecordedTime.timeElapsed;\n          return Math.abs(e - t) > 2e3;\n        }\n      }]), t;\n    }(r.default);\n\n    function l(e) {\n      var t = e.match(/PT(\\d+H)?(\\d+M)?(\\d+S)?/);\n      return t = t.slice(1).map(function (e) {\n        if (null != e) return e.replace(/\\D/, \"\");\n      }), 3600 * (parseInt(t[0]) || 0) + 60 * (parseInt(t[1]) || 0) + (parseInt(t[2]) || 0);\n    }\n\n    t.default = s;\n  }]);\n});"]}}